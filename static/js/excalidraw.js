(function(){
shadow$provide[296]=function(ra,W,Ha,O){var C=W(1);!function(I,x){"object"==typeof O&&"object"==typeof Ha?Ha.exports=x(W(6),W(15)):"function"==typeof define&&define.amd?define(["react","react-dom"],x):"object"==typeof O?O.Excalidraw=x(W(6),W(15)):I.Excalidraw=x(I.React,I.ReactDOM)}(self,function(I,x){return(()=>{function w(J){if(b[J])return b[J].exports;var r=b[J]={id:J,exports:{}};return F[J](r,r.exports,w),r.exports}var u,v,y,F={5374:J=>{function r(m,D,L,N,R,la,Z){try{var T=m[la](Z),Y=T.value}catch(V){return void L(V)}T.done?
D(Y):Promise.resolve(Y).then(N,R)}J.exports=function(m){return function(){var D=this,L=arguments;return new Promise(function(N,R){function la(Y){r(T,N,R,la,Z,"next",Y)}function Z(Y){r(T,N,R,la,Z,"throw",Y)}var T=m.apply(D,L);la(void 0)})}}},566:J=>{J.exports=function(r,m,D){return m in r?Object.defineProperty(r,m,{value:D,enumerable:!0,configurable:!0,writable:!0}):r[m]=D,r}},6950:J=>{function r(){return J.exports=r=Object.assign||function(m){for(var D=1;D<arguments.length;D++){var L=arguments[D],
N;for(N in L)Object.prototype.hasOwnProperty.call(L,N)&&(m[N]=L[N])}return m},r.apply(this,arguments)}J.exports=r},5474:(J,r,m)=>{var D=m(8387);J.exports=function(L,N){if(null==L)return{};var R,la=D(L,N);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(L);for(R=0;R<Z.length;R++){var T=Z[R];0<=N.indexOf(T)||Object.prototype.propertyIsEnumerable.call(L,T)&&(la[T]=L[T])}}return la}},8387:J=>{J.exports=function(r,m){if(null==r)return{};var D,L={},N=Object.keys(r);for(D=0;D<N.length;D++){var R=
N[D];0<=m.indexOf(R)||(L[R]=r[R])}return L}},6009:(J,r,m)=>{r=m(487);m=m(8328);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},1395:(J,r,m)=>{r=m(487);m=m(6121);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},3211:(J,r,m)=>{r=m(487);m=m(2510);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||
{}},5574:(J,r,m)=>{r=m(487);m=m(7972);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},4518:(J,r,m)=>{r=m(487);m=m(190);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},3040:(J,r,m)=>{r=m(487);m=m(6718);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},8623:(J,r,m)=>{r=m(487);m=m(3623);
"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},4193:(J,r,m)=>{r=m(487);m=m(103);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},341:(J,r,m)=>{r=m(487);m=m(7061);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},9705:(J,r,m)=>{r=m(487);m=m(1498);"string"==typeof(m=m.__esModule?m.default:
m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},7143:(J,r,m)=>{r=m(487);m=m(666);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},7428:(J,r,m)=>{r=m(487);m=m(849);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},8465:(J,r,m)=>{r=m(487);m=m(6915);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",
singleton:!1});J.exports=m.locals||{}},8680:(J,r,m)=>{r=m(487);m=m(7030);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},205:(J,r,m)=>{r=m(487);m=m(3994);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},8416:(J,r,m)=>{r=m(487);m=m(700);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||
{}},2816:(J,r,m)=>{r=m(487);m=m(287);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},1575:(J,r,m)=>{r=m(487);m=m(5657);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},7287:(J,r,m)=>{r=m(487);m=m(7392);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},8518:(J,r,m)=>{r=m(487);m=m(6065);
"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},5849:(J,r,m)=>{r=m(487);m=m(83);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},9478:(J,r,m)=>{r=m(487);m=m(1554);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},2680:(J,r,m)=>{r=m(487);m=m(1970);"string"==typeof(m=m.__esModule?m.default:
m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},3142:(J,r,m)=>{r=m(487);m=m(961);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},8234:(J,r,m)=>{r=m(487);m=m(4878);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},4651:(J,r,m)=>{r=m(487);m=m(1988);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",
singleton:!1});J.exports=m.locals||{}},2189:(J,r,m)=>{r=m(487);m=m(3245);"string"==typeof(m=m.__esModule?m.default:m)&&(m=[[J.id,m,""]]);r(m,{insert:"head",singleton:!1});J.exports=m.locals||{}},487:(J,r,m)=>{function D(pa){for(var ia=-1,ha=0;ha<V.length;ha++)if(V[ha].identifier===pa){ia=ha;break}return ia}function L(pa,ia){for(var ha={},ka=[],ya=0;ya<pa.length;ya++){var fa=pa[ya],P=ia.base?fa[0]+ia.base:fa[0],aa=ha[P]||0,U="".concat(P," ").concat(aa);ha[P]=aa+1;P=D(U);fa={css:fa[1],media:fa[2],sourceMap:fa[3]};
-1!==P?(V[P].references++,V[P].updater(fa)):V.push({identifier:U,updater:Z(fa,ia),references:1});ka.push(U)}return ka}function N(pa){var ia=document.createElement("style"),ha=pa.attributes||{};if(void 0===ha.nonce){var ka=m.nc;ka&&(ha.nonce=ka)}if(Object.keys(ha).forEach(function(ya){ia.setAttribute(ya,ha[ya])}),"function"==typeof pa.insert)pa.insert(ia);else{pa=Y(pa.insert||"head");if(!pa)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
pa.appendChild(ia)}return ia}function R(pa,ia,ha,ka){ha=ha?"":ka.media?"@media ".concat(ka.media," {").concat(ka.css,"}"):ka.css;pa.styleSheet?pa.styleSheet.cssText=Ma(ia,ha):(ha=document.createTextNode(ha),ka=pa.childNodes,ka[ia]&&pa.removeChild(ka[ia]),ka.length?pa.insertBefore(ha,ka[ia]):pa.appendChild(ha))}function la(pa,ia,ha){ia=ha.css;var ka=ha.media;ha=ha.sourceMap;if(ka?pa.setAttribute("media",ka):pa.removeAttribute("media"),ha&&"undefined"!=typeof btoa&&(ia+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(ha)))),
" */")),pa.styleSheet)pa.styleSheet.cssText=ia;else{for(;pa.firstChild;)pa.removeChild(pa.firstChild);pa.appendChild(document.createTextNode(ia))}}function Z(pa,ia){if(ia.singleton){var ha=Aa++;var ka=ca||(ca=N(ia));var ya=R.bind(null,ka,ha,!1);var fa=R.bind(null,ka,ha,!0)}else ka=N(ia),ya=la.bind(null,ka,ia),fa=function(){if(null===ka.parentNode)var P=!1;else ka.parentNode.removeChild(ka),P=void 0;!P};return ya(pa),function(P){P?(P.css!==pa.css||P.media!==pa.media||P.sourceMap!==pa.sourceMap)&&ya(pa=
P):fa()}}var T,Y=function(){var pa={};return function(ia){if(void 0===pa[ia]){var ha=document.querySelector(ia);if(window.HTMLIFrameElement&&ha instanceof window.HTMLIFrameElement)try{ha=ha.contentDocument.head}catch(ka){ha=null}pa[ia]=ha}return pa[ia]}}(),V=[],za,Ma=(za=[],function(pa,ia){return za[pa]=ia,za.filter(Boolean).join("\n")}),ca=null,Aa=0;J.exports=function(pa,ia){(ia=ia||{}).singleton||"boolean"==typeof ia.singleton||(ia.singleton=(void 0===T&&(T=!(!(window&&document&&document.all)||
window.atob)),T));var ha=L(pa=pa||[],ia);return function(ka){if(ka=ka||[],"[object Array]"===Object.prototype.toString.call(ka)){for(var ya=0;ya<ha.length;ya++){var fa=D(ha[ya]);V[fa].references--}ka=L(ka,ia);for(ya=0;ya<ha.length;ya++)fa=D(ha[ya]),0===V[fa].references&&(V[fa].updater(),V.splice(fa,1));ha=ka}}}},2829:J=>{J.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:J=>{J.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(J,r,m)=>{function D(N){if(!m.o(L,N))return Promise.resolve().then(()=>
{var Z=Error("Cannot find module '"+N+"'");throw Z.code="MODULE_NOT_FOUND",Z;});var R=L[N],la=R[0];return Promise.all(R.slice(1).map(m.e)).then(()=>m.t(la,3))}var L={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};D.keys=()=>Object.keys(L);D.id=788;J.exports=D},7154:J=>{function r(){return J.exports=r=Object.assign||function(m){for(var D=1;D<arguments.length;D++){var L=arguments[D],N;for(N in L)Object.prototype.hasOwnProperty.call(L,N)&&(m[N]=L[N])}return m},r.apply(this,arguments)}J.exports=r},6479:(J,r,m)=>{var D=m(7316);J.exports=function(L,N){if(null==L)return{};var R,la=D(L,N);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(L);
for(R=0;R<Z.length;R++){var T=Z[R];0<=N.indexOf(T)||Object.prototype.propertyIsEnumerable.call(L,T)&&(la[T]=L[T])}}return la}},7316:J=>{J.exports=function(r,m){if(null==r)return{};var D,L={},N=Object.keys(r);for(D=0;D<N.length;D++){var R=N[D];0<=m.indexOf(R)||(L[R]=r[R])}return L}},8328:(J,r,m)=>{m.r(r);m.d(r,{default:()=>N});r=m(3645);var D=m.n(r);r=m(1667);r=m.n(r);var L=m(7464);m=m(9638);D=D()(function(R){return R[1]});L=r()(L.Z);m=r()(m.Z);D.push([J.id,'@font-face{font-family:"Virgil";src:url('+
L+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+m+");font-display:swap}",""]);const N=D},6121:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const D=m},2510:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const D=m},7972:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const D=m},190:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const D=m},6718:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const D=m},3623:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const D=m},103:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const D=m},7061:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);
m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const D=m},1498:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const D=m},666:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const D=m},849:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const D=m},6915:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});
r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const D=m},7030:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const D=m},3994:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const D=m},700:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const D=m},287:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const D=m},5657:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const D=m},7392:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const D=m},6065:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const D=m},83:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const D=m},1554:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const D=m},1970:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const D=m},961:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const D=m},4878:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const D=m},1988:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const D=m},3245:(J,r,m)=>{m.r(r);m.d(r,{default:()=>D});r=m(3645);m=m.n(r)()(function(L){return L[1]});m.push([J.id,"",""]);m.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const D=m},3645:J=>{J.exports=function(r){var m=[];return m.toString=function(){return this.map(function(D){var L=r(D);return D[2]?"@media ".concat(D[2]," {").concat(L,"}"):L}).join("")},m.i=function(D,L,N){"string"==typeof D&&(D=[[null,
D,""]]);var R={};if(N)for(var la=0;la<this.length;la++){var Z=this[la][0];null!=Z&&(R[Z]=!0)}for(la=0;la<D.length;la++)Z=[].concat(D[la]),N&&R[Z[0]]||(L&&(Z[2]?Z[2]="".concat(L," and ").concat(Z[2]):Z[2]=L),m.push(Z))},m}},1667:J=>{J.exports=function(r,m){return m||(m={}),"string"!=typeof(r=r&&r.__esModule?r.default:r)?r:(/^['"].*['"]$/.test(r)&&(r=r.slice(1,-1)),m.hash&&(r+=m.hash),/["'() \t\n]/.test(r)||m.needQuotes?'"'.concat(r.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):r)}},9638:(J,r,m)=>{m.d(r,
{Z:()=>D});const D=m.p+"excalidraw-assets/Cascadia.woff2"},7464:(J,r,m)=>{m.d(r,{Z:()=>D});const D=m.p+"excalidraw-assets/Virgil.woff2"},8288:(J,r,m)=>{m.d(r,{iC:()=>L,f:()=>N,qx:()=>R,Iw:()=>la,$e:()=>Z,wZ:()=>T,ay:()=>Y,oc:()=>V,Oh:()=>za,Ks:()=>D,Vi:()=>Ma,$C:()=>ca,ut:()=>Aa,_D:()=>pa,n5:()=>ia,rk:()=>ha,Hg:()=>ka,hs:()=>ya,eQ:()=>fa,k:()=>P,LO:()=>aa,I:()=>U,Gj:()=>va,nM:()=>Va,Lg:()=>Da,HM:()=>La,V4:()=>$a,EH:()=>Pa,Gi:()=>tb});var D;J=m(2189);m=m.n(J);var L="Excalidraw",N=10,R=8,la=5,Z=1,T=
30,Y=Math.PI/12,V={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},za={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Ib){Ib.COPY="copy";Ib.PASTE="paste";Ib.CUT="cut";Ib.KEYDOWN="keydown";Ib.KEYUP="keyup";Ib.MOUSE_MOVE="mousemove";Ib.RESIZE="resize";Ib.UNLOAD="unload";Ib.BLUR="blur";Ib.DRAG_OVER="dragover";Ib.DROP="drop";Ib.GESTURE_END="gestureend";Ib.BEFORE_UNLOAD="beforeunload";Ib.GESTURE_START="gesturestart";Ib.GESTURE_CHANGE="gesturechange";Ib.POINTER_MOVE=
"pointermove";Ib.POINTER_UP="pointerup";Ib.STATE_CHANGE="statechange";Ib.WHEEL="wheel";Ib.TOUCH_START="touchstart";Ib.TOUCH_END="touchend";Ib.HASHCHANGE="hashchange";Ib.VISIBILITY_CHANGE="visibilitychange";Ib.SCROLL="scroll"}(D||(D={}));var Ma={TEST:"test",DEVELOPMENT:"development"},ca={SHAPE_ACTIONS_MENU:"App-menu__left"},Aa={1:"Virgil",2:"Helvetica",3:"Cascadia"},pa="Segoe UI Emoji",ia=20,ha=1,ka="left",ya="top",fa="{version}",P=20,aa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
U={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},va=300,Va=500,Da=5E3,La=100,$a=.1,Pa={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},tb=m().appearanceFilter},3956:(J,r,m)=>{function D(d,g){return Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)}function L(d,g,h){return[d[0]+(g[0]-d[0])*h,d[1]+(g[1]-d[1])*h]}function N(d,g,h,n){n=n||[];{var z=d[g+0],G=d[g+1];var X=d[g+2];const oa=d[g+3];var S=3*G[0]-2*z[0]-oa[0];S*=S;G=3*G[1]-2*z[1]-oa[1];G*=G;let Na=3*X[0]-2*oa[0]-z[0];Na*=Na;z=3*X[1]-2*oa[1]-z[1];X=(z*=
z,S<Na&&(S=Na),G<z&&(G=z),S+G)}X<h?(h=d[g+0],n.length?1<(da=n[n.length-1],ua=h,Math.sqrt(D(da,ua)))&&n.push(h):n.push(h),n.push(d[g+3])):(da=d[g+0],S=d[g+1],ua=d[g+2],d=d[g+3],g=L(da,S,.5),G=L(S,ua,.5),ua=L(ua,d,.5),S=L(g,G,.5),G=L(G,ua,.5),z=L(S,G,.5),N([da,g,S,z],0,h,n),N([z,G,ua,d],0,h,n));var da,ua;return n}function R(d,g){return la(d,0,d.length,g)}function la(d,g,h,n,z){z=z||[];const G=d[g],X=d[h-1];let S=0,da=1;for(let Ta=g+1;Ta<h-1;++Ta){var ua=d[Ta];var oa=G,Na=X,Sa=D(oa,Na);0===Sa?ua=D(ua,
oa):(Sa=((ua[0]-oa[0])*(Na[0]-oa[0])+(ua[1]-oa[1])*(Na[1]-oa[1]))/Sa,ua=(Sa=Math.max(0,Math.min(1,Sa)),D(ua,L(oa,Na,Sa))));ua>S&&(S=ua,da=Ta)}return Math.sqrt(S)>n?(la(d,g,da+1,n,z),la(d,da,h,n,z)):(z.length||z.push(G),z.push(X)),z}function Z(d,g=.15,h){const n=[],z=(d.length-1)/3;for(let G=0;G<z;G++)N(d,3*G,g,n);return h&&0<h?la(n,0,n.length,h):n}function T(d,g,h){if(d&&d.length){const [n,z]=g;g=Math.PI/180*h;const G=Math.cos(g),X=Math.sin(g);d.forEach(S=>{const [da,ua]=S;S[0]=(da-n)*G-(ua-z)*X+
n;S[1]=(da-n)*X+(ua-z)*G+z})}}function Y(d){const g=d[0];d=d[1];return Math.sqrt(Math.pow(g[0]-d[0],2)+Math.pow(g[1]-d[1],2))}function V(d,g,h,n){const z=g[1]-d[1];g=d[0]-g[0];d=z*d[0]+g*d[1];const G=n[1]-h[1];n=h[0]-n[0];h=G*h[0]+n*h[1];const X=z*n-G*g;return X?[(n*d-g*h)/X,(z*h-G*d)/X]:null}function za(d,g,h){const n=d.length;if(3>n)return!1;const z=[Number.MAX_SAFE_INTEGER,h];g=[g,h];h=0;for(let G=0;G<n;G++){const X=d[G],S=d[(G+1)%n];if(Aa(X,S,g,z)){if(0===ca(X,g,S))return Ma(X,g,S);h++}}return 1==
h%2}function Ma(d,g,h){return g[0]<=Math.max(d[0],h[0])&&g[0]>=Math.min(d[0],h[0])&&g[1]<=Math.max(d[1],h[1])&&g[1]>=Math.min(d[1],h[1])}function ca(d,g,h){d=(g[1]-d[1])*(h[0]-g[0])-(g[0]-d[0])*(h[1]-g[1]);return 0===d?0:0<d?1:2}function Aa(d,g,h,n){const z=ca(d,g,h),G=ca(d,g,n),X=ca(h,n,d),S=ca(h,n,g);return z!==G&&X!==S||!(0!==z||!Ma(d,h,g))||!(0!==G||!Ma(d,n,g))||!(0!==X||!Ma(h,d,n))||!(0!==S||!Ma(h,g,n))}function pa(d,g){const h=[0,0],n=Math.round(g.hachureAngle+90);n&&T(d,h,n);g=function(z,G){var X=
[...z];X[0].join(",")!==X[X.length-1].join(",")&&X.push([X[0][0],X[0][1]]);z=[];if(X&&2<X.length){let da=G.hachureGap;0>da&&(da=4*G.strokeWidth);da=Math.max(da,.1);G=[];for(var S=0;S<X.length-1;S++){const Na=X[S],Sa=X[S+1];if(Na[1]!==Sa[1]){const Ta=Math.min(Na[1],Sa[1]);G.push({ymin:Ta,ymax:Math.max(Na[1],Sa[1]),x:Ta===Na[1]?Na[0]:Sa[0],islope:(Sa[0]-Na[0])/(Sa[1]-Na[1])})}}if(G.sort((Na,Sa)=>Na.ymin<Sa.ymin?-1:Na.ymin>Sa.ymin?1:Na.x<Sa.x?-1:Na.x>Sa.x?1:Na.ymax===Sa.ymax?0:(Na.ymax-Sa.ymax)/Math.abs(Na.ymax-
Sa.ymax)),!G.length)return z;let ua=[],oa=G[0].ymin;for(;ua.length||G.length;){if(G.length){X=-1;for(S=0;S<G.length&&!(G[S].ymin>oa);S++)X=S;G.splice(0,X+1).forEach(Na=>{ua.push({s:oa,edge:Na})})}if(ua=ua.filter(Na=>!(Na.edge.ymax<=oa)),ua.sort((Na,Sa)=>Na.edge.x===Sa.edge.x?0:(Na.edge.x-Sa.edge.x)/Math.abs(Na.edge.x-Sa.edge.x)),1<ua.length)for(X=0;X<ua.length;X+=2){S=X+1;if(S>=ua.length)break;z.push([[Math.round(ua[X].edge.x),oa],[Math.round(ua[S].edge.x),oa]])}oa+=da;ua.forEach(Na=>{Na.edge.x+=
da*Na.edge.islope})}}return z}(d,g);return n&&(T(d,h,-n),function(z,G,X){const S=[];z.forEach(da=>S.push(...da));T(S,G,X)}(g,h,-n)),g}function ia(d){const g=[];a:{var h=d;for(var n=[];""!==h;){if(!h.match(/^([ \t\r\n,]+)/))if(h.match(/^([aAcChHlLmMqQsStTvVzZ])/))n[n.length]={type:0,text:RegExp.$1};else{if(!h.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){h=[];break a}n[n.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}h=h.substr(RegExp.$1.length)}h=(n[n.length]={type:2,text:""},
n)}n="BOD";let z=0;for(var G=h[z];2!==G.type;){let X=0;const S=[];if("BOD"===n){if("M"!==G.text&&"m"!==G.text)return ia("M0,0"+d);z++;X=$d[G.text];n=G.text}else 1===G.type?X=$d[n]:(z++,X=$d[G.text],n=G.text);if(!(z+X<h.length))throw Error("Path data ended short");for(G=z;G<z+X;G++){const da=h[G];if(1!==da.type)throw Error("Param not a number: "+n+","+da.text);S[S.length]=+da.text}if("number"!=typeof $d[n])throw Error("Bad segment: "+n);g.push({key:n,data:S});z+=X;G=h[z];"M"===n&&(n="L");"m"===n&&
(n="l")}return g}function ha(d){let g=0,h=0,n=0,z=0;const G=[];for(const {key:X,data:S}of d)switch(X){case "M":G.push({key:"M",data:[...S]});[g,h]=S;[n,z]=S;break;case "m":g+=S[0];h+=S[1];G.push({key:"M",data:[g,h]});n=g;z=h;break;case "L":G.push({key:"L",data:[...S]});[g,h]=S;break;case "l":g+=S[0];h+=S[1];G.push({key:"L",data:[g,h]});break;case "C":G.push({key:"C",data:[...S]});g=S[4];h=S[5];break;case "c":d=S.map((da,ua)=>ua%2?da+h:da+g);G.push({key:"C",data:d});g=d[4];h=d[5];break;case "Q":G.push({key:"Q",
data:[...S]});g=S[2];h=S[3];break;case "q":d=S.map((da,ua)=>ua%2?da+h:da+g);G.push({key:"Q",data:d});g=d[2];h=d[3];break;case "A":G.push({key:"A",data:[...S]});g=S[5];h=S[6];break;case "a":g+=S[5];h+=S[6];G.push({key:"A",data:[S[0],S[1],S[2],S[3],S[4],g,h]});break;case "H":G.push({key:"H",data:[...S]});g=S[0];break;case "h":g+=S[0];G.push({key:"H",data:[g]});break;case "V":G.push({key:"V",data:[...S]});h=S[0];break;case "v":h+=S[0];G.push({key:"V",data:[h]});break;case "S":G.push({key:"S",data:[...S]});
g=S[2];h=S[3];break;case "s":d=S.map((da,ua)=>ua%2?da+h:da+g);G.push({key:"S",data:d});g=d[2];h=d[3];break;case "T":G.push({key:"T",data:[...S]});g=S[0];h=S[1];break;case "t":g+=S[0];h+=S[1];G.push({key:"T",data:[g,h]});break;case "Z":case "z":G.push({key:"Z",data:[]}),g=n,h=z}return G}function ka(d){const g=[];var h="";let n=0,z=0,G=0,X=0,S=0,da=0;for(const {key:oa,data:Na}of d){switch(oa){case "M":g.push({key:"M",data:[...Na]});[n,z]=Na;[G,X]=Na;break;case "C":g.push({key:"C",data:[...Na]});n=Na[4];
z=Na[5];S=Na[2];da=Na[3];break;case "L":g.push({key:"L",data:[...Na]});[n,z]=Na;break;case "H":n=Na[0];g.push({key:"L",data:[n,z]});break;case "V":z=Na[0];g.push({key:"L",data:[n,z]});break;case "S":var ua=d=0;"C"===h||"S"===h?(d=n+(n-S),ua=z+(z-da)):(d=n,ua=z);g.push({key:"C",data:[d,ua,...Na]});S=Na[0];da=Na[1];n=Na[2];z=Na[3];break;case "T":{const [Sa,Ta]=Na;ua=d=0;"Q"===h||"T"===h?(d=n+(n-S),ua=z+(z-da)):(d=n,ua=z);g.push({key:"C",data:[n+2*(d-n)/3,z+2*(ua-z)/3,Sa+2*(d-Sa)/3,Ta+2*(ua-Ta)/3,Sa,
Ta]});S=d;da=ua;n=Sa;z=Ta;break}case "Q":{const [Sa,Ta,hb,fb]=Na;g.push({key:"C",data:[n+2*(Sa-n)/3,z+2*(Ta-z)/3,hb+2*(Sa-hb)/3,fb+2*(Ta-fb)/3,hb,fb]});S=Sa;da=Ta;n=hb;z=fb;break}case "A":{h=Math.abs(Na[0]);d=Math.abs(Na[1]);ua=Na[2];const Sa=Na[3],Ta=Na[4],hb=Na[5],fb=Na[6];if(0===h||0===d)g.push({key:"C",data:[n,z,hb,fb,hb,fb]}),n=hb,z=fb;else if(n!==hb||z!==fb)fa(n,z,hb,fb,h,d,ua,Sa,Ta).forEach(function(Eb){g.push({key:"C",data:Eb})}),n=hb,z=fb;break}case "Z":g.push({key:"Z",data:[]}),n=G,z=X}h=
oa}return g}function ya(d,g,h){return[d*Math.cos(h)-g*Math.sin(h),d*Math.sin(h)+g*Math.cos(h)]}function fa(d,g,h,n,z,G,X,S,da,ua){const oa=(Na=X,Math.PI*Na/180);var Na;Na=[];if(ua)[S,Sa,Ta,hb]=ua;else{[d,g]=ya(d,g,-oa);[h,n]=ya(h,n,-oa);var Sa=(d-h)/2;var Ta=(g-n)/2;var hb=Sa*Sa/(z*z)+Ta*Ta/(G*G);1<hb&&(hb=Math.sqrt(hb),z*=hb,G*=hb);hb=z*z;var fb=G*G;S=(S===da?-1:1)*Math.sqrt(Math.abs((hb*fb-hb*Ta*Ta-fb*Sa*Sa)/(hb*Ta*Ta+fb*Sa*Sa)));Ta=S*z*Ta/G+(d+h)/2;hb=S*-G*Sa/z+(g+n)/2;S=Math.asin(parseFloat(((g-
hb)/G).toFixed(9)));Sa=Math.asin(parseFloat(((n-hb)/G).toFixed(9)));d<Ta&&(S=Math.PI-S);h<Ta&&(Sa=Math.PI-Sa);0>S&&(S=2*Math.PI+S);0>Sa&&(Sa=2*Math.PI+Sa);da&&S>Sa&&(S-=2*Math.PI);!da&&Sa>S&&(Sa-=2*Math.PI)}if(Math.abs(Sa-S)>120*Math.PI/180){Na=Sa;fb=h;const Eb=n;Sa=da&&Sa>S?S+120*Math.PI/180:S+120*Math.PI/180*-1;Na=fa(h=Ta+z*Math.cos(Sa),n=hb+G*Math.sin(Sa),fb,Eb,z,G,X,0,da,[Sa,Na,Ta,hb])}X=Math.tan((Sa-S)/4);z=4/3*z*X;X*=4/3*G;G=[d,g];d=[d+z*Math.sin(S),g-X*Math.cos(S)];g=[h+z*Math.sin(Sa),n-X*
Math.cos(Sa)];h=[h,n];if(d[0]=2*G[0]-d[0],d[1]=2*G[1]-d[1],ua)return[d,g,h].concat(Na);Na=[d,g,h].concat(Na);ua=[];for(h=0;h<Na.length;h+=3)n=ya(Na[h][0],Na[h][1],oa),d=ya(Na[h+1][0],Na[h+1][1],oa),g=ya(Na[h+2][0],Na[h+2][1],oa),ua.push([n[0],n[1],d[0],d[1],g[0],g[1]]);return ua}function P(d,g,h){const n=(d||[]).length;if(2<n){const z=[];for(let G=0;G<n-1;G++)z.push(...Ib(d[G][0],d[G][1],d[G+1][0],d[G+1][1],h));return g&&z.push(...Ib(d[n-1][0],d[n-1][1],d[0][0],d[0][1],h)),{type:"path",ops:z}}return 2===
n?{type:"path",ops:Ib(d[0][0],d[0][1],d[1][0],d[1][1],h)}:{type:"path",ops:[]}}function aa(d,g){let h=jc(d,1+.2*g.roughness,g);if(!g.disableMultiStroke){var n=1.5*(1+.22*g.roughness);{const z=Object.assign({},g);z.randomizer=void 0;g.seed&&(z.seed=g.seed+1);g=z}d=jc(d,n,g);h=h.concat(d)}return{type:"path",ops:h}}function U(d,g,h){const n=2*Math.PI/Math.max(h.curveStepCount,h.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(g/2,2))/2)));d=Math.abs(d/2);g=Math.abs(g/
2);const z=1-h.curveFitting;return d+=tb(d*z,h),g+=tb(g*z,h),{increment:n,rx:d,ry:g}}function va(d,g,h,n){const [z,G]=tc(n.increment,d,g,n.rx,n.ry,1,n.increment*Pa(.1,Pa(.4,1,h),h),h);let X=Vb(z,null,h);h.disableMultiStroke||([d]=tc(n.increment,d,g,n.rx,n.ry,1.5,0,h),h=Vb(d,null,h),X=X.concat(h));return{estimatedPoints:G,opset:{type:"path",ops:X}}}function Va(d,g,h,n,z,G,X,S,da){h=Math.abs(h/2);n=Math.abs(n/2);h+=tb(.01*h,da);for(n+=tb(.01*n,da);0>z;)z+=2*Math.PI,G+=2*Math.PI;G-z>2*Math.PI&&(z=0,
G=2*Math.PI);var ua=Math.min(2*Math.PI/da.curveStepCount/2,(G-z)/2);const oa=Hc(ua,d,g,h,n,z,G,1,da);da.disableMultiStroke||(ua=Hc(ua,d,g,h,n,z,G,1.5,da),oa.push(...ua));return X&&(S?oa.push(...Ib(d,g,d+h*Math.cos(z),g+n*Math.sin(z),da),...Ib(d,g,d+h*Math.cos(G),g+n*Math.sin(G),da)):oa.push({op:"lineTo",data:[d,g]},{op:"lineTo",data:[d+h*Math.cos(z),g+n*Math.sin(z)]})),{type:"path",ops:oa}}function Da(d,g){const h=[];if(d.length){const n=g.maxRandomnessOffset||0,z=d.length;if(2<z){h.push({op:"move",
data:[d[0][0]+tb(n,g),d[0][1]+tb(n,g)]});for(let G=1;G<z;G++)h.push({op:"lineTo",data:[d[G][0]+tb(n,g),d[G][1]+tb(n,g)]})}}return{type:"fillPath",ops:h}}function La(d,g){{var h=mj;let n=g.fillStyle||"hachure";if(!ef[n])switch(n){case "zigzag":ef[n]||(ef[n]=new vd(h));break;case "cross-hatch":ef[n]||(ef[n]=new Pg(h));break;case "dots":ef[n]||(ef[n]=new Pc(h));break;case "dashed":ef[n]||(ef[n]=new kh(h));break;case "zigzag-line":ef[n]||(ef[n]=new Dh(h));break;default:n="hachure",ef[n]||(ef[n]=new zf(h))}h=
ef[n]}return h.fillPolygon(d,g)}function $a(d){return d.randomizer||(d.randomizer=new Bj(d.seed||0)),d.randomizer.next()}function Pa(d,g,h,n=1){return h.roughness*n*($a(h)*(g-d)+d)}function tb(d,g,h=1){return Pa(-d,d,g,h)}function Ib(d,g,h,n,z,G=!1){const X=G?z.disableMultiStrokeFill:z.disableMultiStroke;G=Wb(d,g,h,n,z,!0,!1);if(X)return G;d=Wb(d,g,h,n,z,!0,!0);return G.concat(d)}function Wb(d,g,h,n,z,G,X){var S=Math.pow(d-h,2)+Math.pow(g-n,2),da=Math.sqrt(S);let ua;ua=200>da?1:500<da?.4:-.0016668*
da+1.233334;let oa=z.maxRandomnessOffset||0;oa*oa*100>S&&(oa=da/10);S=oa/2;da=.2+.2*$a(z);let Na=z.bowing*z.maxRandomnessOffset*(n-g)/200,Sa=z.bowing*z.maxRandomnessOffset*(d-h)/200;Na=tb(Na,z,ua);Sa=tb(Sa,z,ua);const Ta=[];return G&&(X?Ta.push({op:"move",data:[d+tb(S,z,ua),g+tb(S,z,ua)]}):Ta.push({op:"move",data:[d+tb(oa,z,ua),g+tb(oa,z,ua)]})),X?Ta.push({op:"bcurveTo",data:[Na+d+(h-d)*da+tb(S,z,ua),Sa+g+(n-g)*da+tb(S,z,ua),Na+d+2*(h-d)*da+tb(S,z,ua),Sa+g+2*(n-g)*da+tb(S,z,ua),h+tb(S,z,ua),n+tb(S,
z,ua)]}):Ta.push({op:"bcurveTo",data:[Na+d+(h-d)*da+tb(oa,z,ua),Sa+g+(n-g)*da+tb(oa,z,ua),Na+d+2*(h-d)*da+tb(oa,z,ua),Sa+g+2*(n-g)*da+tb(oa,z,ua),h+tb(oa,z,ua),n+tb(oa,z,ua)]}),Ta}function jc(d,g,h){const n=[];n.push([d[0][0]+tb(g,h),d[0][1]+tb(g,h)]);n.push([d[0][0]+tb(g,h),d[0][1]+tb(g,h)]);for(let z=1;z<d.length;z++)n.push([d[z][0]+tb(g,h),d[z][1]+tb(g,h)]),z===d.length-1&&n.push([d[z][0]+tb(g,h),d[z][1]+tb(g,h)]);return Vb(n,null,h)}function Vb(d,g,h){const n=d.length,z=[];if(3<n){const G=[],
X=1-h.curveTightness;z.push({op:"move",data:[d[1][0],d[1][1]]});for(let S=1;S+2<n;S++){const da=d[S];G[0]=[da[0],da[1]];G[1]=[da[0]+(X*d[S+1][0]-X*d[S-1][0])/6,da[1]+(X*d[S+1][1]-X*d[S-1][1])/6];G[2]=[d[S+1][0]+(X*d[S][0]-X*d[S+2][0])/6,d[S+1][1]+(X*d[S][1]-X*d[S+2][1])/6];G[3]=[d[S+1][0],d[S+1][1]];z.push({op:"bcurveTo",data:[G[1][0],G[1][1],G[2][0],G[2][1],G[3][0],G[3][1]]})}g&&2===g.length&&(d=h.maxRandomnessOffset,z.push({op:"lineTo",data:[g[0]+tb(d,h),g[1]+tb(d,h)]}))}else 3===n?(z.push({op:"move",
data:[d[1][0],d[1][1]]}),z.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===n&&z.push(...Ib(d[0][0],d[0][1],d[1][0],d[1][1],h));return z}function tc(d,g,h,n,z,G,X,S){const da=[],ua=[],oa=tb(.5,S)-Math.PI/2;ua.push([tb(G,S)+g+.9*n*Math.cos(oa-d),tb(G,S)+h+.9*z*Math.sin(oa-d)]);for(let Na=oa;Na<2*Math.PI+oa-.01;Na+=d){const Sa=[tb(G,S)+g+n*Math.cos(Na),tb(G,S)+h+z*Math.sin(Na)];da.push(Sa);ua.push(Sa)}return ua.push([tb(G,S)+g+n*Math.cos(oa+2*Math.PI+.5*X),tb(G,S)+h+
z*Math.sin(oa+2*Math.PI+.5*X)]),ua.push([tb(G,S)+g+.98*n*Math.cos(oa+X),tb(G,S)+h+.98*z*Math.sin(oa+X)]),ua.push([tb(G,S)+g+.9*n*Math.cos(oa+.5*X),tb(G,S)+h+.9*z*Math.sin(oa+.5*X)]),[ua,da]}function Hc(d,g,h,n,z,G,X,S,da){var ua=G+tb(.1,da);G=[];for(G.push([tb(S,da)+g+.9*n*Math.cos(ua-d),tb(S,da)+h+.9*z*Math.sin(ua-d)]);ua<=X;ua+=d)G.push([tb(S,da)+g+n*Math.cos(ua),tb(S,da)+h+z*Math.sin(ua)]);return G.push([g+n*Math.cos(X),h+z*Math.sin(X)]),G.push([g+n*Math.cos(X),h+z*Math.sin(X)]),Vb(G,null,da)}
function Yb(d,g,h,n,z,G,X,S){const da=[],ua=[S.maxRandomnessOffset||1,(S.maxRandomnessOffset||1)+.3];let oa;const Na=S.disableMultiStroke?1:2;for(let Sa=0;Sa<Na;Sa++)0===Sa?da.push({op:"move",data:[X[0],X[1]]}):da.push({op:"move",data:[X[0]+tb(ua[0],S),X[1]+tb(ua[0],S)]}),oa=[z+tb(ua[Sa],S),G+tb(ua[Sa],S)],da.push({op:"bcurveTo",data:[d+tb(ua[Sa],S),g+tb(ua[Sa],S),h+tb(ua[Sa],S),n+tb(ua[Sa],S),oa[0],oa[1]]});return da}function pc(d){var g,h,n="";if("string"==typeof d||"number"==typeof d)n+=d;else if("object"==
typeof d)if(Array.isArray(d))for(g=0;g<d.length;g++)d[g]&&(h=pc(d[g]))&&(n&&(n+=" "),n+=h);else for(g in d)d[g]&&(n&&(n+=" "),n+=g);return n}function hc(){for(var d,g,h=0,n="";h<arguments.length;)(d=arguments[h++])&&(g=pc(d))&&(n&&(n+=" "),n+=g);return n}function Yc(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function ib(d){for(var g=
1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Yc(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Yc(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Lb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,
z).enumerable}));h.push.apply(h,n)}return h}function wb(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Lb(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Lb(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Ra(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);
g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Ia(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ra(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ra(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Ea(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function wa(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ea(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ea(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,
n))})}return d}function Fa(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Oa(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Fa(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Fa(Object(h)).forEach(function(n){Object.defineProperty(d,
n,Object.getOwnPropertyDescriptor(h,n))})}return d}function pb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function lb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Mb(d){for(var g=
1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?lb(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):lb(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Ob(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,
z).enumerable}));h.push.apply(h,n)}return h}function Zb(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ob(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ob(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Ub(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);
g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function rc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ub(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ub(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function hd(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function kd(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?hd(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):hd(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,
n))})}return d}function Ad(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function ge(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ad(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ad(Object(h)).forEach(function(n){Object.defineProperty(d,
n,Object.getOwnPropertyDescriptor(h,n))})}return d}function ue(d){var g=d.options,h=d.value,n=d.label,z=d.onChange,G=d.onClose,X=sa().useRef(),S=sa().useRef(),da=sa().useRef(null);sa().useEffect(function(){S.current?S.current.focus():da.current&&da.current.focus()},[]);return sa().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":n,onKeyDown:function(ua){var oa=g.find(function(hb){return hb.keyBinding===ua.key.toLowerCase()});if(ua.metaKey||ua.altKey||ua.ctrlKey||
!oa)if("Tab"===ua.key)setTimeout(function(){S.current!==document.activeElement&&G()},0);else if(ye(ua.key)){oa=ie.rtl;if(-1!==(Ta=Array.prototype.indexOf.call(da.current.children,document.activeElement))){var Na=g.length,Sa=Ta;switch(ua.key){case oa?"ArrowLeft":"ArrowRight":case "ArrowDown":Sa=(Ta+1)%Na;break;case oa?"ArrowRight":"ArrowLeft":case "ArrowUp":Sa=(Na+Ta-1)%Na}da.current.children[Sa].focus()}ua.preventDefault()}else"Escape"!==ua.key&&"Enter"!==ua.key||(ua.preventDefault(),G());else{var Ta=
g.indexOf(oa);da.current.children[Ta].focus();ua.preventDefault()}ua.nativeEvent.stopImmediatePropagation()}},sa().createElement("div",{className:"picker-content",ref:da},g.map(function(ua,oa){return sa().createElement("button",{className:"picker-option",onClick:function(Na){Na.currentTarget.focus();z(ua.value)},title:"".concat(ua.text," — ").concat(ua.keyBinding.toUpperCase()),"aria-label":ua.text||"none","aria-keyshortcuts":ua.keyBinding,key:ua.text,ref:function(Na){Na&&0===oa&&(X.current=Na);Na&&
ua.value===h&&(S.current=Na)},onFocus:function(){z(ua.value)}},ua.icon,sa().createElement("span",{className:"picker-keybinding"},ua.keyBinding))})))}function xf(d){var g,h=d.value,n=d.label,z=d.options,G=d.onChange;d=d.group;d=void 0===d?"":d;var X=sa().useState(!1),S=X[0],da=X[1],ua=sa().useRef(null);X=ie.rtl;return sa().createElement("label",{className:"picker-container"},sa().createElement("button",{name:d,className:S?"active":"","aria-label":n,onClick:function(){return da(!S)},ref:ua},null===
(g=z.find(function(oa){return oa.value===h}))||void 0===g?void 0:g.icon),sa().createElement(sa().Suspense,{fallback:""},S?sa().createElement(sa().Fragment,null,sa().createElement(Ja,Jc()({onCloseRequest:function(oa){return oa.target!==ua.current&&da(!1)}},X?{right:5.5}:{left:-5.5}),sa().createElement(ue,{options:z,value:h,label:n,onChange:G,onClose:function(){var oa;da(!1);null===(oa=ua.current)||void 0===oa||oa.focus()}})),sa().createElement("div",{className:"picker-triangle"})):null))}function fi(d,
g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Td(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?fi(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):fi(Object(h)).forEach(function(n){Object.defineProperty(d,
n,Object.getOwnPropertyDescriptor(h,n))})}return d}function rf(){return(0,Kd.useContext)(df)}function Ng(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Wd(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ng(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,
Object.getOwnPropertyDescriptors(h)):Ng(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function sf(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function $f(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?sf(Object(h),!0).forEach(function(n){ce()(d,
n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):sf(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}async function sh(...d){return(await on).default(...d)}async function Sf(...d){return(await rk).default(...d)}function hh(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,
z).enumerable}));h.push.apply(h,n)}return h}function he(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?hh(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):hh(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function sg(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);
g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function ui(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?sg(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):sg(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function cf(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function qe(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?cf(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):cf(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,
n))})}return d}function Bh(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function yf(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Bh(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Bh(Object(h)).forEach(function(n){Object.defineProperty(d,
n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Jf(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function wi(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Jf(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):
Jf(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function jk(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Be(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?jk(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):jk(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function dg(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Od(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?dg(Object(h),
!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):dg(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function $b(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Mc(d){for(var g=1;g<arguments.length;g++){var h=
null!=arguments[g]?arguments[g]:{};g%2?$b(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):$b(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Eg(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,
n)}return h}function ug(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Eg(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Eg(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Ld(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,
z).enumerable}));h.push.apply(h,n)}return h}function We(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ld(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ld(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Ud(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);
g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function zc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ud(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ud(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function nb(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Qa(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?nb(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):nb(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,
n))})}return d}function gb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Pb(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?gb(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):gb(Object(h)).forEach(function(n){Object.defineProperty(d,
n,Object.getOwnPropertyDescriptor(h,n))})}return d}function bc(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Nc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?bc(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):
bc(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function zb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Qb(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?zb(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):zb(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function dc(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Ya(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?dc(Object(h),
!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):dc(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function Uc(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Rd(d){for(var g=1;g<arguments.length;g++){var h=
null!=arguments[g]?arguments[g]:{};g%2?Uc(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Uc(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function ld(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,
n)}return h}function ih(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function Jb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,n)}return h}function jh(d){for(var g=1;g<arguments.length;g++){var h=
null!=arguments[g]?arguments[g]:{};g%2?Jb(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Jb(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}function $g(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);g&&(n=n.filter(function(z){return Object.getOwnPropertyDescriptor(d,z).enumerable}));h.push.apply(h,
n)}return h}function Oc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?$g(Object(h),!0).forEach(function(n){ce()(d,n,h[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):$g(Object(h)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(h,n))})}return d}m.r(r);m.d(r,{default:()=>Np,defaultLang:()=>Rf,getElementMap:()=>xh,getSceneVersion:()=>gf,getSyncableElements:()=>pk,languages:()=>kj,
restore:()=>Il,restoreAppState:()=>Hl,restoreElements:()=>Aj});var Ae=m(7154),Tf=m.n(Ae),Jk=m(6479),xi=m.n(Jk),Kd=m(4698),sa=m.n(Kd),Sb=m(8288);const Pi=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==Sb.Vi.TEST&&(m.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Pi.u2,"@").concat(Pi.i8,"/dist/"));var Sj=m(5374),nd=m.n(Sj),Ff=m(2829),yi=m(2051),Yg=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");
for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<
G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Rf={code:"en",label:"English"},kj=[{code:"ar-SA",
label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},
{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",
label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Rf]).sort(function(d,g){return d.label>g.label?1:-1}).filter(function(d){return 85<=yi[d.code]});"production"===Sb.Vi.DEVELOPMENT&&kj.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var te,ie=Rf,Fg={},uf=function(){var d=nd()(function(g){return Yg(this,function(h){switch(h.label){case 0:return ie=g,document.documentElement.dir=ie.rtl?"rtl":
"ltr",document.documentElement.lang=ie.code,g.code.startsWith("__test__")?(Fg={},[3,3]):[3,1];case 1:return[4,m(788)("./".concat(ie.code,".json"))];case 2:Fg=h.sent(),h.label=3;case 3:return[2]}})});return function(g){return d.apply(this,arguments)}}(),vf=function(d,g){for(var h=0;h<g.length;++h){var n=g[h];if(void 0===d[n])return;d=d[n]}if("string"==typeof d)return d},jb=function(d,g){if(ie.code.startsWith("__test__"))return d=g?"".concat(d,"(").concat(JSON.stringify(g).slice(1,-1),")"):d,"‪[[".concat(d,
"]]‬");var h=d.split(".");h=vf(Fg,h)||vf(Ff,h);if(void 0===h)throw Error("Can't find translation for ".concat(d));if(g)for(var n in g)h=h.replace("{{".concat(n,"}}"),g[n]);return h},Je=function(){return sa().createElement("div",{className:"LoadingMessage"},sa().createElement("span",null,jb("labels.loadingScene")))},ah=(te=function(d,g){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,n){h.__proto__=n}||function(h,n){for(var z in n)Object.prototype.hasOwnProperty.call(n,
z)&&(h[z]=n[z])})(d,g)},function(d,g){function h(){this.constructor=d}if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");te(d,g);d.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)}),re=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,
oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();
continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},zj=function(d){function g(){for(var h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];var z;n=this;return z=n=d.apply(this,h)||this,n.state={isLoading:!0},
z}return ah(g,d),g.prototype.componentDidMount=function(){var h=this;return nd()(function(){var n;return re(this,function(z){switch(z.label){case 0:return n=kj.find(function(G){return G.code===h.props.langCode})||Rf,[4,uf(n)];case 1:return z.sent(),h.setState({isLoading:!1}),[2]}})})()},g.prototype.render=function(){return this.state.isLoading?sa().createElement(Je,null):this.props.children},g}(sa().Component),Ch=m(566),ce=m.n(Ch);class zf{constructor(d){this.helper=d}fillPolygon(d,g){return this._fillPolygon(d,
g)}_fillPolygon(d,g,h=!1){let n=pa(d,g);h&&(d=this.connectingLines(d,n),n=n.concat(d));return{type:"fillSketch",ops:this.renderLines(n,g)}}renderLines(d,g){const h=[];for(const n of d)h.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],g));return h}connectingLines(d,g){const h=[];if(1<g.length)for(let z=1;z<g.length;z++){var n=g[z-1];3>Y(n)||(n=[g[z][0],n[1]],3<Y(n)&&(n=this.splitOnIntersections(d,n),h.push(...n)))}return h}midPointInPolygon(d,g){return za(d,(g[0][0]+g[1][0])/2,(g[0][1]+
g[1][1])/2)}splitOnIntersections(d,g){var h=Math.max(5,.1*Y(g)),n=[];for(var z=0;z<d.length;z++){var G=d[z],X=d[(z+1)%d.length];if(Aa(G,X,...g)&&(G=V(G,X,g[0],g[1]))){X=Y([G,g[0]]);const S=Y([G,g[1]]);X>h&&S>h&&n.push({point:G,distance:X})}}if(1<n.length){h=n.sort((S,da)=>S.distance-da.distance).map(S=>S.point);if(za(d,...g[0])||h.shift(),za(d,...g[1])||h.pop(),1>=h.length)return this.midPointInPolygon(d,g)?[g]:[];g=[g[0],...h,g[1]];h=[];for(n=0;n<g.length-1;n+=2)z=[g[n],g[n+1]],this.midPointInPolygon(d,
z)&&h.push(z);return h}return this.midPointInPolygon(d,g)?[g]:[]}}class vd extends zf{fillPolygon(d,g){return this._fillPolygon(d,g,!0)}}class Pg extends zf{fillPolygon(d,g){const h=this._fillPolygon(d,g);g=Object.assign({},g,{hachureAngle:g.hachureAngle+90});d=this._fillPolygon(d,g);return h.ops=h.ops.concat(d.ops),h}}class Pc{constructor(d){this.helper=d}fillPolygon(d,g){d=pa(d,g=Object.assign({},g,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,g)}dotsOnLines(d,g){const h=
[];let n=g.hachureGap;0>n&&(n=4*g.strokeWidth);n=Math.max(n,.1);let z=g.fillWeight;0>z&&(z=g.strokeWidth/2);const G=n/4;for(const ua of d){var X=Y(ua);d=Math.ceil(X/n)-1;X-=d*n;const oa=(ua[0][0]+ua[1][0])/2-n/4,Na=Math.min(ua[0][1],ua[1][1]);for(let Sa=0;Sa<d;Sa++){var S=Na+X+Sa*n,da=this.helper.randOffsetWithRange(oa-G,oa+G,g);S=this.helper.randOffsetWithRange(S-G,S+G,g);da=this.helper.ellipse(da,S,z,z,g);h.push(...da.ops)}}return{type:"fillSketch",ops:h}}}class kh{constructor(d){this.helper=d}fillPolygon(d,
g){d=pa(d,g);return{type:"fillSketch",ops:this.dashedLine(d,g)}}dashedLine(d,g){const h=0>g.dashOffset?0>g.hachureGap?4*g.strokeWidth:g.hachureGap:g.dashOffset,n=0>g.dashGap?0>g.hachureGap?4*g.strokeWidth:g.hachureGap:g.dashGap,z=[];return d.forEach(G=>{var X=Y(G);const S=Math.floor(X/(h+n));X=(X+n-S*(h+n))/2;let da=G[0];var ua=G[1];da[0]>ua[0]&&(da=G[1],ua=G[0]);G=Math.atan((ua[1]-da[1])/(ua[0]-da[0]));for(ua=0;ua<S;ua++){var oa=ua*(h+n),Na=oa+h;oa=[da[0]+oa*Math.cos(G)+X*Math.cos(G),da[1]+oa*Math.sin(G)+
X*Math.sin(G)];Na=[da[0]+Na*Math.cos(G)+X*Math.cos(G),da[1]+Na*Math.sin(G)+X*Math.sin(G)];z.push(...this.helper.doubleLineOps(oa[0],oa[1],Na[0],Na[1],g))}}),z}}class Dh{constructor(d){this.helper=d}fillPolygon(d,g){const h=0>g.hachureGap?4*g.strokeWidth:g.hachureGap,n=0>g.zigzagOffset?h:g.zigzagOffset;d=pa(d,g=Object.assign({},g,{hachureGap:h+n}));return{type:"fillSketch",ops:this.zigzagLines(d,n,g)}}zigzagLines(d,g,h){const n=[];return d.forEach(z=>{var G=Y(z);G=Math.round(G/(2*g));let X=z[0];var S=
z[1];X[0]>S[0]&&(X=z[1],S=z[0]);z=Math.atan((S[1]-X[1])/(S[0]-X[0]));for(S=0;S<G;S++){var da=2*S*g,ua=2*(S+1)*g,oa=Math.sqrt(2*Math.pow(g,2));da=[X[0]+da*Math.cos(z),X[1]+da*Math.sin(z)];ua=[X[0]+ua*Math.cos(z),X[1]+ua*Math.sin(z)];oa=[da[0]+oa*Math.cos(z+Math.PI/4),da[1]+oa*Math.sin(z+Math.PI/4)];n.push(...this.helper.doubleLineOps(da[0],da[1],oa[0],oa[1],h),...this.helper.doubleLineOps(oa[0],oa[1],ua[0],ua[1],h))}}),n}}const ef={};class Bj{constructor(d){this.seed=d}next(){return this.seed?(2**
31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const $d={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},mj={randOffset:function(d,g){return tb(d,g)},randOffsetWithRange:function(d,g,h){return Pa(d,g,h)},ellipse:function(d,g,h,n,z){h=U(h,n,z);return va(d,g,z,h).opset},doubleLineOps:function(d,g,h,n,z){return Ib(d,g,h,n,z,!0)}};class ng{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,
curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,g,h){return{shape:d,sets:g||[],options:h||this.defaultOptions}}line(d,
g,h,n,z){z=this._o(z);return this._d("line",[{type:"path",ops:Ib(d,g,h,n,z)}],z)}rectangle(d,g,h,n,z){z=this._o(z);const G=[];var X=P([[d,g],[d+h,g],[d+h,g+n],[d,g+n]],!0,z);z.fill&&(d=[[d,g],[d+h,g],[d+h,g+n],[d,g+n]],"solid"===z.fillStyle?G.push(Da(d,z)):G.push(La(d,z)));return"none"!==z.stroke&&G.push(X),this._d("rectangle",G,z)}ellipse(d,g,h,n,z){z=this._o(z);const G=[];n=U(h,n,z);h=va(d,g,z,n);z.fill&&("solid"===z.fillStyle?(d=va(d,g,z,n).opset,d.type="fillPath",G.push(d)):G.push(La(h.estimatedPoints,
z)));return"none"!==z.stroke&&G.push(h.opset),this._d("ellipse",G,z)}circle(d,g,h,n){d=this.ellipse(d,g,h,h,n);return d.shape="circle",d}linearPath(d,g){g=this._o(g);return this._d("linearPath",[P(d,!1,g)],g)}arc(d,g,h,n,z,G,X=!1,S){S=this._o(S);const da=[],ua=Va(d,g,h,n,z,G,X,!0,S);if(X&&S.fill)if("solid"===S.fillStyle)d=Va(d,g,h,n,z,G,!0,!1,S),d.type="fillPath",da.push(d);else{X=da.push;{h=Math.abs(h/2);n=Math.abs(n/2);h+=tb(.01*h,S);for(n+=tb(.01*n,S);0>z;)z+=2*Math.PI,G+=2*Math.PI;G-z>2*Math.PI&&
(z=0,G=2*Math.PI);const oa=(G-z)/S.curveStepCount,Na=[];for(;z<=G;z+=oa)Na.push([d+h*Math.cos(z),g+n*Math.sin(z)]);d=(Na.push([d+h*Math.cos(G),g+n*Math.sin(G)]),Na.push([d,g]),La(Na,S))}X.call(da,d)}return"none"!==S.stroke&&da.push(ua),this._d("arc",da,S)}curve(d,g){g=this._o(g);const h=[],n=aa(d,g);g.fill&&"none"!==g.fill&&3<=d.length&&(d=Z(function(z,G=0){var X=z.length;if(3>X)throw Error("A curve must have at least three points.");const S=[];if(3===X)S.push([...z[0]],[...z[1]],[...z[2]],[...z[2]]);
else{X=[];X.push(z[0],z[0]);for(var da=1;da<z.length;da++)X.push(z[da]),da===z.length-1&&X.push(z[da]);z=[];G=1-G;S.push([...X[0]]);for(da=1;da+2<X.length;da++){const ua=X[da];z[0]=[ua[0],ua[1]];z[1]=[ua[0]+(G*X[da+1][0]-G*X[da-1][0])/6,ua[1]+(G*X[da+1][1]-G*X[da-1][1])/6];z[2]=[X[da+1][0]+(G*X[da][0]-G*X[da+2][0])/6,X[da+1][1]+(G*X[da][1]-G*X[da+2][1])/6];z[3]=[X[da+1][0],X[da+1][1]];S.push(z[1],z[2],z[3])}}return S}(d),10,(1+g.roughness)/2),"solid"===g.fillStyle?h.push(Da(d,g)):h.push(La(d,g)));
return"none"!==g.stroke&&h.push(n),this._d("curve",h,g)}polygon(d,g){g=this._o(g);const h=[],n=P(d,!0,g);return g.fill&&("solid"===g.fillStyle?h.push(Da(d,g)):h.push(La(d,g))),"none"!==g.stroke&&h.push(n),this._d("polygon",h,g)}path(d,g){const h=this._o(g),n=[];if(!d)return this._d("path",n,h);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");g=h.fill&&"transparent"!==h.fill&&"none"!==h.fill;const z="none"!==h.stroke,G=!!(h.simplification&&1>h.simplification),X=function(S,
da,ua){var oa=ka(ha(ia(S)));S=[];let Na=[];var Sa=[0,0];let Ta=[];const hb=()=>{4<=Ta.length&&Na.push(...Z(Ta,da));Ta=[]};for(const {key:fb,data:Eb}of oa)switch(fb){case "M":hb();Na.length&&(S.push(Na),Na=[]);Sa=[Eb[0],Eb[1]];Na.push(Sa);break;case "L":hb();Na.push([Eb[0],Eb[1]]);break;case "C":Ta.length||(oa=Na.length?Na[Na.length-1]:Sa,Ta.push([oa[0],oa[1]]));Ta.push([Eb[0],Eb[1]]);Ta.push([Eb[2],Eb[3]]);Ta.push([Eb[4],Eb[5]]);break;case "Z":hb(),Na.push([Sa[0],Sa[1]])}hb();Na.length&&(S.push(Na),
Na=[]);if(!ua)return S;Sa=[];for(const fb of S)S=R(fb,ua),S.length&&Sa.push(S);return Sa}(d,1,G?4-4*h.simplification:(1+h.roughness)/2);if(g)if(h.combineNestedSvgPaths){const S=[];X.forEach(da=>S.push(...da));"solid"===h.fillStyle?n.push(Da(S,h)):n.push(La(S,h))}else X.forEach(S=>{"solid"===h.fillStyle?n.push(Da(S,h)):n.push(La(S,h))});return z&&(G?X.forEach(S=>{n.push(P(S,!1,h))}):n.push(function(S,da){S=ka(ha(ia(S)));const ua=[];let oa=[0,0],Na=[0,0];for(const {key:Sa,data:Ta}of S)switch(Sa){case "M":{const hb=
1*(da.maxRandomnessOffset||0);ua.push({op:"move",data:Ta.map(fb=>fb+tb(hb,da))});Na=[Ta[0],Ta[1]];oa=[Ta[0],Ta[1]];break}case "L":ua.push(...Ib(Na[0],Na[1],Ta[0],Ta[1],da));Na=[Ta[0],Ta[1]];break;case "C":{const [hb,fb,Eb,kc,mc,xc]=Ta;ua.push(...Yb(hb,fb,Eb,kc,mc,xc,Na,da));Na=[mc,xc];break}case "Z":ua.push(...Ib(Na[0],Na[1],oa[0],oa[1],da)),Na=[oa[0],oa[1]]}return{type:"path",ops:ua}}(d,h))),this._d("path",n,h)}opsToPath(d){let g="";for(const h of d.ops)switch(d=h.data,h.op){case "move":g+=`M${d[0]} ${d[1]} `;
break;case "bcurveTo":g+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":g+=`L${d[0]} ${d[1]} `}return g.trim()}toPaths(d){var g=d.sets||[];d=d.options||this.defaultOptions;const h=[];for(const n of g){g=null;switch(n.type){case "path":g={d:this.opsToPath(n),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":g={d:this.opsToPath(n),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":g=this.fillSketch(n,d)}g&&h.push(g)}return h}fillSketch(d,
g){let h=g.fillWeight;return 0>h&&(h=g.strokeWidth/2),{d:this.opsToPath(d),stroke:g.fill||"none",strokeWidth:h,fill:"none"}}}class og{constructor(d,g){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new ng(g)}draw(d){const g=d.sets||[],h=d.options||this.getDefaultOptions(),n=this.ctx;for(const z of g)switch(z.type){case "path":n.save();n.strokeStyle="none"===h.stroke?"transparent":h.stroke;n.lineWidth=h.strokeWidth;h.strokeLineDash&&n.setLineDash(h.strokeLineDash);h.strokeLineDashOffset&&
(n.lineDashOffset=h.strokeLineDashOffset);this._drawToContext(n,z);n.restore();break;case "fillPath":n.save();n.fillStyle=h.fill||"";this._drawToContext(n,z,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");n.restore();break;case "fillSketch":this.fillSketch(n,z,h)}}fillSketch(d,g,h){let n=h.fillWeight;0>n&&(n=h.strokeWidth/2);d.save();h.fillLineDash&&d.setLineDash(h.fillLineDash);h.fillLineDashOffset&&(d.lineDashOffset=h.fillLineDashOffset);d.strokeStyle=h.fill||"";d.lineWidth=n;this._drawToContext(d,
g);d.restore()}_drawToContext(d,g,h="nonzero"){d.beginPath();for(const n of g.ops){const z=n.data;switch(n.op){case "move":d.moveTo(z[0],z[1]);break;case "bcurveTo":d.bezierCurveTo(z[0],z[1],z[2],z[3],z[4],z[5]);break;case "lineTo":d.lineTo(z[0],z[1])}}"fillPath"===g.type?d.fill(h):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,g,h,n,z){d=this.gen.line(d,g,h,n,z);return this.draw(d),d}rectangle(d,g,h,n,z){d=this.gen.rectangle(d,g,h,n,z);return this.draw(d),
d}ellipse(d,g,h,n,z){d=this.gen.ellipse(d,g,h,n,z);return this.draw(d),d}circle(d,g,h,n){d=this.gen.circle(d,g,h,n);return this.draw(d),d}linearPath(d,g){d=this.gen.linearPath(d,g);return this.draw(d),d}polygon(d,g){d=this.gen.polygon(d,g);return this.draw(d),d}arc(d,g,h,n,z,G,X=!1,S){d=this.gen.arc(d,g,h,n,z,G,X,S);return this.draw(d),d}curve(d,g){d=this.gen.curve(d,g);return this.draw(d),d}path(d,g){d=this.gen.path(d,g);return this.draw(d),d}}class Ok{constructor(d,g){this.svg=d;this.gen=new ng(g)}draw(d){var g=
d.sets||[];const h=d.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,z=n.createElementNS("http://www.w3.org/2000/svg","g");for(const G of g){g=null;switch(G.type){case "path":g=n.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.opsToPath(G));g.setAttribute("stroke",h.stroke);g.setAttribute("stroke-width",h.strokeWidth+"");g.setAttribute("fill","none");h.strokeLineDash&&g.setAttribute("stroke-dasharray",h.strokeLineDash.join(" ").trim());h.strokeLineDashOffset&&
g.setAttribute("stroke-dashoffset",`${h.strokeLineDashOffset}`);break;case "fillPath":g=n.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.opsToPath(G));g.setAttribute("stroke","none");g.setAttribute("stroke-width","0");g.setAttribute("fill",h.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||g.setAttribute("fill-rule","evenodd");break;case "fillSketch":g=this.fillSketch(n,G,h)}g&&z.appendChild(g)}return z}fillSketch(d,g,h){let n=h.fillWeight;0>n&&(n=h.strokeWidth/2);d=
d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(g)),d.setAttribute("stroke",h.fill||""),d.setAttribute("stroke-width",n+""),d.setAttribute("fill","none"),h.fillLineDash&&d.setAttribute("stroke-dasharray",h.fillLineDash.join(" ").trim()),h.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${h.fillLineDashOffset}`),d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,
g,h,n,z){d=this.gen.line(d,g,h,n,z);return this.draw(d)}rectangle(d,g,h,n,z){d=this.gen.rectangle(d,g,h,n,z);return this.draw(d)}ellipse(d,g,h,n,z){d=this.gen.ellipse(d,g,h,n,z);return this.draw(d)}circle(d,g,h,n){d=this.gen.circle(d,g,h,n);return this.draw(d)}linearPath(d,g){d=this.gen.linearPath(d,g);return this.draw(d)}polygon(d,g){d=this.gen.polygon(d,g);return this.draw(d)}arc(d,g,h,n,z,G,X=!1,S){d=this.gen.arc(d,g,h,n,z,G,X,S);return this.draw(d)}curve(d,g){d=this.gen.curve(d,g);return this.draw(d)}path(d,
g){d=this.gen.path(d,g);return this.draw(d)}}const lh={canvas:(d,g)=>new og(d,g),svg:(d,g)=>new Ok(d,g),generator:d=>new ng(d),newSeed:()=>ng.newSeed()};var lf=function(d){return null!=d&&"text"===d.type},Md=function(d){return null!=d&&bh(d.type)},bh=function(d){return"arrow"===d||"line"===d||"draw"===d},vg=function(d){return null!=d&&"arrow"===d.type},Ai=function(d){return null!=d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},le=function(d,g,h,n,z){return[(d-h)*
Math.cos(z)-(g-n)*Math.sin(z)+h,(d-h)*Math.sin(z)+(g-n)*Math.cos(z)+n]},Uj=function(d,g,h){return le(d[0],d[1],g[0],g[1],h)},ii=function(d,g,h,n,z,G,X,S){var da=Math.cos(n);n=Math.sin(n);return d.e&&d.w?g+=z+X:d.e?(g+=z*(1+da),h+=z*n,g+=X*(1-da),h+=X*-n):d.w&&(g+=z*(1-da),h+=z*-n,g+=X*(1+da),h+=X*n),d.n&&d.s?h+=G+S:d.n?(g+=G*n,h+=G*(1-da),g+=S*-n,h+=S*(1+da)):d.s&&(g+=G*-n,h+=G*(1+da),g+=S*n,h+=S*(1-da)),[g,h]},th=function(d,g){if(void 0===g&&(g=1),3<=d.length){var h=[d[0],d[d.length-1]];d=h[0];h=
h[1];return Math.hypot(h[0]-d[0],h[1]-d[1])<=Sb.qx/g}return!1},Fh=function(d,g,h){var n=d.length;if(3>n)return!1;var z=[Number.MAX_SAFE_INTEGER,h];g=[g,h];for(var G=h=0;G<n;G++){var X=d[G],S=d[(G+1)%n],da=X,ua=S,oa=g,Na=z,Sa=Gh(da,ua,oa),Ta=Gh(da,ua,Na),hb=Gh(oa,Na,da),fb=Gh(oa,Na,ua);if(Sa!==Ta&&hb!==fb||0===Sa&&Vh(da,oa,ua)||0===Ta&&Vh(da,Na,ua)||0===hb&&Vh(oa,da,Na)||0===fb&&Vh(oa,ua,Na)){if(0===Gh(X,g,S))return Vh(X,g,S);h++}}return 1==h%2},Vh=function(d,g,h){return g[0]<=Math.max(d[0],h[0])&&
g[0]>=Math.min(d[0],h[0])&&g[1]<=Math.max(d[1],h[1])&&g[1]>=Math.min(d[1],h[1])},Gh=function(d,g,h){d=(g[1]-d[1])*(h[0]-g[0])-(g[0]-d[0])*(h[1]-g[1]);return 0===d?0:0<d?1:2},wg=function(d,g,h){return h?[Math.round(d/h)*h,Math.round(g/h)*h]:[d,g]},Wh=function(d,g,h){var n=h.map(function(da){return da[d]}),z=Math.max.apply(Math,n);n=Math.min.apply(Math,n);z-=n;var G=0===z?1:g/z,X=1/0;g=h.map(function(da){return da.map(function(ua,oa){if(oa!==d)return ua;ua*=G;return X=Math.min(ua,X),ua})});if(2===g.length)return g;
var S=n-X;return g.map(function(da){return da.map(function(ua,oa){return oa===d?ua+S:ua})})},Ne=function(d){return Md(d)?mk(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Xh=function(d){for(var g=0,h=d.sets;g<h.length;g++){var n=h[g];if("path"===n.type)return n.ops}return d.sets[0].ops},Ri=function(d,g){var h=[0,0];d=d.reduce(function(n,z){var G,X=z.op;z=z.data;if("move"===X)h=z;else if("bcurveTo"===X){var S=[z[0],z[1]],da=[z[2],z[3]],ua=[z[4],z[5]],oa=h;h=ua;X=function(Ta,hb){return Math.pow(1-Ta,3)*ua[hb]+
3*Ta*Math.pow(1-Ta,2)*da[hb]+3*Math.pow(Ta,2)*(1-Ta)*S[hb]+oa[hb]*Math.pow(Ta,3)};for(z=0;1>=z;){var Na=X(z,0),Sa=X(z,1);g&&(Na=(G=g(Na,Sa))[0],Sa=G[1]);n.minY=Math.min(n.minY,Sa);n.minX=Math.min(n.minX,Na);n.maxX=Math.max(n.maxX,Na);n.maxY=Math.max(n.maxY,Sa);z+=.1}}return n},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,d.minY,d.maxX,d.maxY]},mk=function(d){if(2>d.points.length||!bg.get(d)){var g=d.points.reduce(function(h,n){var z=n[0];n=n[1];return h.minY=Math.min(h.minY,n),h.minX=Math.min(h.minX,
z),h.maxX=Math.max(h.maxX,z),h.maxY=Math.max(h.maxY,n),h},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[g.minX+d.x,g.minY+d.y,g.maxX+d.x,g.maxY+d.y]}g=bg.get(d);g=Xh(g[0]);g=Ri(g);return[g[0]+d.x,g[1]+d.y,g[2]+d.x,g[3]+d.y]},fg=function(d){var g=Ne(d),h=g[0],n=g[1],z=g[2],G=g[3];g=(h+z)/2;var X=(n+G)/2;if(Md(d))return function(Na,Sa,Ta){if(2>Na.points.length||!bg.get(Na)){var hb=Na.points.reduce(function(fb,Eb){var kc,mc=Eb[0];Eb=Eb[1];return mc=(kc=le(Na.x+mc,Na.y+Eb,Sa,Ta,Na.angle))[0],Eb=kc[1],
fb.minY=Math.min(fb.minY,Eb),fb.minX=Math.min(fb.minX,mc),fb.maxX=Math.max(fb.maxX,mc),fb.maxY=Math.max(fb.maxY,Eb),fb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[hb.minX,hb.minY,hb.maxX,hb.maxY]}hb=bg.get(Na);hb=Xh(hb[0]);return Ri(hb,function(fb,Eb){return le(Na.x+fb,Na.y+Eb,Sa,Ta,Na.angle)})}(d,g,X);if("diamond"===d.type){n=le(g,n,g,X,d.angle);var S=n[0];n=n[1];G=le(g,G,g,X,d.angle);var da=G[0];G=G[1];var ua=le(h,X,g,X,d.angle);h=ua[0];ua=ua[1];X=le(z,X,g,X,d.angle);g=X[0];X=X[1];return[Math.min(S,
da,h,g),Math.min(n,G,ua,X),Math.max(S,da,h,g),Math.max(n,G,ua,X)]}if("ellipse"===d.type)return z=(z-h)/2,S=(G-n)/2,n=Math.cos(d.angle),da=Math.sin(d.angle),d=Math.hypot(z*n,S*da),z=Math.hypot(S*n,z*da),[g-d,X-z,g+d,X+z];da=le(h,n,g,X,d.angle);S=da[0];da=da[1];ua=le(h,G,g,X,d.angle);h=ua[0];ua=ua[1];var oa=le(z,G,g,X,d.angle);G=oa[0];oa=oa[1];X=le(z,n,g,X,d.angle);g=X[0];X=X[1];return[Math.min(S,h,G,g),Math.min(da,ua,oa,X),Math.max(S,h,G,g),Math.max(da,ua,oa,X)]},Zc=function(d){if(!d.length)return[0,
0,0,0];var g=1/0,h=-1/0,n=1/0,z=-1/0;return d.forEach(function(G){G=fg(G);var X=G[1],S=G[2],da=G[3];g=Math.min(g,G[0]);n=Math.min(n,X);h=Math.max(h,S);z=Math.max(z,da)}),[g,n,h,z]},pg=function(d,g,h){if(!Md(d))return[d.x,d.y,d.x+g,d.y+h];g=Wh(0,g,Wh(1,h,d.points));h=lh.generator();g="sharp"===d.strokeSharpness?h.linearPath(g,Ih(d)):h.curve(g,Ih(d));g=Xh(g);g=Ri(g);return[g[0]+d.x,g[1]+d.y,g[2]+d.x,g[3]+d.y]},De=function(d,g,h){var n=lh.generator();g="sharp"===h?n.linearPath(g,Ih(d)):n.curve(g,Ih(d));
g=Xh(g);g=Ri(g);return[g[0]+d.x,g[1]+d.y,g[2]+d.x,g[3]+d.y]};const jd=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var mf=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},nf=function(d){return[jd.Q6[d],jd.iQ[d],jd.pl[d],jd.ht[d],jd.QN[d],jd.iN[d],jd.sl[d],jd.$C[d],jd.ek[d],jd.LR[d],jd.er[d],jd.$y[d]]};const Hh={canvasBackground:mf([jd.ix,jd.MA[0],jd.MA[1]],nf(0)),elementBackground:mf(["transparent",jd.MA[4],jd.MA[6]],nf(6)),elementStroke:mf([jd.Sn,jd.MA[8],jd.MA[7]],nf(9))};var Gg=m(6207),ch=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Ti=/^Win/.test(window.navigator.platform),
Id=ch?"metaKey":"ctrlKey",ye=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},Hg=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Bi=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},ji=function(d){var g=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Sb.ut[g],", ").concat(Sb._D))},of=function(d,
g){var h=document.createElement("div"),n=document.body;h.style.position="absolute";h.style.whiteSpace="pre";h.style.font=g;n.appendChild(h);h.innerText=d.split("\n").map(function(z){return z||" "}).join("\n");d=h.offsetWidth;g=h.offsetHeight;n=document.createElement("span");n.style.display="inline-block";n.style.overflow="hidden";n.style.width="1px";n.style.height="1px";h.appendChild(n);n=n.offsetTop+n.offsetHeight;return document.body.removeChild(h),{width:d,height:g,baseline:n}},Kf=function(d,g){var h,
n=0,z=function(){for(var G=[],X=0;X<arguments.length;X++)G[X]=arguments[X];h=G;clearTimeout(n);n=window.setTimeout(function(){return d.apply(void 0,G)},g)};return z.flush=function(){clearTimeout(n);h&&d.apply(void 0,h)},z.cancel=function(){clearTimeout(n)},z},Me=function(d){d&&(d.style.cursor="")},Qg=function(d,g){d&&(d.style.cursor=g)},Ig=function(d,g){d&&("selection"===g?Me(d):d.style.cursor=Sb.oc.CROSSHAIR)},Vi=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===d?
void 0:d.nodeName)},Ac=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),ch?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},Lf=function(d,g){var h=g.zoom,n=1/h.value;return{x:(d.clientX-h.translation.x-g.offsetLeft)*n-g.scrollX,y:(d.clientY-h.translation.y-g.offsetTop)*n-g.scrollY}},xg=function(d,g){var h=g.zoom;return{x:(d.sceneX+g.scrollX+g.offsetLeft)*
h.value+h.translation.x,y:(d.sceneY+g.scrollY+g.offsetTop)*h.value+h.translation.y}},Mf=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},ff=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),gg=function(d){return{x:d[0],y:d[1]}},Dj=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},Cd=function(d){return function(g){(0,Gg.unstable_batchedUpdates)(d,g)}},Jg=function(d,g){var h,n=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(h=n.length-1;0<h&&!(d>=n[h].value);h--);return(d/n[h].value).toFixed(g).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[h].symbol},Kl=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Sb.eQ},oj=function(){var d=new Map,g=Sb.rk,h=Sb.n5,n=jd.Sn,z=Sb.Hg,G=window.innerHeight,X="".concat(jb("labels.untitled"),"-"),S=X.concat;var da=new Date;var ua=da.getFullYear();var oa="".concat(da.getMonth()+
1).padStart(2,"0"),Na="".concat(da.getDate()).padStart(2,"0"),Sa="".concat(da.getHours()).padStart(2,"0");da="".concat(da.getMinutes()).padStart(2,"0");ua="".concat(ua,"-").concat(oa,"-").concat(Na,"-").concat(Sa).concat(da);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:g,currentItemFontSize:h,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:n,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:z,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:G,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:S.call(X,ua),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:jd.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},Nf={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},Yj=function(d,g){for(var h={},n=0,z=
Object.keys(d);n<z.length;n++){var G=z[n],X=Nf[G];null!=X&&X[g]&&(h[G]=d[G])}return h},zl=oj(),Ll=[12,8],Rk=[3,6],ki=function(d,g,h){switch(h.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":g.draw(bg.get(d));break;case "arrow":case "draw":case "line":bg.get(d).forEach(function(Na){g.draw(Na)});break;default:if(!lf(d))throw Error("Unimplemented type ".concat(d.type));var n=ff.test(d.text),z=n&&!h.canvas.isConnected;z&&document.body.appendChild(h.canvas);h.canvas.setAttribute("dir",
n?"rtl":"ltr");n=h.font;h.font=ji(d);var G=h.fillStyle;h.fillStyle=d.strokeColor;var X=h.textAlign;h.textAlign=d.textAlign;var S=d.text.replace(/\r\n?/g,"\n").split("\n"),da=d.height/S.length,ua=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var oa=0;oa<S.length;oa++)h.fillText(S[oa],d,(oa+1)*da-ua);h.fillStyle=G;h.font=n;h.textAlign=X;z&&h.canvas.remove()}h.globalAlpha=1},Wi=new WeakMap,bg=new WeakMap,Ih=function(d){var g={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?Ll:"dotted"===d.strokeStyle?Rk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return g.fillStyle=d.fillStyle,g.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(g.curveFitting=1),g;case "line":case "draw":return th(d.points)&&
(g.fillStyle=d.fillStyle,g.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),g;case "arrow":return g;default:throw Error("Unimplemented type ".concat(d.type));}},Se=function(d,g){var h=bg.get(d)||null;if(!h){switch(Wi.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){h=d.width;var n=d.height,z=.25*Math.min(h,n);h=g.path("M ".concat(z," 0 L ").concat(h-z," 0 Q ").concat(h," 0, ").concat(h," ").concat(z," L ").concat(h," ").concat(n-z," Q ").concat(h," ").concat(n,", ").concat(h-
z," ").concat(n," L ").concat(z," ").concat(n," Q 0 ").concat(n,", 0 ").concat(n-z," L 0 ").concat(z," Q 0 0, ").concat(z," 0"),Ih(d))}else h=g.rectangle(0,0,d.width,d.height,Ih(d));break;case "diamond":h=function(X){var S=Math.floor(X.width/2)+1,da=Math.floor(X.height/2)+1;return[S,0,X.width,da,S,X.height,0,da]}(d);h=g.polygon([[h[0],h[1]],[h[2],h[3]],[h[4],h[5]],[h[6],h[7]]],Ih(d));break;case "ellipse":h=g.ellipse(d.width/2,d.height/2,d.width,d.height,Ih(d));break;case "line":case "draw":case "arrow":var G=
Ih(d);h=d.points.length?d.points:[[0,0]];if(h="sharp"===d.strokeSharpness?G.fill?[g.polygon(h,G)]:[g.linearPath(h,G)]:[g.curve(h,G)],"arrow"===d.type){n=d.startArrowhead;n=void 0===n?null:n;z=d.endArrowhead;z=void 0===z?"arrow":z;function X(S,da,ua,oa){da=function(hb,fb,Eb,kc){fb=Xh(fb[0]);if(1>fb.length)return null;var mc="start"===Eb?1:fb.length-1,xc=fb[mc].data,rd=[xc[4],xc[5]],pd=[xc[2],xc[3]],Fd=[xc[0],xc[1]];fb=fb[mc-1];var yd=[0,0];"move"===fb.op?yd=fb.data:"bcurveTo"===fb.op&&(yd=[fb.data[4],
fb.data[5]]);mc=function(Bc,Vc){return Math.pow(1-Bc,3)*rd[Vc]+3*Bc*Math.pow(1-Bc,2)*pd[Vc]+3*Math.pow(Bc,2)*(1-Bc)*Fd[Vc]+yd[Vc]*Math.pow(Bc,3)};fb="start"===Eb?yd:rd;Eb=fb[0];fb=fb[1];xc=[mc(.3,0),mc(.3,1)];mc=xc[0];xc=xc[1];var Pd=Math.hypot(Eb-mc,fb-xc);mc=(Eb-mc)/Pd;xc=(fb-xc)/Pd;Pd={arrow:30,bar:15,dot:15}[kc];hb=hb.points.reduce(function(Bc,Vc,ad,Gd){ad=0<ad?Gd[ad-1]:[0,0];return Bc+Math.hypot(Vc[0]-ad[0],Vc[1]-ad[1])},0);Pd=Math.min(Pd,hb/2);hb=Eb-mc*Pd;mc=fb-xc*Pd;if("dot"===kc)return[Eb,
fb,Math.hypot(mc-fb,hb-Eb)];xc={arrow:20,bar:90}[kc];Pd=le(hb,mc,Eb,fb,-xc*Math.PI/180);kc=Pd[0];Pd=Pd[1];hb=le(hb,mc,Eb,fb,xc*Math.PI/180);return[Eb,fb,kc,Pd,hb[0],hb[1]]}(S,da,ua,oa);if(null===da)return[];if("dot"===oa)return[g.circle(da[0],da[1],da[2],ib(ib({},G),{},{fill:S.strokeColor,fillStyle:"solid"}))];oa=da[0];ua=da[1];var Na=da[2],Sa=da[3],Ta=da[4];da=da[5];return"dotted"===S.strokeStyle?G.strokeLineDash=[3,4]:delete G.strokeLineDash,[g.line(Na,Sa,oa,ua,G),g.line(Ta,da,oa,ua,G)]}null!==
n&&(n=X(d,h,"start",n),h.push.apply(h,n));null!==z&&(n=X(d,h,"end",z),h.push.apply(h,n))}break;case "text":h=[]}bg.set(d,h)}},zk=function(d,g,h,n,z){var G=g.generator;switch(d.type){case "selection":h.translate(d.x+z.scrollX,d.y+z.scrollY);g=h.fillStyle;h.fillStyle="rgba(0, 0, 255, 0.10)";h.fillRect(0,0,d.width,d.height);h.fillStyle=g;h.translate(-d.x-z.scrollX,-d.y-z.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Se(d,G),n){g=z?z.zoom:
zl.zoom;G=(n=Wi.get(d))&&n.canvasZoom!==g.value&&!(null!=z&&z.shouldCacheIgnoreZoom);if(!n||G){n=document.createElement("canvas");G=n.getContext("2d");var X=0,S=0;if(Md(d)){X=Ne(d);var da=X[0];S=X[1];var ua=X[3];n.width=Math.abs(da-X[2])*window.devicePixelRatio*g.value+40*g.value;n.height=Math.abs(S-ua)*window.devicePixelRatio*g.value+40*g.value;X=d.x>da?Math.floor(Math.abs(d.x-da))*window.devicePixelRatio*g.value:0;S=d.y>S?Math.floor(Math.abs(d.y-S))*window.devicePixelRatio*g.value:0;G.translate(X,
S)}else n.width=d.width*window.devicePixelRatio*g.value+40*g.value,n.height=d.height*window.devicePixelRatio*g.value+40*g.value;G.translate(20*g.value,20*g.value);G.scale(window.devicePixelRatio*g.value,window.devicePixelRatio*g.value);da=lh.canvas(n);g=(ki(d,da,G),G.translate(-20*g.value,-20*g.value),G.scale(1/(window.devicePixelRatio*g.value),1/(window.devicePixelRatio*g.value)),{element:d,canvas:n,canvasZoom:g.value,canvasOffsetX:X,canvasOffsetY:S});d=(Wi.set(d,g),g)}else d=n;g=d.element;X=Ne(g);
n=X[0];G=X[1];S=X[2];X=X[3];da=((n+S)/2+z.scrollX)*window.devicePixelRatio;z=((G+X)/2+z.scrollY)*window.devicePixelRatio;h.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);h.translate(da,z);h.rotate(g.angle);h.drawImage(d.canvas,-(S-n)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(X-G)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);h.rotate(-g.angle);h.translate(-da,-z);h.scale(window.devicePixelRatio,window.devicePixelRatio);
!0}else G=Ne(d),S=G[0],n=G[1],X=G[2],da=G[3],G=(S+X)/2+z.scrollX,z=(n+da)/2+z.scrollY,S=(X-S)/2-(d.x-S),n=(da-n)/2-(d.y-n),h.translate(G,z),h.rotate(d.angle),h.translate(-S,-n),ki(d,g,h),h.translate(S,n),h.rotate(-d.angle),h.translate(-G,-z);break;default:throw Error("Unimplemented type ".concat(d.type));}},td=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(g,h){"string"==typeof g?this.sceneMapById.set(g,
h):this.sceneMapByElement.set(g,h)},d.getScene=function(g){return"string"==typeof g?this.sceneMapById.get(g)||null:this.sceneMapByElement.get(g)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(g){return this.elementsMap.get(g)||null},d.prototype.getNonDeletedElement=function(g){return(g=this.getElement(g))&&!g.isDeleted?g:null},d.prototype.getNonDeletedElements=function(g){var h=
this,n=[];return g.forEach(function(z){z=h.getNonDeletedElement(z);null!=z&&n.push(z)}),n},d.prototype.replaceAllElements=function(g){var h=this;this.elements=g;this.elementsMap.clear();g.forEach(function(n){h.elementsMap.set(n.id,n);d.mapElementToScene(n,h)});this.nonDeletedElements=dd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var g=0,h=Array.from(this.callbacks);g<h.length;g++)(0,h[g])()},d.prototype.addCallback=function(g){var h=this;if(this.callbacks.has(g))throw Error();
return this.callbacks.add(g),function(){if(!h.callbacks.has(g))throw Error();h.callbacks.delete(g)}},d.prototype.destroy=function(){var g=this;d.sceneMapById.forEach(function(h,n){h===g&&d.sceneMapById.delete(n)});this.callbacks.clear()},d}();td.sceneMapByElement=new WeakMap;td.sceneMapById=new Map;var vh=new Bj(Date.now()),li=function(){return Math.floor(vh.next()*Math.pow(2,31))},mi=function(){return((d=21)=>{let g="",h=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let n=63&h[d];g+=36>n?
n.toString(36):62>n?(n-26).toString(36).toUpperCase():63>n?"_":"-"}return g})()},Dd=function(d,g){var h,n=!1,z=g.points,G;for(G in void 0!==z&&(g=wb(wb({},function(Ta){var hb=Ta.map(function(fb){return fb[0]});Ta=Ta.map(function(fb){return fb[1]});return{width:Math.max.apply(Math,hb)-Math.min.apply(Math,hb),height:Math.max.apply(Math,Ta)-Math.min.apply(Math,Ta)}}(z)),g)),g){var X=g[G];if(void 0!==X&&(d[G]!==X||"object"==typeof X&&null!==X&&"groupIds"!==G)){if("points"===G){var S=d[G],da=X;if(S.length===
da.length){for(var ua=!1,oa=S.length;--oa;){var Na=S[oa],Sa=da[oa];if(Na[0]!==Sa[0]||Na[1]!==Sa[1]){ua=!0;break}}if(!ua)continue}}d[G]=X;n=!0}}n&&(void 0===g.height&&void 0===g.width&&void 0===z||bg.delete(d),d.version++,d.versionNonce=li(),null===(h=td.getScene(d))||void 0===h||h.informMutation())},Ye=function(d,g){return wb(wb(wb({},d),g),{},{version:d.version+1,versionNonce:li()})},Vf=function(d){return Md(d)?2>d.points.length:0===d.width&&0===d.height},Gf=function(d,g,h){var n=Math.abs(g),z=Math.abs(h);
"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(z/n)/Sb.ay)*Sb.ay,0===d?h=0:d===Math.PI/2?g=0:h=Math.round(n*Math.tan(d))*Math.sign(h)||h):"selection"!==d&&(h=n*Math.sign(h));return{width:g,height:h}},Ej=function(d){var g={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var h=Math.abs(d.width);g.width=h;g.x=d.x-h}0>d.height&&(h=Math.abs(d.height),g.height=h,g.y=d.y-h);return g},Sk=m(5474),oi=m.n(Sk),Zh=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},
Nd=function(d,g,h){var n,z;h=h.filter(function(G){return G.groupIds.includes(d)});return 2>h.length?g.selectedGroupIds[d]||g.editingGroupId===d?Ia(Ia({},g),{},{selectedGroupIds:Ia(Ia({},g.selectedGroupIds),{},(n={},n[d]=!1,n)),editingGroupId:null}):g:Ia(Ia({},g),{},{selectedGroupIds:Ia(Ia({},g.selectedGroupIds),{},(z={},z[d]=!0,z)),selectedElementIds:Ia(Ia({},g.selectedElementIds),Object.fromEntries(h.map(function(G){return[G.id,!0]})))})},Fj=function(d,g){return g.groupIds.filter(function(h){return h!==
d.editingGroupId}).find(function(h){return d.selectedGroupIds[h]})},Zj=function(d){return Object.entries(d.selectedGroupIds).filter(function(g){g[0];return g[1]}).map(function(g){var h=g[0];g[1];return h})},Gj=function(d,g){for(var h=Ia({},d),n=0,z=Ee(g,d);n<z.length;n++){var G=z[n].groupIds;if(d.editingGroupId){var X=G.indexOf(d.editingGroupId);-1<X&&(G=G.slice(0,X))}0<G.length&&(h=Nd(G[G.length-1],h,g))}return h},qj=function(d,g){return d.filter(function(h){return h.groupIds.includes(g)})},Sg=function(d,
g){var h,n,z=g.x,G=g.y,X=g.strokeColor,S=g.backgroundColor,da=g.fillStyle,ua=g.strokeWidth,oa=g.strokeStyle,Na=g.roughness,Sa=g.opacity,Ta=g.width;Ta=void 0===Ta?0:Ta;var hb=g.height;hb=void 0===hb?0:hb;var fb=g.angle;fb=void 0===fb?0:fb;var Eb=g.groupIds;Eb=void 0===Eb?[]:Eb;var kc=g.strokeSharpness,mc=g.boundElementIds;mc=void 0===mc?null:mc;g=oi()(g,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:g.id||mi(),type:d,x:z,y:G,width:Ta,height:hb,angle:fb,strokeColor:X,backgroundColor:S,fillStyle:da,strokeWidth:ua,strokeStyle:oa,roughness:Na,opacity:Sa,groupIds:Eb,strokeSharpness:kc,seed:null!==(h=g.seed)&&void 0!==h?h:li(),version:g.version||1,versionNonce:null!==(n=g.versionNonce)&&void 0!==n?n:0,isDeleted:!1,boundElementIds:mc}},Mh=function(d){return Sg(d.type,d)},ak=function(d,g){return{x:"center"===d.textAlign?g.width/2:"right"===d.textAlign?g.width:0,y:"middle"===d.verticalAlign?
g.height/2:0}},Di=function(d){var g=of(d.text,ji(d)),h=ak(d,g);return Ye(wa(wa({},Sg("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-h.x,y:d.y-h.y,width:g.width,height:g.height,baseline:g.baseline}),{})},Nh=function(d){return wa(wa({},Sg(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},wd=function(d,g){if(void 0===
g&&(g=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var h="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},n;for(n in d)d.hasOwnProperty(n)&&(0!==g||"shape"!==n&&"canvas"!==n)&&(h[n]=wd(d[n],g+1));return h}if(Array.isArray(d)){h=d.length;for(n=Array(h);h--;)n[h]=wd(d[h],g+1);return n}return d},Ei=function(d,g,h,n){h=wd(h);return h.id=mi(),h.seed=li(),h.groupIds=function(z,G,X){var S=Zh([],z);G=G?z.indexOf(G):-1;z=-1<G?
G:z.length;for(G=0;G<z;G++)S[G]=X(S[G]);return S}(h.groupIds,d,function(z){return g.has(z)||g.set(z,mi()),g.get(z)}),n&&(h=Object.assign(h,n)),h},Vk={mouse:8,pen:16,touch:28},Fi={e:!0,s:!0,n:!0,w:!0},Bl={e:!0,s:!0,n:!0,w:!0},Wk={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Gi={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Uf=function(d,g,h,n,z,G,X){d=le(d+h/2,g+n/2,z,G,X);return[d[0]-h/2,d[1]-n/2,h,n]},Cj=function(d,g,h,n,z){var G=d[0],X=d[1],S=d[2];d=d[3];void 0===z&&(z={});var da=Vk[n];n=da/h.value;var ua=da/h.value,oa=
da/h.value,Na=da/h.value,Sa=S-G,Ta=d-X,hb=(G+S)/2,fb=(X+d)/2,Eb=4/h.value;da=(da-8)/(2*h.value);var kc={nw:z.nw?void 0:Uf(G-Eb-oa+da,X-Eb-Na+da,n,ua,hb,fb,g),ne:z.ne?void 0:Uf(S+Eb-da,X-Eb-Na+da,n,ua,hb,fb,g),sw:z.sw?void 0:Uf(G-Eb-oa+da,d+Eb-da,n,ua,hb,fb,g),se:z.se?void 0:Uf(S+Eb-da,d+Eb-da,n,ua,hb,fb,g),rotation:z.rotation?void 0:Uf(G+Sa/2-n/2,X-Eb-Na+da-16/h.value,n,ua,hb,fb,g)};h=5*Vk.mouse/h.value;return Math.abs(Sa)>h&&(z.n||(kc.n=Uf(G+Sa/2-n/2,X-Eb-Na+da,n,ua,hb,fb,g)),z.s||(kc.s=Uf(G+Sa/
2-n/2,d+Eb-da,n,ua,hb,fb,g))),Math.abs(Ta)>h&&(z.w||(kc.w=Uf(G-Eb-oa+da,X+Ta/2-ua/2,n,ua,hb,fb,g)),z.e||(kc.e=Uf(S+Eb-da,X+Ta/2-ua/2,n,ua,hb,fb,g))),kc},hg=function(d,g,h){void 0===h&&(h="mouse");var n={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var z=d.points[1];0===z[0]||0===z[1]?n=Gi:0<z[0]&&0>z[1]?n=Wk:0<z[0]&&0<z[1]?n=Gi:0>z[0]&&0<z[1]?n=Wk:0>z[0]&&0>z[1]&&(n=Gi)}}else"text"===d.type&&(n=Bl);return Cj(Ne(d),d.angle,g,h,n)},pf=function(d,g){return[0,0,0,0,
g,d,1,0]},Kg=function(d,g){void 0===d&&(d=0);void 0===g&&(g=0);var h=[0,0,0,0,0,0,0,0];if(0>g||7<g)throw Error("Expected `index` betwen 0 and 7, got `".concat(g,"`"));return 0!==d&&(h[g]=d),h},Ck=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},pj=function(d,g){return"number"==typeof g?[d[0]-g,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-g[0],d[1]-g[1],d[2]-g[2],d[3]-g[3],d[4]-g[4],d[5]-g[5],d[6]-g[6],d[7]-g[7]]},Yi=function(d,g){return"number"==typeof g?[d[0]*g,d[1]*g,d[2]*g,d[3]*g,
d[4]*g,d[5]*g,d[6]*g,d[7]*g]:[g[0]*d[0]+g[2]*d[2]+g[3]*d[3]-g[6]*d[6],g[1]*d[0]+g[0]*d[1]-g[4]*d[2]+g[5]*d[3]+g[2]*d[4]-g[3]*d[5]-g[7]*d[6]-g[6]*d[7],g[2]*d[0]+g[0]*d[2]-g[6]*d[3]+g[3]*d[6],g[3]*d[0]+g[6]*d[2]+g[0]*d[3]-g[2]*d[6],g[4]*d[0]+g[2]*d[1]-g[1]*d[2]+g[7]*d[3]+g[0]*d[4]+g[6]*d[5]-g[5]*d[6]+g[3]*d[7],g[5]*d[0]-g[3]*d[1]+g[7]*d[2]+g[1]*d[3]-g[6]*d[4]+g[0]*d[5]+g[4]*d[6]+g[2]*d[7],g[6]*d[0]+g[3]*d[2]-g[2]*d[3]+g[0]*d[6],g[7]*d[0]+g[6]*d[1]+g[5]*d[2]+g[4]*d[3]+g[3]*d[4]+g[2]*d[5]+g[1]*d[6]+g[0]*
d[7]]},$i=function(d,g){return[ai(d,g),d[1]*g[7]+d[4]*g[5]-d[5]*g[4]+d[7]*g[1],d[2]*g[7]-d[4]*g[6]+d[6]*g[4]+d[7]*g[2],d[3]*g[7]+d[5]*g[6]-d[6]*g[5]+d[7]*g[3],d[4]*g[7]+d[7]*g[4],d[5]*g[7]+d[7]*g[5],d[6]*g[7]+d[7]*g[6],d[7]*g[7]]},ai=function(d,g){return d[0]*g[7]+d[1]*g[6]+d[2]*g[5]+d[3]*g[4]+d[4]*g[3]+d[5]*g[2]+d[6]*g[1]+d[7]*g[0]},Yk=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},Yh=function(d){var g=Yk(d);return 0===g||1===g?d:Yi(d,(0>d[6]?-1:1)/g)},Lh=(Kg(1,
1),Kg(1,2),Kg(1,3),Kg(1,4),Kg(1,5),Kg(1,6),Kg(1,7),function(d,g,h){return Yh([0,h,d,g,0,0,0,0])}),ig=function(d,g){return h=d,[(n=g)[0]*h[0]+n[2]*h[2]+n[3]*h[3]-n[6]*h[6],n[1]*h[0]+n[0]*h[1]-n[4]*h[2]+n[5]*h[3]+n[2]*h[4]-n[3]*h[5]-n[7]*h[6]-n[6]*h[7],n[2]*h[0]+n[0]*h[2]-n[6]*h[3]+n[3]*h[6],n[3]*h[0]+n[6]*h[2]+n[0]*h[3]-n[2]*h[6],n[4]*h[0]+n[7]*h[3]+n[0]*h[4]+n[3]*h[7],n[5]*h[0]+n[7]*h[2]+n[0]*h[5]+n[2]*h[7],n[6]*h[0]+n[0]*h[6],n[7]*h[0]+n[0]*h[7]];var h,n},$h=function(d){return[0,0,0,0,d[1],d[0],
1,0]},rj=function(d){return[d[5],d[4]]},bk=function(d,g){return h=Yi(d,Math.sin(g/2)),n=Math.cos(g/2),"number"==typeof n?[h[0]+n,h[1],h[2],h[3],h[4],h[5],h[6],h[7]]:[h[0]+n[0],h[1]+n[1],h[2]+n[2],h[3]+n[3],h[4]+n[4],h[5]+n[5],h[6]+n[6],h[7]+n[7]];var h,n},Oh=function(d,g){return Yh(Yi(Yi(d,g),Ck(d)))},Hj=function(d,g,h,n){var z=10/g.zoom.value;return!sj(d,g,[h,n])&&nl(d,[h,n],z)},sj=function(d,g,h){g=10/g.zoom.value;if("text"===d.type)var n=Dk;else"arrow"===d.type?n=!1:(n="transparent"!==d.backgroundColor,
n="line"===d.type||"draw"===d.type?n&&th(d.points):n),n=n?Ze:yg;return Uk({element:d,point:h,threshold:g,check:n})},nl=function(d,g,h){var n=g[0],z=g[1],G=Ne(d);g=G[0];var X=G[1],S=G[2];G=G[3];n=le(n,z,(g+S)/2,(X+G)/2,-d.angle);d=n[0];n=n[1];return d>g-h&&d<S+h&&n>X-h&&n<G+h},bi=function(d,g){var h=g.x;g=g.y;var n=Zi(d,d.width,d.height);return Uk({element:d,point:[h,g],threshold:n,check:rg})},Zi=function(d,g,h){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(g,h),32))},
Uk=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var g=Ak(d.element,d.point);return d.check(g,d.threshold);case "arrow":case "line":case "draw":return Ug(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Ak=function(d,g){switch(d.type){case "rectangle":case "text":var h=Af(d,g),n=h[1],z=h[2];d=Math;g=d.max;h=Lh(0,1,-h[3]);h=ai(n,h);z=Lh(1,0,-z);n=ai(n,z);return g.call(d,h,n);case "diamond":return n=
Af(d,g),d=n[1],g=n[2],n=n[3],g=Lh(n,g,-n*g),ai(d,g);case "ellipse":return d=ok(d,g),g=d[1],-Math.sign(g[1])*ai(d[0],g)}},Dk=function(d,g){return 0>d},Ze=function(d,g){return d<g},yg=function(d,g){return Math.abs(d)<g},rg=function(d,g){return 0<=d&&d<g},ok=function(d,g){g=Af(d,g);d=g[1];var h=g[2],n=g[3];g=rj(d);var z=g[0],G=g[1],X=.707,S=.707;[0,1,2,3].forEach(function(da){da=(h*h-n*n)*Math.pow(X,3)/h;var ua=(n*n-h*h)*Math.pow(S,3)/n,oa=z-da,Na=G-ua,Sa=Math.hypot(n*S-ua,h*X-da),Ta=Math.hypot(Na,oa);
X=Math.min(1,Math.max(0,(oa*Sa/Ta+da)/h));S=Math.min(1,Math.max(0,(Na*Sa/Ta+ua)/n));da=Math.hypot(S,X);X/=da;S/=da});g=pf(h*X,n*S);return[d,ig(Yh($i(g,d)),g)]},Ug=function(d){var g=d.element,h=d.threshold;if(!bg.get(g))return!1;var n=Af(d.element,d.point),z=n[0],G=n[1],X=n[2];n=Lh(0,1,-n[3]);X=Lh(1,0,-X);if(!Ze(ai(G,n),h)||!Ze(ai(G,X),h))return!1;z=rj(z);var S=z[0],da=z[1];z=bg.get(g);return d.check===Ze&&z.some(function(ua){var oa=g.strokeSharpness;var Na=[],Sa=!1,Ta=0;for(ua=Xh(ua);Ta<ua.length;Ta++){var hb=
ua[Ta];"move"===hb.op?(Sa=!Sa)&&Na.push([hb.data[0],hb.data[1]]):"bcurveTo"===hb.op&&Sa&&(Na.push([hb.data[0],hb.data[1]]),Na.push([hb.data[2],hb.data[3]]),Na.push([hb.data[4],hb.data[5]]))}4<=Na.length?"sharp"===oa?oa=Fh(Na,S,da):(oa=Z(Na,10,5),oa=Fh(oa,S,da)):oa=!1;return oa})?!0:z.some(function(ua){return nj(ua,S,da,h)})},Af=function(d,g){var h,n=$h(g);g=Ne(d);var z=Zk(g),G=bk(z,d.angle);n=Oh(G,n);z=pj(n,[0,0,0,0,z[4],z[5],0,0]);z=[0,0,0,0,Math.abs(z[4]),Math.abs(z[5]),1,0];d=(h=d.x,[0,0,0,0,d.y,
h,0,0]);return[pj(n,d),z,(g[2]-g[0])/2,(g[3]-g[1])/2]},ze=function(d){var g=Ne(d);g=Zk(g);d=bk(g,d.angle);g=[0,0,0,0,g[4],g[5],0,0];g=Ck([1,0,0,0,-.5*g[5],.5*g[4],0,0]);return Yi(g,d)},Zk=function(d){return pf((d[0]+d[2])/2,(d[1]+d[3])/2)},me=function(d,g,h,n){switch(void 0===n&&(n=0),d.type){case "rectangle":case "text":case "diamond":var z=Vj(d);var G=z.flatMap(function(X,S){S=[X,z[(S+1)%4]];var da=n;X=S[0];S=S[1];var ua=[0,0,0,0,S[4]-X[4],S[5]-X[5],0,0];var oa=Math.sqrt(Math.abs(ua[7]*ua[7]-ua[5]*
ua[5]-ua[4]*ua[4]+ua[1]*ua[1]));ua=0===oa||1===oa?ua:Yi(ua,1/oa);da*=.5;da=[1,0,0,0,da*ua[4],da*ua[5],0,0];S=[Oh(da,X),Oh(da,S)];X=S[0];S=S[1];if(0<=ai(X,g)*ai(S,g))var Na=[];else{a:{X=Yh($i(S,X));X=Yh((Na=g,[(Sa=X)[0]*Na[0],Sa[1]*Na[0]+Sa[0]*Na[1],Sa[2]*Na[0]+Sa[0]*Na[2],Sa[3]*Na[0]+Sa[0]*Na[3],Sa[4]*Na[0]+Sa[2]*Na[1]-Sa[1]*Na[2]+Sa[0]*Na[4],Sa[5]*Na[0]-Sa[3]*Na[1]+Sa[1]*Na[3]+Sa[0]*Na[5],Sa[6]*Na[0]+Sa[3]*Na[2]-Sa[2]*Na[3]+Sa[0]*Na[6],Sa[7]*Na[0]+Sa[6]*Na[1]+Sa[5]*Na[2]+Sa[4]*Na[3]+Sa[3]*Na[4]+
Sa[2]*Na[5]+Sa[1]*Na[6]]));break a;var Sa}Na=[X]}return Na}).concat(z.flatMap(function(X){var S=n;if(0===S)var da=0===ai(g,X)?[X]:[];else{da=g[2];var ua=g[3],oa=g[1],Na=rj(X);X=Na[0];var Sa=Na[1];Na=da*da+ua*ua;S=S*S*Na-Math.pow(da*X+ua*Sa+oa,2);if(0===Na||0>=S)da=[];else{S=Math.sqrt(S);var Ta=X*ua*ua-Sa*da*ua-da*oa;oa=Sa*da*da-X*da*ua-ua*oa;da=[pf((Ta+ua*S)/Na,(oa-da*S)/Na),pf((Ta-ua*S)/Na,(oa+da*S)/Na)]}}return da}));break;case "ellipse":G=Wj(d,n,g)}if(2>G.length)return[];d=G.sort(function(X,S){return Yk($i(X,
h))-Yk($i(S,h))});return[d[0],d[d.length-1]]},Vj=function(d,g){void 0===g&&(g=1);var h=g*d.width/2;g=g*d.height/2;switch(d.type){case "rectangle":case "text":return[pf(h,g),pf(h,-g),pf(-h,-g),pf(-h,g)];case "diamond":return[pf(0,g),pf(h,0),pf(0,-g),pf(-h,0)]}},Wj=function(d,g,h){var n=d.width/2+g;d=d.height/2+g;g=h[2];var z=h[3],G=h[1];h=n*n*g*g+d*d*z*z;var X=h-G*G;if(0===h||0>=X)return[];X=Math.sqrt(X);var S=-n*n*g*G;G*=-d*d*z;return[pf((S+n*d*z*X)/h,(G-n*d*g*X)/h),pf((S-n*d*z*X)/h,(G+n*d*g*X)/h)]},
nk=function(d,g,h){var n=Math.sign(g),z=0,G=null;return Vj(d,Math.abs(g)).forEach(function(X){var S=n*Yh($i(X,h))[1];S>z&&(z=S,G=X)}),G},nj=function(d,g,h,n){var z=[0,0];return Xh(d).some(function(G,X){X=G.op;var S=G.data;if("move"===X)z=S;else if("bcurveTo"===X){G=[S[0],S[1]];X=[S[2],S[3]];S=[S[4],S[5]];var da=z;return z=S,function(ua,oa,Na,Sa,Ta,hb){var fb=Ta[0];Ta=Ta[1];for(var Eb=function(rd,pd){return Math.pow(1-rd,3)*Sa[pd]+3*rd*Math.pow(1-rd,2)*Na[pd]+3*Math.pow(rd,2)*(1-rd)*oa[pd]+ua[pd]*
Math.pow(rd,3)},kc=0;1>=kc;){var mc=Eb(kc,0),xc=Eb(kc,1);if(Math.sqrt(Math.pow(mc-fb,2)+Math.pow(xc-Ta,2))<hb)return!0;kc+=.01}return!1}(da,G,X,S,[g,h],n)}return!1})},uh=function(d,g,h){return g>=d[0]&&g<=d[0]+d[2]&&h>=d[1]&&h<=d[1]+d[3]},Lg=function(d,g,h,n,z,G){return d.reduce(function(X,S){return X?X:(X=function(da,ua,oa,Na,Sa,Ta){if(!ua.selectedElementIds[da.id])return!1;da=hg(da,Sa,Ta);ua=da.rotation;var hb=oi()(da,["rotation"]);if(ua&&uh(ua,oa,Na))return"rotation";da=Object.keys(hb).filter(function(fb){fb=
hb[fb];return!!fb&&uh(fb,oa,Na)});return 0<da.length&&da[0]}(S,g,h,n,z,G))?{element:S,transformHandleType:X}:null},null)},Ag=function(d,g,h,n,z){var G=Cj([d[0],d[1],d[2],d[3]],0,n,z,Fi);return Object.keys(G).find(function(X){return(X=G[X])&&uh(X,g,h)})||!1},pi=["ns","nesw","ew","nwse"],yh=function(d){var g=d.element,h=g&&-1==Math.sign(g.height)*Math.sign(g.width),n=null;switch(d.transformHandleType){case "n":case "s":n="ns";break;case "w":case "e":n="ew";break;case "nw":case "se":n=h?"nesw":"nwse";
break;case "ne":case "sw":n=h?"nwse":"nesw";break;case "rotation":return"grab"}n&&g&&(d=n,g=g.angle,h=pi.indexOf(d),0<=h&&(d=pi[(h+Math.round(g/(Math.PI/4)))%pi.length]),n=d);return n?"".concat(n,"-resize"):""},ck=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},hf=function(){function d(g,h){this.elementId=g.id;td.mapElementToScene(this.elementId,h);d.normalizePoints(g);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};
this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(g){var h;return(null===(h=td.getScene(g))||void 0===h?void 0:h.getNonDeletedElement(g))||null},d.handlePointDragging=function(g,h,n,z,G){if(!g.editingLinearElement)return!1;var X=g.editingLinearElement,S=X.activePointIndex,da=X.isDragging,ua=d.getElement(X.elementId);return ua?null!=S&&-1<S?(!1===da&&h({editingLinearElement:Oa(Oa({},X),{},{isDragging:!0})}),g=d.createPointAt(ua,n-X.pointerOffset.x,z-X.pointerOffset.y,
g.gridSize),d.movePoint(ua,S,g),vg(ua)&&G(ua,0===S?"start":"end"),!0):!1:!1},d.handlePointerUp=function(g,h,n){g=h.activePointIndex;var z=h.isDragging,G=d.getElement(h.elementId);if(!G)return h;var X={};!z||0!==g&&g!==G.points.length-1||(th(G.points,n.zoom.value)&&d.movePoint(G,g,0===g?G.points[G.points.length-1]:G.points[0]),z=n.isBindingEnabled?fj(gg(d.getPointAtIndexGlobalCoordinates(G,g)),td.getScene(G)):null,(n={})[0===g?"startBindingElement":"endBindingElement"]=z,X=n);return Oa(Oa(Oa({},h),
X),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(g,h,n,z,G){var X={didAddPoint:!1,hitElement:null};if(!h.editingLinearElement)return X;var S=d.getElement(h.editingLinearElement.elementId);if(!S)return X;if(g.altKey)return null==h.editingLinearElement.lastUncommittedPoint&&Dd(S,{points:ck(ck([],S.points),[d.createPointAt(S,G.x,G.y,h.gridSize)])}),z.resumeRecording(),n({editingLinearElement:Oa(Oa({},h.editingLinearElement),{},{activePointIndex:S.points.length-1,lastUncommittedPoint:null,
endBindingElement:fj(G,td.getScene(S))})}),X.didAddPoint=!0,X;g=d.getPointIndexUnderCursor(S,h.zoom,G.x,G.y);if(-1<g)X.hitElement=S;else{var da=h.editingLinearElement;z=da.startBindingElement;da=da.endBindingElement;h.isBindingEnabled&&vg(S)&&zd(S,z,da)}da=Ne(S);z=(da[0]+da[2])/2;da=(da[1]+da[3])/2;S=-1<g&&le(S.x+S.points[g][0],S.y+S.points[g][1],z,da,S.angle);return n({editingLinearElement:Oa(Oa({},h.editingLinearElement),{},{activePointIndex:-1<g?g:null,pointerOffset:S?{x:G.x-S[0],y:G.y-S[1]}:{x:0,
y:0}})}),X},d.handlePointerMove=function(g,h,n,z,G){var X=z.lastUncommittedPoint,S=d.getElement(z.elementId);if(!S)return z;var da=S.points,ua=da[da.length-1];if(!g.altKey)return ua===X&&d.movePoint(S,da.length-1,"delete"),Oa(Oa({},z),{},{lastUncommittedPoint:null});g=d.createPointAt(S,h-z.pointerOffset.x,n-z.pointerOffset.y,G);return ua===X?d.movePoint(S,S.points.length-1,g):d.movePoint(S,"new",g),Oa(Oa({},z),{},{lastUncommittedPoint:S.points[S.points.length-1]})},d.getPointsGlobalCoordinates=function(g){var h=
Ne(g),n=(h[0]+h[2])/2,z=(h[1]+h[3])/2;return g.points.map(function(G){var X;return[(X=le(g.x+G[0],g.y+G[1],n,z,g.angle))[0],X[1]]})},d.getPointAtIndexGlobalCoordinates=function(g,h){var n=0>h?g.points.length+h:h;h=Ne(g);n=g.points[n];return le(g.x+n[0],g.y+n[1],(h[0]+h[2])/2,(h[1]+h[3])/2,g.angle)},d.pointFromAbsoluteCoords=function(g,h){var n=Ne(g);h=le(h[0],h[1],(n[0]+n[2])/2,(n[1]+n[3])/2,-g.angle);return[h[0]-g.x,h[1]-g.y]},d.getPointIndexUnderCursor=function(g,h,n,z){g=this.getPointsGlobalCoordinates(g);
for(var G=g.length;-1<--G;){var X=g[G];if(Math.hypot(X[0]-n,X[1]-z)*h.value<this.POINT_HANDLE_SIZE/2+1)return G}return-1},d.createPointAt=function(g,h,n,z){h=wg(h,n,z);n=Ne(g);h=le(h[0],h[1],(n[0]+n[2])/2,(n[1]+n[3])/2,-g.angle);return[h[0]-g.x,h[1]-g.y]},d.normalizePoints=function(g){var h=g.points,n=h[0][0],z=h[0][1];Dd(g,{points:h.map(function(G,X){return[G[0]-n,G[1]-z]}),x:g.x+n,y:g.y+z})},d.movePointByOffset=function(g,h,n){var z=g.points[h];d.movePoint(g,h,[z[0]+n.x,z[1]+n.y])},d.movePoint=
function(g,h,n,z){var G=g.points,X=0,S=0;if("delete"===n){if("new"===h)throw Error("invalid args in movePoint");(n=G.slice()).splice(h,1);0===h&&(X=n[0][0],S=n[0][1],n=n.map(function(Na,Sa){return 0===Sa?[0,0]:[Na[0]-X,Na[1]-S]}))}else if("new"===h)n=ck(ck([],G),[n]);else{var da=n[0]-G[h][0],ua=n[1]-G[h][1];n=G.map(function(Na,Sa){return Sa===h?0===Sa?(X=da,S=ua,Na):(X=0,S=0,[Na[0]+da,Na[1]+ua]):X||S?[Na[0]-X,Na[1]-S]:Na})}var oa=De(g,n,g.strokeSharpness||"round");G=De(g,G,g.strokeSharpness||"round");
G=le(X,S,(G[0]+G[2])/2-(oa[0]+oa[2])/2,(G[1]+G[3])/2-(oa[1]+oa[3])/2,g.angle);Dd(g,Oa(Oa({},z),{},{points:n,x:g.x+G[0],y:g.y+G[1]}))},d}();hf.POINT_HANDLE_SIZE=20;var Of=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},zd=function(d,g,h){var n=new Set,z=new Set;qk(d,g,h,"start",n,z);qk(d,h,g,"end",n,z);g=Array.from(z).filter(function(G){return!n.has(G)});td.getScene(d).getNonDeletedElements(g).forEach(function(G){var X;Dd(G,{boundElementIds:null===(X=G.boundElementIds)||
void 0===X?void 0:X.filter(function(S){return S!==d.id})})})},qk=function(d,g,h,n,z,G){if("keep"!==g)if(null!=g)null!=h&&("keep"===h?Ge(d,g,n):"start"!==n&&h.id===g.id)||(Li(d,g,n),z.add(g.id));else{var X;g="start"===n?"startBinding":"endBinding";h=d[g];d=null==h?null:(Dd(d,((X={})[g]=null,X)),h.elementId);null!=d&&G.add(d)}},tj=function(d){d.forEach(function(g){vg(g)?zd(g,se(g,"start"),se(g,"end")):Ai(g)&&dk(g)})},dk=function(d){uj(d).forEach(function(g){var h=g[1];return zd(g[0],"end"===h?"keep":
d,"start"===h?"keep":d)})},Bg=function(d,g,h,n){null!=g.startBoundElement&&Li(d,g.startBoundElement,"start");g=fj(n,h);null==g||Ge(d,g,"end")||Li(d,g,"end")},Li=function(d,g,h){var n,z;Dd(d,((n={})["start"===h?"startBinding":"endBinding"]=function(G){for(var X=1;X<arguments.length;X++){var S=null!=arguments[X]?arguments[X]:{};X%2?pb(Object(S),!0).forEach(function(da){ce()(G,da,S[da])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(S)):pb(Object(S)).forEach(function(da){Object.defineProperty(G,
da,Object.getOwnPropertyDescriptor(S,da))})}return G}({elementId:g.id},Dg(d,g,h)),n));Dd(g,{boundElementIds:Array.from(new Set(Of(Of([],null!==(z=g.boundElementIds)&&void 0!==z?z:[]),[d.id])))})},Ge=function(d,g,h){h=d["start"===h?"endBinding":"startBinding"];return(null==h?void 0:h.elementId)===g.id&&3>d.points.length},md=function(d){d.forEach(function(g){vg(g)&&zd(g,null,null)})},fj=function(d,g){return Ah(g.getElements(),function(h){return Ai(h)&&bi(h,d)})},Dg=function(d,g,h){var n="start"===h?
-1:1;h=-1===n?0:d.points.length-1;n=h-n;h=hf.getPointAtIndexGlobalCoordinates(d,h);n=hf.getPointAtIndexGlobalCoordinates(d,n);a:{d=ze(g);n=Oh(d,$h(n));d=Oh(d,$h(h));var z=Yh($i(d,n));d=g.height/g.width;n=g.width/2;var G=g.height/2,X=z[2],S=z[3];z=z[1];var da=Math.abs(S),ua=Math.abs(X);switch(g.type){case "rectangle":case "text":d=z/(n*(ua+d*da));break a;case "diamond":d=da<ua?z/(ua*n):z/(da*G);break a;case "ellipse":d=z/(n*Math.sqrt(Math.pow(X,2)+Math.pow(d,2)*Math.pow(S,2)));break a}d=void 0}return{focus:d,
gap:Math.max(1,Ak(g,h))}},zh=function(d,g){var h,n=null!==(h=d.boundElementIds)&&void 0!==h?h:[];if(0!==n.length){g=null!=g?g:{};var z=g.newSize,G=bf(g.simultaneouslyUpdated);td.getScene(d).getNonDeletedElements(n).forEach(function(X){var S,da;if((null===(S=X.startBinding)||void 0===S?void 0:S.elementId)===d.id||(null===(da=X.endBinding)||void 0===da?void 0:da.elementId)===d.id)S=gj(d,X.startBinding,z),da=gj(d,X.endBinding,z),G.has(X.id)?Dd(X,{startBinding:S,endBinding:da}):(bl(X,"start",S,d),bl(X,
"end",da,d))})}},bf=function(d){return new Set((d||[]).map(function(g){return g.id}))},bl=function(d,g,h,n){var z;if(!(null==h||h.elementId!==n.id&&2<d.points.length)){var G=td.getScene(d).getElement(h.elementId);if(null!=G){var X="start"===g?-1:1;n=-1===X?0:d.points.length-1;var S=hf.getPointAtIndexGlobalCoordinates(d,n-X);X=function(da,ua,oa){if(0===ua){var Na=Ne(da);Na=Zk(Na);return rj(Na)}Na=ze(da);oa=Oh(Na,$h(oa));Na=Ck(Na);switch(da.type){case "rectangle":case "text":case "diamond":var Sa=nk(da,
ua,oa);break;case "ellipse":var Ta=Math.abs(ua);Sa=da.width*Ta/2;da=da.height*Ta/2;ua=Math.sign(ua);Ta=rj(oa);oa=Ta[0];Ta=Ta[1];Ta=0===Ta?1E-4:Ta;var hb=Math.pow(oa,2)*Math.pow(da,2)+Math.pow(Ta,2)*Math.pow(Sa,2);ua=(-oa*Math.pow(da,2)+ua*Ta*Math.sqrt(Math.max(0,hb-Math.pow(Sa,2)*Math.pow(da,2))))/hb;oa=(-ua*oa-1)/Ta;Sa=-Math.pow(Sa,2)*ua/(Math.pow(oa,2)*Math.pow(da,2)+Math.pow(ua,2)*Math.pow(Sa,2));Sa=pf(Sa,(-ua*Sa-1)/oa)}return rj(Oh(Na,Sa))}(G,h.focus,S);0===h.gap?G=X:(G=function(da,ua,oa,Na){void 0===
Na&&(Na=0);var Sa=ze(da);ua=Oh(Sa,$h(ua));oa=Oh(Sa,$h(oa));oa=Yh($i(oa,ua));var Ta=Ck(Sa);return me(da,oa,ua,Na).map(function(hb){return rj(Oh(Ta,hb))})}(G,S,X,h.gap),G=0===G.length?X:G[0]);hf.movePoint(d,n,hf.pointFromAbsoluteCoords(d,G),((z={})["start"===g?"startBinding":"endBinding"]=h,z))}}},gj=function(d,g,h){if(null==g||null==h)return g;var n=g.gap,z=g.focus,G=h.width;h=h.height;var X=d.width,S=d.height;return{elementId:g.elementId,gap:Math.max(1,Math.min(Zi(d,G,h),n*(G<h?G/X:h/S))),focus:z}},
Wg=function(d){return[se(d,"start"),se(d,"end")].filter(function(g){return null!=g})},se=function(d,g){return fj(gg(hf.getPointAtIndexGlobalCoordinates(d,"start"===g?0:-1)),td.getScene(d))},uj=function(d){return td.getScene(d).getElements().map(function(g){if(!vg(g))return null;var h=Hf(g,"start",d),n=Hf(g,"end",d);return h||n?[g,h&&n?"both":h?"start":"end",d]:null}).filter(function(g){return null!=g})},Hf=function(d,g,h){return null==d["start"===g?"startBinding":"endBinding"]&&!Ge(d,h,g)&&bi(h,gg(hf.getPointAtIndexGlobalCoordinates(d,
"start"===g?0:-1)))},Xj=function(d,g,h,n){var z=new Set,G=new Set,X="duplicatesServeAsOld"===n;g.forEach(function(S){var da=S.boundElementIds;if(null!=da&&0<da.length&&(da.forEach(function(ua){X&&!h.has(ua)&&z.add(ua)}),G.add(h.get(S.id))),vg(S))null!=S.startBinding&&(da=S.startBinding.elementId,X&&!h.has(da)&&G.add(da)),null!=S.endBinding&&(da=S.endBinding.elementId,X&&!h.has(da)&&G.add(da)),null==S.startBinding&&null==S.endBinding||z.add(h.get(S.id))});d.filter(function(S){return z.has(S.id)}).forEach(function(S){var da=
S.endBinding;Dd(S,{startBinding:Xg(S.startBinding,h),endBinding:Xg(da,h)})});d.filter(function(S){return G.has(S.id)}).forEach(function(S){var da=S.boundElementIds;null!=da&&0<da.length&&Dd(S,{boundElementIds:da.map(function(ua){var oa;return null!==(oa=h.get(ua))&&void 0!==oa?oa:ua})})})},Xg=function(d,g){var h;if(null==d)return null;var n=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(h=g.get(n))&&void 0!==h?h:n}},ti=function(d,g){var h=new Set(g.map(function(z){return z.id})),n=new Set;
g.forEach(function(z){var G;Ai(z)&&(null===(G=z.boundElementIds)||void 0===G||G.forEach(function(X){h.has(X)||n.add(X)}))});d.filter(function(z){return n.has(z.id)}).forEach(function(z){var G=z.endBinding;Dd(z,{startBinding:vj(z.startBinding,h),endBinding:vj(G,h)})})},vj=function(d,g){return null==d||g.has(d.elementId)?null:d},Qf=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},pe=function(d){return d>=2*Math.PI?d-2*Math.PI:d},Pe=function(d,g,h){return Md(d)?{points:Wh(0,
g,Wh(1,h,d.points))}:{}},cg=function(d,g,h){g=g/d.width*d.fontSize;if(1>g)return null;d=of(d.text,ji({fontSize:g,fontFamily:d.fontFamily}));return{size:g,baseline:d.baseline+(h-d.height)}},uk=function(d,g,h,n){var z=Zc(d),G=z[0],X=z[1],S=z[2],da=z[3];switch(g){case "se":var ua=Math.max((h-G)/(S-G),(n-X)/(da-X));var oa=function(Sa,Ta,hb){var fb=Ta[0];Ta=Ta[1];return{x:Sa.x+(fb-G)*(ua-1)+fb-hb[0],y:Sa.y+(Ta-X)*(ua-1)+Ta-hb[1]}};break;case "nw":ua=Math.max((S-h)/(S-G),(da-n)/(da-X));oa=function(Sa,Ta,
hb){var fb=Ta[2];Ta=Ta[3];return{x:Sa.x-(S-fb)*(ua-1)+fb-hb[2],y:Sa.y-(da-Ta)*(ua-1)+Ta-hb[3]}};break;case "ne":ua=Math.max((h-G)/(S-G),(da-n)/(da-X));oa=function(Sa,Ta,hb){var fb=Ta[0];Ta=Ta[3];return{x:Sa.x+(fb-G)*(ua-1)+fb-hb[0],y:Sa.y-(da-Ta)*(ua-1)+Ta-hb[3]}};break;case "sw":ua=Math.max((S-h)/(S-G),(n-X)/(da-X)),oa=function(Sa,Ta,hb){var fb=Ta[1];Ta=Ta[2];return{x:Sa.x-(S-Ta)*(ua-1)+Ta-hb[2],y:Sa.y+(fb-X)*(ua-1)+fb-hb[1]}}}if(0<ua){var Na=d.reduce(function(Sa,Ta){if(!Sa)return Sa;var hb=Ta.width*
ua,fb=Ta.height*ua,Eb={};if("text"===Ta.type){Eb=cg(Ta,hb,fb);if(null===Eb)return null;Eb={fontSize:Eb.size,baseline:Eb.baseline}}var kc=Ne(Ta),mc=Pe(Ta,hb,fb);zh(Ta,{newSize:{width:hb,height:fb},simultaneouslyUpdated:d});var xc=pg(Mb(Mb({},Ta),mc),hb,fb);kc=oa(Ta,kc,xc);Ta=kc.x;kc=kc.y;return Qf(Qf([],Sa),[Mb(Mb({width:hb,height:fb,x:Ta,y:kc},mc),Eb)])},[]);Na&&d.forEach(function(Sa,Ta){Dd(Sa,Na[Ta])})}},mg=function(d,g,h,n,z,G,X){var S=5*Math.PI/2+Math.atan2(n-X,h-G);z&&(S+=Sb.ay/2,S-=S%Sb.ay);
g.forEach(function(da,ua){var oa,Na,Sa=Ne(da);ua=(Sa[0]+Sa[2])/2;Sa=(Sa[1]+Sa[3])/2;var Ta=null!==(oa=null===(Na=d.originalElements.get(da.id))||void 0===Na?void 0:Na.angle)&&void 0!==oa?oa:da.angle;oa=le(ua,Sa,G,X,S+Ta-da.angle);Dd(da,{x:da.x+(oa[0]-ua),y:da.y+(oa[1]-Sa),angle:pe(S+Ta)})})},Df=function(d,g,h,n,z,G,X,S,da,ua){var oa;da&&(X=(oa=Gf(g,X,G<n?-S:S)).width,0>(S=oa.height)&&(S=-S));g=z<h?h-X:h;G=G<n?n-S:n;ua&&(g=h-(X+=X)/2,G=n-(S+=S)/2);0!==X&&0!==S&&Dd(d,{x:g,y:G,width:X,height:S})},Ue=
function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},Pj=function(d){var g=of(d.text,ji(d));Dd(d,{width:g.width,height:g.height,baseline:g.baseline})},vk=function(d,g){return!(d.viewModeEnabled||!d.editingElement&&!Ee(g,d).length&&"selection"===d.elementType)},pk=function(d){return d.filter(function(g){return g.isDeleted||!Vf(g)})},xh=function(d){return d.reduce(function(g,h){return g[h.id]=h,g},{})},gf=function(d){return d.reduce(function(g,h){return g+h.version},0)},dd=function(d){return d.filter(function(g){return!g.isDeleted})},
Hk=function(d){return dd(d).map(function(g){return bh(g.type)?Zb(Zb({},g),{},{lastCommittedPoint:null}):g})},oh=function(d,g,h){var n=[d.horizontal,d.vertical].map(function(z){return null!=z&&z.x<=g&&g<=z.x+z.width&&z.y<=h&&h<=z.y+z.height});d=n[0];n=n[1];return{isOverEither:d||n,isOverHorizontal:d,isOverVertical:n}},wf=function(d,g){return d.some(function(h){return g.selectedElementIds[h.id]})},Ee=function(d,g){return d.filter(function(h){return g.selectedElementIds[h.id]})},bj=function(d,g){return g.editingElement?
[g.editingElement]:Ee(d,g)},mh=function(d){var g=d.scenePoint,h=d.viewportDimensions;d=d.zoom;return{scrollX:h.width/2*(1/d.value)-g.x-1/d.value*d.translation.x,scrollY:h.height/2*(1/d.value)-g.y-1/d.value*d.translation.y}},fe=function(d,g,h){var n;if(!d.length)return{scrollX:0,scrollY:0};var z=Zc(d);h=z[0];var G=z[1],X=z[2];z=z[3];return function(S,da,ua){da=ua[2];var oa=ua[3],Na=xg({sceneX:ua[0],sceneY:ua[1]},S);ua=Na.x;Na=Na.y;da=xg({sceneX:da,sceneY:oa},S);oa=da.y;return da.x-ua>S.width||oa-Na>
S.height}(g,0,[h,G,X,z])&&(h=(n=function(S,da){if(!S.length)return[0,0,0,0];var ua=1/0,oa=S[0];return S.forEach(function(Na){var Sa=fg(Na);Sa=Math.hypot(da.x-(Sa[0]+Sa[2])/2,da.y-(Sa[1]+Sa[3])/2);Sa<ua&&(ua=Sa,oa=Na)}),fg(oa)}(d,Lf({clientX:g.scrollX,clientY:g.scrollY},g)))[0],G=n[1],X=n[2],z=n[3]),mh({scenePoint:{x:(h+X)/2,y:(G+z)/2},viewportDimensions:{width:g.width,height:g.height},zoom:g.zoom})},Hi=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Mi=function(d){return"rectangle"===
d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},Ni=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},Ah=function(d,g){for(var h=null,n=d.length-1;0<=n;--n){var z=d[n];if(!z.isDeleted&&g(z)){h=z;break}}return h},Rh=function(d,g,h,n){return void 0===n&&(n={x:0,y:0}),{value:d,translation:{x:n.x-h.left-d/g.value*(n.x-h.left-g.translation.x),y:n.y-h.top-d/g.value*(n.y-h.top-g.translation.y)}}},hj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,
10))},Hd=(m(9478),sa().forwardRef(function(d,g){var h=sa().useRef(null);sa().useImperativeHandle(g,function(){return h.current});g="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?sa().createElement("button",{className:hc("ToolIcon_type_button",g,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:h},
sa().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&sa().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&sa().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):sa().createElement("label",{className:hc("ToolIcon",d.className),title:d.title},sa().createElement("input",{className:"ToolIcon_type_radio ".concat(g),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],
"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:h}),sa().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&sa().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));Hd.defaultProps={visible:!0,className:""};var Ve=function(d){return"light"===d?jd.$y[4]:jd.$y[9]},id=function(d){return"light"===d?jd.Sn:jd.MA[4]},Pf=function(d){return"light"===d?jd.ix:"#1e1e1e"},ed=function(d,g){void 0===g&&(g=512);g="number"==typeof g?
{width:g}:g;var h=g.width;h=void 0===h?512:h;var n=g.height;n=void 0===n?h:n;var z=g.mirror;g=g.style;return sa().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(h," ").concat(n),className:hc({"rtl-mirror":z}),style:g},"string"==typeof d?sa().createElement("path",{fill:"currentColor",d}):d)},ei=ed("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),ud=ed("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Ik=ed("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),cl=ed("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),wj=ed("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),uc=ed("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Tc=ed("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
Cc=ed("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Ic=ed("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),ph=ed("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),kf=ed("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),qh=ed("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
Xd=ed("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),rh=ed("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),Sh=ed("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),yc=(ed("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ed("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),ed(sa().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),Rc=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,
null,sa().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:id(d),stroke:id(d),strokeWidth:"2"}),sa().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),ve=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,
null,sa().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"}),sa().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:id(d),stroke:id(d),strokeWidth:"2"})),{width:24,mirror:!0})}),ic=sa().memo(function(d){d=d.appearance;
return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:id(d),stroke:id(d),strokeWidth:"2"}),sa().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),kk=sa().memo(function(d){d=
d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ve(d),stroke:Ve(d),strokeLinejoin:"round",strokeWidth:"2"}),sa().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:id(d),stroke:id(d),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),wl=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M 2,5 H 22",fill:id(d),stroke:id(d),strokeWidth:"2",strokeLinecap:"round"}),sa().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),vi=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M 2,19 H 22",fill:id(d),stroke:id(d),strokeWidth:"2",strokeLinecap:"round"}),sa().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Ph=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M 5,2 V 22",fill:id(d),stroke:id(d),strokeWidth:"2",strokeLinecap:"round"}),sa().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),Ii=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M 19,2 V 22",fill:id(d),stroke:id(d),strokeWidth:"2",strokeLinecap:"round"}),sa().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),Lc=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M5 5V19Z",fill:"black"}),sa().createElement("path",{d:"M19 5V19M5 5V19",stroke:id(d),strokeWidth:"2",strokeLinecap:"round"}),sa().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),Zg=
sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M5 5L19 5M5 19H19",fill:id(d),stroke:id(d),strokeWidth:"2",strokeLinecap:"round"}),sa().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"})),{width:24})}),ij=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"}),sa().createElement("path",{d:"M 2,12 H 22",fill:id(d),stroke:id(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),jj=sa().memo(function(d){d=d.appearance;
return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ve(d),stroke:Ve(d),strokeWidth:"2"}),sa().createElement("path",{d:"M 12,2 V 22",fill:id(d),stroke:id(d),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),bd=ed("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),xj=(ed("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ed("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ed("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),Og=ed("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Ef=ed("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Wc=ed("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),He=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",
{d:"M25 26H111V111H25",fill:id(d)}),sa().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:id(d),strokeWidth:"2"}),sa().createElement("path",{d:"M100 100H160V160H100",fill:id(d)}),sa().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:id(d),strokeWidth:"2"}),sa().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Te=sa().memo(function(d){d=d.appearance;return ed(sa().createElement(sa().Fragment,null,sa().createElement("path",{d:"M25 26H111V111H25",fill:id(d)}),sa().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:id(d),strokeWidth:"2"}),sa().createElement("path",{d:"M100 100H160V160H100",fill:id(d)}),sa().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:id(d),strokeWidth:"2"}),sa().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"}),sa().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Pf(d),stroke:id(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),xl=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:id(d)}),{width:40,height:20})}),ci=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("g",{fill:id(d),fillRule:"evenodd",clipRule:"evenodd"},sa().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),sa().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),hi=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M2 2H38V18H2V2Z",fill:id(d)}),{width:40,height:20})}),Lj=sa().memo(function(d){var g=d.appearance;d=d.strokeWidth;return ed(sa().createElement("path",{d:"M6 10H34",stroke:id(g),strokeWidth:d,fill:"none"}),{width:40,height:20})}),jg=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M6 10H34",stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),nh=sa().memo(function(d){d=
d.appearance;return ed(sa().createElement("path",{d:"M6 10H34",stroke:id(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),kg=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M6 10H34",stroke:id(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Oi=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),$k=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),tf=sa().memo(function(d){d=
d.appearance;return ed(sa().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),pl=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",
{d:"M10 17L10 5L35 5",stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Qj=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),If=sa().memo(function(d){d=d.appearance;return ed(sa().createElement("path",{d:"M6 10H34",stroke:id(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),dl=sa().memo(function(d){var g=d.appearance;d=d.flip;d=void 0!==
d&&d;return ed(sa().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:id(g),strokeWidth:2,fill:"none"},sa().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),sa().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),al=sa().memo(function(d){var g=d.appearance;d=d.flip;d=void 0!==d&&d;return ed(sa().createElement("g",{stroke:id(g),fill:id(g),transform:d?"translate(40, 0) scale(-1, 1)":""},sa().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
sa().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Rj=sa().memo(function(d){var g=d.appearance;d=d.flip;d=void 0!==d&&d;return ed(sa().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},sa().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:id(g),strokeWidth:2,fill:"none"})),{width:40,height:20})}),Ed=[],cd=function(d){return Ed=Ed.concat(d),d},Ji=function(d,g){var h;return d.editingGroupId&&(g=qj(dd(g),d.editingGroupId),
g.length)?rc(rc({},d),{},{selectedElementIds:(h={},h[g[0].id]=!0,h)}):d},cj=cd({name:"deleteSelectedElements",perform:function(d,g){if(g.editingLinearElement){var h=g.editingLinearElement,n=h.activePointIndex,z=h.startBindingElement,G=h.endBindingElement,X=hf.getElement(h.elementId);if(!X)return!1;if(null==n||-1===n||2>X.points.length)return d=d.filter(function(S){return S.id!==X.id}),{elements:d,appState:rc(rc({},Ji(g,d)),{},{editingLinearElement:null}),commitToHistory:!1};h={startBindingElement:0===
n?null:z,endBindingElement:n===X.points.length-1?null:G};return hf.movePoint(X,n,"delete"),{elements:d,appState:rc(rc({},g),{},{editingLinearElement:rc(rc(rc({},g.editingLinearElement),h),{},{activePointIndex:0<n?n-1:0})}),commitToHistory:!0}}h=function(S,da){return{elements:S.map(function(ua){return da.selectedElementIds[ua.id]?Ye(ua,{isDeleted:!0}):ua}),appState:rc(rc({},da),{},{selectedElementIds:{}})}}(d,g);n=h.elements;h=h.appState;return ti(n,d.filter(function(S){return g.selectedElementIds[S.id]})),
{elements:n,appState:rc(rc({},h=Ji(h,n)),{},{elementType:"selection",multiElement:null}),commitToHistory:wf(dd(d),g)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{type:"button",icon:uc,title:jb("labels.delete"),"aria-label":jb("labels.delete"),onClick:function(){return n(null)},visible:wf(dd(g),h)})}}),tg=function(d,g){for(var h=0,n=g.length,z=
d.length;h<n;h++,z++)d[z]=g[h];return d},ql=function(d,g){for(var h=[],n=[],z=null,G=-1;++G<d.length;)g.selectedElementIds[d[G].id]?(n.length&&(h=h.concat(n),n=[]),h.push(G),z=G+1):d[G].isDeleted&&z===G?(z=G+1,n.push(G)):n=[];return h},ag=function(d,g,h,n){var z=g[h],G=function(X){return!X.isDeleted&&(!d.editingGroupId||X.groupIds.includes(d.editingGroupId))};h="left"===n?function(X,S,da){void 0===da&&(da=X.length-1);0>da&&(da=X.length+da);for(da=Math.min(X.length-1,Math.max(da,0))+1;-1<--da;)if(S(X[da],
da,X))return da;return-1}(g,G,Math.max(0,h-1)):function(X,S,da){void 0===da&&(da=0);0>da&&(da=X.length+da);for(da=Math.min(X.length,Math.max(da,0))-1;++da<X.length;)if(S(X[da],da,X))return da;return-1}(g,G,h+1);G=g[h];if(!G)return-1;if(d.editingGroupId){if((null==z?void 0:z.groupIds.join(""))===(null==G?void 0:G.groupIds.join("")))return h;if(null==G||!G.groupIds.includes(d.editingGroupId))return-1}if(!G.groupIds.length)return h;z=d.editingGroupId?G.groupIds[G.groupIds.indexOf(d.editingGroupId)-1]:
G.groupIds[G.groupIds.length-1];z=qj(g,z);return z.length?"left"===n?g.indexOf(z[0]):g.indexOf(z[z.length-1]):h},jf=function(d,g,h){var n,z=ql(g,d),G=(n=0,z.reduce(function(X,S,da){return 0<da&&z[da-1]!==S-1&&(n=++n),(X[n]||(X[n]=[])).push(S),X},[]));return"right"===h&&(G=G.reverse()),G.forEach(function(X,S){S=X[0];X=X[X.length-1];var da="left"===h?S:X,ua=ag(d,g,da,h);if(-1!==ua&&da!==ua){da="left"===h?g.slice(0,ua):g.slice(0,S);var oa=g.slice(S,X+1);S="left"===h?g.slice(ua,S):g.slice(X+1,ua+1);X=
"left"===h?g.slice(X+1):g.slice(ua+1);g=tg("left"===h?tg(tg(tg([],da),oa),S):tg(tg(tg([],da),S),oa),X)}}),g},eg=function(d,g,h){var n=ql(d,g),z=[],G=[];if("left"===h){if(g.editingGroupId){if(!(g=qj(d,g.editingGroupId)).length)return d;var X=d.indexOf(g[0])}else X=0;g=n[n.length-1]}else{if(g.editingGroupId){if(!(g=qj(d,g.editingGroupId)).length)return d;g=d.indexOf(g[g.length-1])}else g=d.length-1;X=n[0]}for(var S=X;S<g+1;S++)n.includes(S)?z.push(d[S]):G.push(d[S]);n=d.slice(0,X);d=d.slice(g+1);return tg("left"===
h?tg(tg(tg([],n),z),G):tg(tg(tg([],n),G),z),d)},fm=cd({name:"sendBackward",perform:function(d,g){return{elements:jf(g,d.slice(),"left"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[Id]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var g=d.updateData;d=d.appState;return sa().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return g(null)},title:"".concat(jb("labels.sendBackward"),
" — ").concat(Ac("CtrlOrCmd+["))},sa().createElement(ve,{appearance:d.appearance}))}}),Kk=cd({name:"bringForward",perform:function(d,g){return{elements:jf(g,d.slice(),"right"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[Id]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var g=d.updateData;d=d.appState;return sa().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return g(null)},
title:"".concat(jb("labels.bringForward")," — ").concat(Ac("CtrlOrCmd+]"))},sa().createElement(Rc,{appearance:d.appearance}))}}),e=cd({name:"sendToBack",perform:function(d,g){return{elements:eg(d,g,"left"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return ch?d[Id]&&d.altKey&&"BracketLeft"===d.code:d[Id]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var g=d.updateData;d=d.appState;return sa().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return g(null)},title:"".concat(jb("labels.sendToBack")," — ").concat(Ac(ch?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},sa().createElement(kk,{appearance:d.appearance}))}}),l=cd({name:"bringToFront",perform:function(d,g){return{elements:eg(d,g,"right"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return ch?d[Id]&&d.altKey&&"BracketRight"===d.code:d[Id]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var g=d.updateData;
d=d.appState;return sa().createElement("button",{type:"button",className:"zIndexButton",onClick:function(h){return g(null)},title:"".concat(jb("labels.bringToFront")," — ").concat(Ac(ch?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},sa().createElement(ic,{appearance:d.appearance}))}}),E=cd({name:"selectAll",perform:function(d,g){return!g.editingLinearElement&&{appState:Gj(kd(kd({},g),{},{editingGroupId:null,selectedElementIds:d.reduce(function(h,n){return n.isDeleted||(h[n.id]=!0),h},{})}),dd(d)),commitToHistory:!0}},
contextItemLabel:"labels.selectAll",keyTest:function(d){return d[Id]&&"a"===d.key}}),A=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},M=cd({name:"duplicateSelection",perform:function(d,g){if(g.editingLinearElement){var h=g.editingLinearElement,n=h.activePointIndex;h=hf.getElement(h.elementId);if(!h||null===n)return!1;var z=h.points,G=z[n],X=z[n+1];return Dd(h,{points:A(A(A([],z.slice(0,n+1)),[X?[(G[0]+X[0])/2,(G[1]+X[1])/2]:[G[0]+30,G[1]+30]]),z.slice(n+1))}),{appState:ge(ge({},
g),{},{editingLinearElement:ge(ge({},g.editingLinearElement),{},{activePointIndex:n+1})}),elements:d,commitToHistory:!0}}return ge(ge({},ea(d,g)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[Id]&&"d"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{type:"button",icon:Ef,title:"".concat(jb("labels.duplicateSelection")," — ").concat(Ac("CtrlOrCmd+D")),"aria-label":jb("labels.duplicateSelection"),
onClick:function(){return n(null)},visible:wf(dd(g),h)})}}),ea=function(d,g){for(var h=new Map,n=[],z=[],G=new Map,X=function(Na){var Sa=Ei(g.editingGroupId,h,Na,{x:Na.x+Sb.k/2,y:Na.y+Sb.k/2});return G.set(Na.id,Sa.id),z.push(Na),n.push(Sa),Sa},S=[],da=0;da<d.length;){var ua=d[da];if(g.selectedElementIds[ua.id]){if(ua.groupIds.length){var oa=Fj(g,ua);if(oa){ua=qj(d,oa);S.push.apply(S,A(A([],ua),ua.map(function(Na){return X(Na)})));da+=ua.length;continue}}S.push(ua,X(ua))}else S.push(ua);da++}return Xj(S,
z,G),{elements:S,appState:Gj(ge(ge({},g),{},{selectedGroupIds:{},selectedElementIds:n.reduce(function(Na,Sa){return Na[Sa.id]=!0,Na},{})}),dd(S))}},qa=function(d){var g=d.options,h=d.value,n=d.onChange,z=d.group;return sa().createElement("div",{className:"buttonList buttonListIcon"},g.map(function(G){return sa().createElement("label",{key:G.text,className:hc({active:h===G.value}),title:G.text},sa().createElement("input",{type:"radio",name:z,onChange:function(){return n(G.value)},checked:h===G.value}),
G.icon)}))},xa=function(d){var g=d.options,h=d.value,n=d.onChange,z=d.group;return sa().createElement("div",{className:"buttonList"},g.map(function(G){return sa().createElement("label",{key:G.text,className:hc({active:h===G.value})},sa().createElement("input",{type:"radio",name:z,onChange:function(){return n(G.value)},checked:h===G.value}),G.text)}))},Ja=(m(2816),function(d){var g=d.children,h=d.left,n=d.top,z=d.onCloseRequest;d=d.fitInViewport;var G=void 0!==d&&d,X=(0,Kd.useRef)(null);return(0,Kd.useLayoutEffect)(function(){if(G&&
X.current){var S=X.current,da=S.getBoundingClientRect(),ua=da.y,oa=da.width,Na=da.height,Sa=window.innerWidth;da.x+oa>Sa&&(S.style.left="".concat(Sa-oa,"px"));da=window.innerHeight;ua+Na>da&&(S.style.top="".concat(da-Na,"px"))}},[G]),(0,Kd.useEffect)(function(){if(z){var S=function(da){var ua;null!==(ua=X.current)&&void 0!==ua&&ua.contains(da.target)||(0,Gg.unstable_batchedUpdates)(function(){return z(da)})};return document.addEventListener("pointerdown",S,!1),function(){return document.removeEventListener("pointerdown",
S,!1)}}},[z]),sa().createElement("div",{className:"popover",style:{top:n,left:h},ref:X},g)}),Za=(m(5574),function(d){var g=(new Option).style;return g.color=d,!!g.color}),db=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),xb=function(d){var g=d.colors,h=d.color,n=d.onChange,z=d.onClose,G=d.label,X=d.showInput,S=void 0===X||X;d=d.type;var da=sa().useRef(),ua=sa().useRef(),oa=sa().useRef(),Na=sa().useRef();sa().useEffect(function(){ua.current?ua.current.focus():Na.current?
Na.current.focus():oa.current&&oa.current.focus()},[]);return sa().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":jb("labels.colorPicker"),onKeyDown:function(Sa){if("Tab"===Sa.key){var Ta,hb=document.activeElement;if(Sa.shiftKey)hb===da.current&&(null===(Ta=Na.current)||void 0===Ta||Ta.focus(),Sa.preventDefault());else if(hb===Na.current){var fb;null===(fb=da.current)||void 0===fb||fb.focus();Sa.preventDefault()}}else ye(Sa.key)?
(hb=document.activeElement,Ta=ie.rtl,-1!==(fb=Array.prototype.indexOf.call(oa.current.children,hb))&&(hb=oa.current.children.length-(S?1:0),oa.current.children[Sa.key===(Ta?"ArrowLeft":"ArrowRight")?(fb+1)%hb:Sa.key===(Ta?"ArrowRight":"ArrowLeft")?(hb+fb-1)%hb:"ArrowDown"===Sa.key?(fb+5)%hb:"ArrowUp"===Sa.key?(hb+fb-5)%hb:fb].focus()),Sa.preventDefault()):db.includes(Sa.key.toLowerCase())&&!Bi(Sa.target)?(fb=db.indexOf(Sa.key.toLowerCase()),oa.current.children[fb].focus(),Sa.preventDefault()):"Escape"!==
Sa.key&&"Enter"!==Sa.key||(Sa.preventDefault(),z());Sa.nativeEvent.stopImmediatePropagation()}},sa().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),sa().createElement("div",{className:"color-picker-triangle"}),sa().createElement("div",{className:"color-picker-content",ref:function(Sa){Sa&&(oa.current=Sa)},tabIndex:0},g.map(function(Sa,Ta){return sa().createElement("button",{className:"color-picker-swatch",onClick:function(hb){hb.currentTarget.focus();n(Sa)},
title:"".concat(Sa," — ").concat(db[Ta].toUpperCase()),"aria-label":Sa,"aria-keyshortcuts":db[Ta],style:{color:Sa},key:Sa,ref:function(hb){hb&&0===Ta&&(da.current=hb);hb&&Sa===h&&(ua.current=hb)},onFocus:function(){n(Sa)}},"transparent"===Sa?sa().createElement("div",{className:"color-picker-transparent"}):void 0,sa().createElement("span",{className:"color-picker-keybinding"},db[Ta]))}),S&&sa().createElement(Ab,{color:h,label:G,onChange:function(Sa){n(Sa)},ref:Na})))},Ab=sa().forwardRef(function(d,
g){var h=d.color,n=d.onChange;d=d.label;var z=sa().useState(h),G=z[0],X=z[1],S=sa().useRef(null);sa().useEffect(function(){X(h)},[h]);sa().useImperativeHandle(g,function(){return S.current});var da=sa().useCallback(function(ua){ua=ua.toLowerCase();var oa;(oa="transparent"===ua||Za(ua)?ua:Za("#".concat(ua))?"#".concat(ua):null)&&n(oa);X(ua)},[n]);return sa().createElement("label",{className:"color-input-container"},sa().createElement("div",{className:"color-picker-hash"},"#"),sa().createElement("input",
{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(ua){return da(ua.target.value)},value:(G||"").replace(/^#/,""),onBlur:function(){return X(h)},ref:S}))}),Bb=function(d){var g=d.type,h=d.color,n=d.onChange;d=d.label;var z=sa().useState(!1),G=z[0],X=z[1],S=sa().useRef(null);return sa().createElement("div",null,sa().createElement("div",{className:"color-picker-control-container"},sa().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:h?{"--swatch-color":h}:
void 0,onClick:function(){return X(!G)},ref:S}),sa().createElement(Ab,{color:h,label:d,onChange:function(da){n(da)}})),sa().createElement(sa().Suspense,{fallback:""},G?sa().createElement(Ja,{onCloseRequest:function(da){return da.target!==S.current&&X(!1)}},sa().createElement(xb,{colors:Hh[g],color:h||null,onChange:function(da){n(da)},onClose:function(){var da;X(!1);null===(da=S.current)||void 0===da||da.focus()},label:d,showInput:!1,type:g})):null))},fc=m(6950),Jc=m.n(fc);m(7143);var Qc=function(d,
g,h){return d.map(function(n){var z;return g.selectedElementIds[n.id]||n.id===(null===(z=g.editingElement)||void 0===z?void 0:z.id)?h(n):n})},$e=function(d,g,h,n){var z,G,X=g.editingElement;d=dd(d);return null!==(z=null!==(G=X&&h(X))&&void 0!==G?G:wf(d,g)?function(S,da,ua){S=Array.from(new Set(Ee(S,da).map(function(oa){return ua(oa)})));return 1===S.length?S[0]:null}(d,g,h):n)&&void 0!==z?z:null},qd=(cd({name:"changeStrokeColor",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return Ye(n,
{strokeColor:h})}),appState:Td(Td({},g),{},{currentItemStrokeColor:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState;d=d.updateData;return sa().createElement(sa().Fragment,null,sa().createElement("h3",{"aria-hidden":"true"},jb("labels.stroke")),sa().createElement(Bb,{type:"elementStroke",label:jb("labels.stroke"),color:$e(g,h,function(n){return n.strokeColor},h.currentItemStrokeColor),onChange:d}))}}),cd({name:"changeBackgroundColor",perform:function(d,g,h){return{elements:Qc(d,
g,function(n){return Ye(n,{backgroundColor:h})}),appState:Td(Td({},g),{},{currentItemBackgroundColor:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState;d=d.updateData;return sa().createElement(sa().Fragment,null,sa().createElement("h3",{"aria-hidden":"true"},jb("labels.background")),sa().createElement(Bb,{type:"elementBackground",label:jb("labels.background"),color:$e(g,h,function(n){return n.backgroundColor},h.currentItemBackgroundColor),onChange:d}))}}),cd({name:"changeFillStyle",
perform:function(d,g,h){return{elements:Qc(d,g,function(n){return Ye(n,{fillStyle:h})}),appState:Td(Td({},g),{},{currentItemFillStyle:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.fill")),sa().createElement(qa,{options:[{value:"hachure",text:jb("labels.hachure"),icon:sa().createElement(xl,{appearance:h.appearance})},{value:"cross-hatch",text:jb("labels.crossHatch"),
icon:sa().createElement(ci,{appearance:h.appearance})},{value:"solid",text:jb("labels.solid"),icon:sa().createElement(hi,{appearance:h.appearance})}],group:"fill",value:$e(g,h,function(z){return z.fillStyle},h.currentItemFillStyle),onChange:function(z){n(z)}}))}}),cd({name:"changeStrokeWidth",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return Ye(n,{strokeWidth:h})}),appState:Td(Td({},g),{},{currentItemStrokeWidth:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,
h=d.appState,n=d.updateData;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.strokeWidth")),sa().createElement(qa,{group:"stroke-width",options:[{value:1,text:jb("labels.thin"),icon:sa().createElement(Lj,{appearance:h.appearance,strokeWidth:2})},{value:2,text:jb("labels.bold"),icon:sa().createElement(Lj,{appearance:h.appearance,strokeWidth:6})},{value:4,text:jb("labels.extraBold"),icon:sa().createElement(Lj,{appearance:h.appearance,strokeWidth:10})}],value:$e(g,
h,function(z){return z.strokeWidth},h.currentItemStrokeWidth),onChange:function(z){return n(z)}}))}}),cd({name:"changeSloppiness",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return Ye(n,{seed:li(),roughness:h})}),appState:Td(Td({},g),{},{currentItemRoughness:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.sloppiness")),sa().createElement(qa,{group:"sloppiness",
options:[{value:0,text:jb("labels.architect"),icon:sa().createElement(Oi,{appearance:h.appearance})},{value:1,text:jb("labels.artist"),icon:sa().createElement($k,{appearance:h.appearance})},{value:2,text:jb("labels.cartoonist"),icon:sa().createElement(tf,{appearance:h.appearance})}],value:$e(g,h,function(z){return z.roughness},h.currentItemRoughness),onChange:function(z){return n(z)}}))}}),cd({name:"changeStrokeStyle",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return Ye(n,{strokeStyle:h})}),
appState:Td(Td({},g),{},{currentItemStrokeStyle:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.strokeStyle")),sa().createElement(qa,{group:"strokeStyle",options:[{value:"solid",text:jb("labels.strokeStyle_solid"),icon:sa().createElement(jg,{appearance:h.appearance})},{value:"dashed",text:jb("labels.strokeStyle_dashed"),icon:sa().createElement(nh,{appearance:h.appearance})},
{value:"dotted",text:jb("labels.strokeStyle_dotted"),icon:sa().createElement(kg,{appearance:h.appearance})}],value:$e(g,h,function(z){return z.strokeStyle},h.currentItemStrokeStyle),onChange:function(z){return n(z)}}))}}),cd({name:"changeOpacity",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return Ye(n,{opacity:h})}),appState:Td(Td({},g),{},{currentItemOpacity:h}),commitToHistory:!0}},PanelComponent:function(d){var g,h=d.elements,n=d.appState,z=d.updateData;return sa().createElement("label",
{className:"control-label"},jb("labels.opacity"),sa().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(G){return z(+G.target.value)},onWheel:function(G){G.stopPropagation();var X=+G.target.value;0>G.deltaY&&100>X?z(X+10):0<G.deltaY&&0<X&&z(X-10)},value:null!==(g=$e(h,n,function(G){return G.opacity},n.currentItemOpacity))&&void 0!==g?g:void 0}))}}),cd({name:"changeFontSize",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return lf(n)?(n=Ye(n,{fontSize:h}),
Pj(n),n):n}),appState:Td(Td({},g),{},{currentItemFontSize:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.fontSize")),sa().createElement(xa,{group:"font-size",options:[{value:16,text:jb("labels.small")},{value:20,text:jb("labels.medium")},{value:28,text:jb("labels.large")},{value:36,text:jb("labels.veryLarge")}],value:$e(g,h,function(z){return lf(z)&&z.fontSize},h.currentItemFontSize||
Sb.n5),onChange:function(z){return n(z)}}))}}),cd({name:"changeFontFamily",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return lf(n)?(n=Ye(n,{fontFamily:h}),Pj(n),n):n}),appState:Td(Td({},g),{},{currentItemFontFamily:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;d=[{value:1,text:jb("labels.handDrawn")},{value:2,text:jb("labels.normal")},{value:3,text:jb("labels.code")}];return sa().createElement("fieldset",null,sa().createElement("legend",
null,jb("labels.fontFamily")),sa().createElement(xa,{group:"font-family",options:d,value:$e(g,h,function(z){return lf(z)&&z.fontFamily},h.currentItemFontFamily||Sb.rk),onChange:function(z){return n(z)}}))}}),cd({name:"changeTextAlign",perform:function(d,g,h){return{elements:Qc(d,g,function(n){return lf(n)?(n=Ye(n,{textAlign:h}),Pj(n),n):n}),appState:Td(Td({},g),{},{currentItemTextAlign:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement("fieldset",
null,sa().createElement("legend",null,jb("labels.textAlign")),sa().createElement(xa,{group:"text-align",options:[{value:"left",text:jb("labels.left")},{value:"center",text:jb("labels.center")},{value:"right",text:jb("labels.right")}],value:$e(g,h,function(z){return lf(z)&&z.textAlign},h.currentItemTextAlign),onChange:function(z){return n(z)}}))}}),cd({name:"changeSharpness",perform:function(d,g,h){var n=bj(dd(d),g),z=n.length?n.every(function(G){return!Md(G)}):!bh(g.elementType);n=n.length?n.every(Md):
bh(g.elementType);return{elements:Qc(d,g,function(G){return Ye(G,{strokeSharpness:h})}),appState:Td(Td({},g),{},{currentItemStrokeSharpness:z?h:g.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:n?h:g.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.edges")),sa().createElement(qa,{group:"edges",options:[{value:"sharp",text:jb("labels.sharp"),
icon:sa().createElement(pl,{appearance:h.appearance})},{value:"round",text:jb("labels.round"),icon:sa().createElement(Qj,{appearance:h.appearance})}],value:$e(g,h,function(z){return z.strokeSharpness},Ni(h.elementType)&&(bh(h.elementType)?h.currentItemLinearStrokeSharpness:h.currentItemStrokeSharpness)||null),onChange:function(z){return n(z)}}))}}),cd({name:"changeArrowhead",perform:function(d,g,h){var n;return{elements:Qc(d,g,function(z){if(Md(z)){var G=h.position,X=h.type;if("start"===G)return Ye(z,
{startArrowhead:X});if("end"===G)return Ye(z,{endArrowhead:X})}return z}),appState:Td(Td({},g),{},(n={},n["start"===h.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=h.type,n)),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;d=ie.rtl;return sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.arrowheads")),sa().createElement("div",{className:"iconSelectList"},sa().createElement(xf,{label:"arrowhead_start",options:[{value:null,
text:jb("labels.arrowhead_none"),icon:sa().createElement(If,{appearance:h.appearance}),keyBinding:"q"},{value:"arrow",text:jb("labels.arrowhead_arrow"),icon:sa().createElement(dl,{appearance:h.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:jb("labels.arrowhead_bar"),icon:sa().createElement(Rj,{appearance:h.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:jb("labels.arrowhead_dot"),icon:sa().createElement(al,{appearance:h.appearance,flip:!d}),keyBinding:"r"}],value:$e(g,h,function(z){return Md(z)&&
"arrow"===z.type?z.startArrowhead:h.currentItemStartArrowhead},h.currentItemStartArrowhead),onChange:function(z){return n({position:"start",type:z})}}),sa().createElement(xf,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:jb("labels.arrowhead_none"),keyBinding:"q",icon:sa().createElement(If,{appearance:h.appearance})},{value:"arrow",text:jb("labels.arrowhead_arrow"),keyBinding:"w",icon:sa().createElement(dl,{appearance:h.appearance,flip:d})},{value:"bar",text:jb("labels.arrowhead_bar"),
keyBinding:"e",icon:sa().createElement(Rj,{appearance:h.appearance,flip:d})},{value:"dot",text:jb("labels.arrowhead_dot"),keyBinding:"r",icon:sa().createElement(al,{appearance:h.appearance,flip:d})}],value:$e(g,h,function(z){return Md(z)&&"arrow"===z.type?z.endArrowhead:h.currentItemEndArrowhead},h.currentItemEndArrowhead),onChange:function(z){return n({position:"end",type:z})}})))}}),m(2189)),Qd=m.n(qd),df=sa().createContext(!1),Le=function(){return window.matchMedia?window.matchMedia(Qd().isMobileQuery):
{matches:!1,addListener:function(){},removeListener:function(){}}},Qe=function(d){d=d.children;var g=(0,Kd.useRef)();g.current||(g.current=Le());var h=(0,Kd.useState)(g.current.matches),n=h[0],z=h[1];return(0,Kd.useEffect)(function(){var G=function(){return z(g.current.matches)};return g.current.addListener(G),function(){return g.current.removeListener(G)}},[]),sa().createElement(df.Provider,{value:n},d)};cd({name:"changeViewBackgroundColor",perform:function(d,g,h){return{appState:Wd(Wd({},g),{},
{viewBackgroundColor:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return sa().createElement("div",{style:{position:"relative"}},sa().createElement(Bb,{label:jb("labels.canvasBackground"),type:"canvasBackground",color:g.viewBackgroundColor,onChange:function(n){return h(n)}}))}});cd({name:"clearCanvas",perform:function(d,g){return{elements:d.map(function(h){return Ye(h,{isDeleted:!0})}),appState:Wd(Wd({},oj()),{},{appearance:g.appearance,elementLocked:g.elementLocked,
exportBackground:g.exportBackground,exportEmbedScene:g.exportEmbedScene,gridSize:g.gridSize,shouldAddWatermark:g.shouldAddWatermark,showStats:g.showStats,pasteDialog:g.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var g=d.updateData;return sa().createElement(Hd,{type:"button",icon:uc,title:jb("buttons.clearReset"),"aria-label":jb("buttons.clearReset"),showAriaLabel:rf(),onClick:function(){window.confirm(jb("alerts.clearReset"))&&g(null)}})}});cd({name:"zoomIn",perform:function(d,g){d=
Rh(hj(g.zoom.value+Sb.V4),g.zoom,{left:g.offsetLeft,top:g.offsetTop},{x:g.width/2,y:g.height/2});return{appState:Wd(Wd({},g),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var g=d.updateData;return sa().createElement(Hd,{type:"button",icon:Ic,title:"".concat(jb("buttons.zoomIn")," — ").concat(Ac("CtrlOrCmd++")),"aria-label":jb("buttons.zoomIn"),onClick:function(){g(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[Id]||d.shiftKey)}});cd({name:"zoomOut",
perform:function(d,g){d=Rh(hj(g.zoom.value-Sb.V4),g.zoom,{left:g.offsetLeft,top:g.offsetTop},{x:g.width/2,y:g.height/2});return{appState:Wd(Wd({},g),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var g=d.updateData;return sa().createElement(Hd,{type:"button",icon:ph,title:"".concat(jb("buttons.zoomOut")," — ").concat(Ac("CtrlOrCmd+-")),"aria-label":jb("buttons.zoomOut"),onClick:function(){g(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&(d[Id]||d.shiftKey)}});
cd({name:"resetZoom",perform:function(d,g){return{appState:Wd(Wd({},g),{},{zoom:Rh(1,g.zoom,{left:g.offsetLeft,top:g.offsetTop},{x:g.width/2,y:g.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var g=d.updateData;return sa().createElement(Hd,{type:"button",icon:yc,title:jb("buttons.resetZoom"),"aria-label":jb("buttons.resetZoom"),onClick:function(){g(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[Id]||d.shiftKey)}});var Yd=function(d,g,h){d=dd(d);var n=
Ee(d,g);n=h&&0<n.length?Zc(n):Zc(d);h=Rh(Math.min(Math.max(Math.floor(Math.min(g.width/(n[2]-n[0]),g.height/(n[3]-n[1]))/Sb.V4)*Sb.V4,Sb.V4),1),g.zoom,{left:g.offsetLeft,top:g.offsetTop});d=(n[0]+n[2])/2;n=(n[1]+n[3])/2;return{appState:Wd(Wd(Wd({},g),mh({scenePoint:{x:d,y:n},viewportDimensions:{width:g.width,height:g.height},zoom:h})),{},{zoom:h}),commitToHistory:!1}};cd({name:"zoomToSelection",perform:function(d,g){return Yd(d,g,!0)},keyTest:function(d){return"Digit2"===d.code&&d.shiftKey&&!d.altKey&&
!d[Id]}});cd({name:"zoomToFit",perform:function(d,g){return Yd(d,g,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[Id]}});var Re,Ie,Oe=cd({name:"finalize",perform:function(d,g,h,n){var z,G;h=n.canvas;if(g.editingLinearElement){n=g.editingLinearElement;var X=n.startBindingElement,S=n.endBindingElement,da=hf.getElement(n.elementId);if(da)return vg(da)&&zd(da,X,S),{elements:2>da.points.length||Vf(da)?d.filter(function(Na){return Na.id!==da.id}):void 0,appState:$f($f({},g),
{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(n=g.multiElement?g.multiElement:"draw"===(null===(G=g.editingElement)||void 0===G?void 0:G.type)?g.editingElement:null){"draw"!==n.type&&"touch"!==g.lastPointerDownWith&&(G=n.points,(X=n.lastCommittedPoint)&&G[G.length-1]===X||Dd(n,{points:n.points.slice(0,-1)}));Vf(n)&&(d=d.slice(0,-1));G=th(n.points,g.zoom.value);if(("line"===n.type||"draw"===n.type)&&
G){var ua=n.points,oa=ua[0];Dd(n,{points:ua.map(function(Na,Sa){return Sa===ua.length-1?[oa[0],oa[1]]:Na})})}vg(n)&&!G&&1<n.points.length&&(X=hf.getPointAtIndexGlobalCoordinates(n,-1),G=X[0],X=X[1],Bg(n,g,td.getScene(n),{x:G,y:X}));g.elementLocked||"draw"===g.elementType||(g.selectedElementIds[n.id]=!0)}return(g.elementLocked||"draw"===g.elementType)&&n||Me(h),{elements:d,appState:$f($f({},g),{},{elementType:(g.elementLocked||"draw"===g.elementType)&&n?g.elementType:"selection",draggingElement:null,
multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:n&&!g.elementLocked&&"draw"!==g.elementType?$f($f({},g.selectedElementIds),{},(z={},z[n.id]=!0,z)):g.selectedElementIds}),commitToHistory:"draw"===g.elementType}},keyTest:function(d,g){return"Escape"===d.key&&(null!==g.editingLinearElement||!g.draggingElement&&null===g.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==g.multiElement},PanelComponent:function(d){var g=d.appState;d=d.updateData;
return sa().createElement(Hd,{type:"button",icon:kf,title:jb("buttons.done"),"aria-label":jb("buttons.done"),onClick:d,visible:null!=g.multiElement})}}),Wf="undefined"!=typeof C&&null!==(Re=C.env)&&void 0!==Re&&Re.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,g,h,n){window.gtag("event",g,{event_category:d,event_label:h,value:n})}:("undefined"!=typeof C&&null!==(Ie=C.env)&&void 0!==Ie&&Ie.JEST_WORKER_ID,function(d,g,h,n){}),qg=(m(8518),function(){var d=function(g,
h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,z){n.__proto__=z}||function(n,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(n[G]=z[G])})(g,h)};return function(g,h){function n(){this.constructor=g}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");d(g,h);g.prototype=null===h?Object.create(h):(n.prototype=h.prototype,new n)}}()),gi=function(d){function g(){for(var h=[],n=0;n<arguments.length;n++)h[n]=
arguments[n];var z,G;n=this;return n=d.apply(this,h)||this,z=G=n,n.handleFocus=function(X){X=X.currentTarget;var S=window.getSelection();if(S){var da=document.createRange();da.selectNodeContents(X);S.removeAllRanges();S.addRange(da)}},n.handleBlur=function(X){X=X.currentTarget.innerText.trim();X!==G.props.value&&G.props.onChange(X);(X=window.getSelection())&&X.removeAllRanges()},n.handleKeyDown=function(X){"Enter"!==X.key||(X.preventDefault(),X.nativeEvent.isComposing||229===X.keyCode)||X.currentTarget.blur()},
n.makeEditable=function(X){if(X)try{X.contentEditable="plaintext-only"}catch(S){X.contentEditable="true"}},z}return qg(g,d),g.prototype.render=function(){return sa().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},g}(Kd.Component),yj=(m(2680),function(d){var g=d.children,h=d.label,n=d.position;
n=void 0===n?"below":n;d=d.long;d=void 0!==d&&d;return sa().createElement("div",{className:"Tooltip"},sa().createElement("span",{className:"above"===n?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},h),g)}),Ij=function(d){var g=d.title?d.title:"dark"===d.value?jb("buttons.lightMode"):jb("buttons.darkMode");return sa().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:g},sa().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",
type:"checkbox",onChange:function(h){return d.onChange(h.target.checked?"dark":"light")},checked:"dark"===d.value,"aria-label":g}),sa().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?aj.MOON:aj.SUN))},aj={SUN:sa().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},sa().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:sa().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},sa().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const Sd="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",on=Sd?"chooseFileSystemEntries"===Sd?m.e(736).then(m.bind(m,9012)):m.e(736).then(m.bind(m,499)):m.e(736).then(m.bind(m,5034));Sd?"chooseFileSystemEntries"===Sd?m.e(736).then(m.bind(m,6980)):m.e(736).then(m.bind(m,868)):m.e(736).then(m.bind(m,3110));const rk=Sd?"chooseFileSystemEntries"===Sd?m.e(736).then(m.bind(m,1170)):m.e(736).then(m.bind(m,7814)):m.e(736).then(m.bind(m,4001));var ek,Tj=function(d,g){if(null!=g&&g.collaborators&&
(g=g.collaborators.get(d),null!=g&&g.color))return g.color;d=d.split("").reduce(function(n,z){return n+z.charCodeAt(0)},0);g=Hh.elementBackground.slice(1);var h=Hh.elementStroke.slice(1);return{background:g[d%g.length],stroke:h[d%h.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(ek||(ek={}));var Lk=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),lk=function(d,g,h,n,z,G,X,S,da){void 0===da&&(da=!1);d.translate(G,X);d.rotate(S);da&&d.fillRect(g-G,h-X,n,z);d.strokeRect(g-G,h-X,n,z);d.rotate(-S);d.translate(-G,-X)},wk=function(d,g,h,n){d.beginPath();d.arc(g,h,n,0,2*Math.PI);d.fill();d.stroke()},Xl=function(d,g,h,n,z,G,X,S){var da=void 0===S?{}:S;S=da.renderScrollbars;S=void 0===S||S;var ua=da.renderSelection,oa=void 0===ua||ua;ua=da.renderOptimizations;var Na=void 0!==ua&&ua;da=da.renderGrid;var Sa=void 0===da||da;if(!G)return{atLeastOneVisibleElement:!1};
var Ta=G.getContext("2d");Ta.scale(n,n);var hb=G.width/n,fb=G.height/n;(X.exportWithDarkMode&&(Ta.filter=Sb.Gi),"string"==typeof X.viewBackgroundColor)?(("transparent"===X.viewBackgroundColor||5===X.viewBackgroundColor.length||9===X.viewBackgroundColor.length||/(hsla|rgba)\(/.test(X.viewBackgroundColor))&&Ta.clearRect(0,0,hb,fb),da=Ta.fillStyle,Ta.fillStyle=X.viewBackgroundColor,Ta.fillRect(0,0,hb,fb),Ta.fillStyle=da):Ta.clearRect(0,0,hb,fb);da=X.zoom.translation.x;ua=X.zoom.translation.y;Ta.translate(da,
ua);Ta.scale(X.zoom.value,X.zoom.value);Sa&&g.gridSize&&function(Bc,Vc,ad,Gd,Cg,Vg){var ri=Bc.strokeStyle;Bc.strokeStyle="rgba(0,0,0,0.1)";Bc.beginPath();for(var Qh=ad;Qh<ad+Cg+2*Vc;Qh+=Vc)Bc.moveTo(Qh,Gd-Vc),Bc.lineTo(Qh,Gd+Vg+2*Vc);for(Qh=Gd;Qh<Gd+Vg+2*Vc;Qh+=Vc)Bc.moveTo(ad-Vc,Qh),Bc.lineTo(ad+Cg+2*Vc,Qh);Bc.stroke();Bc.strokeStyle=ri}(Ta,g.gridSize,-Math.ceil(da/X.zoom.value/g.gridSize)*g.gridSize+X.scrollX%g.gridSize,-Math.ceil(ua/X.zoom.value/g.gridSize)*g.gridSize+X.scrollY%g.gridSize,hb/X.zoom.value,
fb/X.zoom.value);G=d.filter(function(Bc){var Vc={zoom:X.zoom,offsetLeft:g.offsetLeft,offsetTop:g.offsetTop,scrollX:X.scrollX,scrollY:X.scrollY},ad=fg(Bc);Bc=ad[0];var Gd=ad[1],Cg=ad[2];ad=ad[3];var Vg=Lf({clientX:Vc.offsetLeft,clientY:Vc.offsetTop},Vc);Vc=Lf({clientX:Vc.offsetLeft+hb,clientY:Vc.offsetTop+fb},Vc);return Vg.x<=Cg&&Vg.y<=ad&&Vc.x>=Bc&&Vc.y>=Gd});(G.forEach(function(Bc){zk(Bc,z,Ta,Na,X)}),g.editingLinearElement)&&(Sa=hf.getElement(g.editingLinearElement.elementId))&&function(Bc,Vc,ad,
Gd){Bc.translate(ad.scrollX,ad.scrollY);var Cg=Bc.strokeStyle,Vg=Bc.lineWidth;Bc.lineWidth=1/ad.zoom.value;hf.getPointsGlobalCoordinates(Gd).forEach(function(ri,Qh){var sk;Bc.strokeStyle="red";Bc.setLineDash([]);Bc.fillStyle=(null===(sk=Vc.editingLinearElement)||void 0===sk?void 0:sk.activePointIndex)===Qh?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";wk(Bc,ri[0],ri[1],hf.POINT_HANDLE_SIZE/2/ad.zoom.value)});Bc.setLineDash([]);Bc.lineWidth=Vg;Bc.translate(-ad.scrollX,-ad.scrollY);Bc.strokeStyle=
Cg}(Ta,g,X,Sa);if(h&&zk(h,z,Ta,Na,X),g.isBindingEnabled&&g.suggestedBindings.filter(function(Bc){return null!=Bc}).forEach(function(Bc){var Vc=Ta.strokeStyle,ad=Ta.lineWidth,Gd=Array.isArray(Bc)?Uh:Mk;Ta.translate(X.scrollX,X.scrollY);Gd(Ta,Bc);Ta.strokeStyle=Vc;Ta.lineWidth=ad;Ta.translate(-X.scrollX,-X.scrollY)}),oa&&!g.multiElement&&!g.editingLinearElement){var Eb=d.reduce(function(Bc,Vc){var ad=[];if(g.selectedElementIds[Vc.id]&&null==Fj(g,Vc)&&ad.push(jd.Sn),X.remoteSelectedElementIds[Vc.id]&&
ad.push.apply(ad,X.remoteSelectedElementIds[Vc.id].map(function(Cg){return Tj(Cg,g).background})),ad.length){var Gd=Ne(Vc);Bc.push({angle:Vc.angle,elementX1:Gd[0],elementY1:Gd[1],elementX2:Gd[2],elementY2:Gd[3],selectionColors:ad})}return Bc},[]);h=function(Bc){Bc=qj(d,Bc);Bc=Zc(Bc);Eb.push({angle:0,elementX1:Bc[0],elementX2:Bc[2],elementY1:Bc[1],elementY2:Bc[3],selectionColors:[jd.Sn]})};oa=0;for(Sa=Zj(g);oa<Sa.length;oa++)h(Sa[oa]);g.editingGroupId&&h(g.editingGroupId);Eb.forEach(function(Bc){var Vc=
Bc.angle,ad=Bc.elementX1,Gd=Bc.elementY1,Cg=Bc.selectionColors,Vg=Bc.elementX2-ad;Bc=Bc.elementY2-Gd;var ri=Ta.getLineDash(),Qh=Ta.lineWidth,sk=Ta.lineDashOffset,El=Ta.strokeStyle,Fk=4/X.zoom.value,Dl=8/X.zoom.value,rl=4/X.zoom.value;Ta.lineWidth=1/X.zoom.value;Ta.translate(X.scrollX,X.scrollY);for(var km=Cg.length,sl=0;sl<km;++sl)Ta.strokeStyle=Cg[sl],Ta.setLineDash([Dl,rl+(Dl+rl)*(km-1)]),Ta.lineDashOffset=(Dl+rl)*sl,lk(Ta,ad-Fk,Gd-Fk,Vg+2*Fk,Bc+2*Fk,ad+Vg/2,Gd+Bc/2,Vc);Ta.lineDashOffset=sk;Ta.strokeStyle=
El;Ta.lineWidth=Qh;Ta.setLineDash(ri);Ta.translate(-X.scrollX,-X.scrollY)});oa=Ee(d,g);if(Ta.translate(X.scrollX,X.scrollY),1===oa.length)Ta.fillStyle=jd.ix,h=hg(oa[0],X.zoom,"mouse"),g.viewModeEnabled||el(Ta,X,h,oa[0].angle);else if(1<oa.length&&!g.isRotating){h=4/X.zoom.value;Ta.fillStyle=jd.ix;var kc=Zc(oa);oa=kc[0];Sa=kc[1];var mc=kc[2];kc=kc[3];var xc=Ta.getLineDash();Ta.setLineDash([2/X.zoom.value]);var rd=Ta.lineWidth;Ta.lineWidth=1/X.zoom.value;lk(Ta,oa-h,Sa-h,mc-oa+2*h,kc-Sa+2*h,(oa+mc)/
2,(Sa+kc)/2,0);Ta.lineWidth=rd;Ta.setLineDash(xc);h=Cj([oa,Sa,mc,kc],0,X.zoom,"mouse",Fi);el(Ta,X,h,0)}Ta.translate(-X.scrollX,-X.scrollY)}for(var pd in Ta.scale(1/X.zoom.value,1/X.zoom.value),Ta.translate(-da,-ua),X.remotePointerViewportCoords){da=X.remotePointerViewportCoords[pd];mc=da.x;kc=da.y;mc-=g.offsetLeft;kc-=g.offsetTop;xc=0>mc||mc>hb-9||0>kc||kc>fb-14;mc=Math.max(mc,0);mc=Math.min(mc,hb-9);kc=Math.max(kc,0);kc=Math.min(kc,fb-14);da=Tj(pd,g);ua=da.background;h=da.stroke;oa=Ta.strokeStyle;
Sa=(da=Ta.fillStyle,Ta.globalAlpha);Ta.strokeStyle=h;Ta.fillStyle=ua;rd=X.remotePointerUserStates[pd];(xc||rd===ek.AWAY)&&(Ta.globalAlpha=.48);X.remotePointerButton&&"down"===X.remotePointerButton[pd]&&(Ta.beginPath(),Ta.arc(mc,kc,15,0,2*Math.PI,!1),Ta.lineWidth=3,Ta.strokeStyle="#ffffff88",Ta.stroke(),Ta.closePath(),Ta.beginPath(),Ta.arc(mc,kc,15,0,2*Math.PI,!1),Ta.lineWidth=1,Ta.strokeStyle=h,Ta.stroke(),Ta.closePath());Ta.beginPath();Ta.moveTo(mc,kc);Ta.lineTo(mc+1,kc+14);Ta.lineTo(mc+4,kc+9);
Ta.lineTo(mc+9,kc+10);Ta.lineTo(mc,kc);Ta.fill();Ta.stroke();var Fd=X.remotePointerUsernames[pd],yd="";rd===ek.AWAY?yd=Lk?"⚫️":" (".concat(ek.AWAY,")"):rd===ek.IDLE?yd=Lk?"\ud83d\udca4":" (".concat(ek.IDLE,")"):rd===ek.ACTIVE&&(yd=Lk?"\ud83d\udfe2":"");rd="".concat(Fd?"".concat(Fd," "):"").concat(yd);!xc&&rd&&(mc+=9,kc+=14,xc=Ta.measureText(rd),Fd=xc.actualBoundingBoxDescent+xc.actualBoundingBoxAscent,Ta.fillStyle=h,Ta.fillRect(mc-1,kc-1,xc.width+8+2,Fd+8+2),Ta.fillStyle=ua,Ta.fillRect(mc,kc,xc.width+
8,Fd+8),Ta.fillStyle=jd.ix,Ta.fillText(rd,mc+4,kc+4+xc.actualBoundingBoxAscent));Ta.strokeStyle=oa;Ta.fillStyle=da;Ta.globalAlpha=Sa;Ta.closePath()}if(S){var Pd=function(Bc,Vc,ad,Gd){var Cg=Gd.scrollX,Vg=Gd.scrollY,ri=Gd.zoom;if(0===Bc.length)return{horizontal:null,vertical:null};Gd=Zc(Bc);var Qh=Gd[0],sk=Gd[1];Bc=Gd[2];Gd=Gd[3];var El=Vc/ri.value,Fk=ad/ri.value,Dl=Vc-El,rl=ad-Fk;ri=parseInt(Mf("sat"));var km=parseInt(Mf("sab")),sl=parseInt(Mf("sal")),no=parseInt(Mf("sar")),aq=ie.rtl;Cg=Dl/2-Cg+sl;
Vg=rl/2-Vg+ri;El=Cg+El-no;Fk=Vg+Fk-km;Qh=Math.min(Qh,Cg);sk=Math.min(sk,Vg);Bc=Math.max(Bc,El);Gd=Math.max(Gd,Fk);return{horizontal:Cg===Qh&&El===Bc?null:{x:Math.max(sl,4)+(Cg-Qh)/(Bc-Qh)*Vc,y:ad-6-Math.max(4,km),width:(El-Cg)/(Bc-Qh)*Vc-Math.max(8,sl+no),height:6},vertical:Vg===sk&&Fk===Gd?null:{x:aq?Math.max(sl,4):Vc-6-Math.max(no,4),y:(Vg-sk)/(Gd-sk)*ad+Math.max(ri,4),width:6,height:(Fk-Vg)/(Gd-sk)*ad-Math.max(8,ri+km)}}}(d,hb,fb,X);da=Ta.fillStyle;oa=Ta.strokeStyle;Ta.fillStyle="rgba(0,0,0,0.3)";
Ta.strokeStyle="rgba(255,255,255,0.8)";[Pd.horizontal,Pd.vertical].forEach(function(Bc){if(Bc){var Vc=Bc.x,ad=Bc.y,Gd=Bc.width;Bc=Bc.height;Ta.beginPath();Ta.moveTo(Vc+3,ad);Ta.lineTo(Vc+Gd-3,ad);Ta.quadraticCurveTo(Vc+Gd,ad,Vc+Gd,ad+3);Ta.lineTo(Vc+Gd,ad+Bc-3);Ta.quadraticCurveTo(Vc+Gd,ad+Bc,Vc+Gd-3,ad+Bc);Ta.lineTo(Vc+3,ad+Bc);Ta.quadraticCurveTo(Vc,ad+Bc,Vc,ad+Bc-3);Ta.lineTo(Vc,ad+3);Ta.quadraticCurveTo(Vc,ad,Vc+3,ad);Ta.closePath();Ta.fill();Ta.stroke()}});Ta.fillStyle=da;Ta.strokeStyle=oa}return Ta.scale(1/
n,1/n),{atLeastOneVisibleElement:0<G.length,scrollBars:Pd}},el=function(d,g,h,n){Object.keys(h).forEach(function(z){var G=h[z];if(void 0!==G){var X=d.lineWidth;d.lineWidth=1/g.zoom.value;"rotation"===z?wk(d,G[0]+G[2]/2,G[1]+G[3]/2,G[2]/2):lk(d,G[0],G[1],G[2],G[3],G[0]+G[2]/2,G[1]+G[3]/2,n,!0);d.lineWidth=X}})},Mk=function(d,g){var h=Ne(g),n=h[0],z=h[1],G=h[2]-n;h=h[3]-z;var X=Zi(g,G,h);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=X-4;X=2+X/2;switch(g.type){case "rectangle":case "text":lk(d,n-X,z-X,
G+2*X,h+2*X,n+G/2,z+h/2,g.angle);break;case "diamond":var S=Math.hypot(G,h);!function(da,ua,oa,Na,Sa,Ta){da.translate(Na,Sa);da.rotate(Ta);da.beginPath();da.moveTo(0,oa/2);da.lineTo(ua/2,0);da.lineTo(0,-oa/2);da.lineTo(-ua/2,0);da.closePath();da.stroke();da.rotate(-Ta);da.translate(-Na,-Sa)}(d,G+X*S/h*2,h+X*S/G*2,n+G/2,z+h/2,g.angle);break;case "ellipse":!function(da,ua,oa,Na,Sa,Ta){da.beginPath();da.ellipse(Na,Sa,ua/2,oa/2,Ta,0,2*Math.PI);da.stroke()}(d,G+2*X,h+2*X,n+G/2,z+h/2,g.angle)}},Uh=function(d,
g){var h=g[0],n=g[1];g=g[2];var z=Zi(g,g.width,g.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===n?[0,-1]:"start"===n?[0]:[-1]).forEach(function(G){G=hf.getPointAtIndexGlobalCoordinates(h,G);wk(d,G[0],G[1],z)})},Th=function(d,g,h,n){n=void 0===n?{}:n;var z=n.offsetX,G=void 0===z?0:z;n=n.offsetY;var X=void 0===n?0:n;h&&d.forEach(function(S){S.isDeleted||function(da,ua,oa,Na,Sa){var Ta=Ne(da),hb=Ta[0],fb=Ta[1],Eb=(Ta[2]-hb)/2-(da.x-hb),kc=(Ta[3]-fb)/2-(da.y-fb),mc=180*
da.angle/Math.PI;Ta=ua.generator;switch(da.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Se(da,Ta);Ta=ua.draw(bg.get(da));1!=(pd=da.opacity/100)&&(Ta.setAttribute("stroke-opacity","".concat(pd)),Ta.setAttribute("fill-opacity","".concat(pd)));Ta.setAttribute("transform","translate(".concat(Na||0," ").concat(Sa||0,") rotate(").concat(mc," ").concat(Eb," ").concat(kc,")"));oa.appendChild(Ta);break;case "line":case "draw":case "arrow":Se(da,
Ta);var xc=oa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),rd=da.opacity/100;bg.get(da).forEach(function(ad){ad=ua.draw(ad);1!==rd&&(ad.setAttribute("stroke-opacity","".concat(rd)),ad.setAttribute("fill-opacity","".concat(rd)));ad.setAttribute("transform","translate(".concat(Na||0," ").concat(Sa||0,") rotate(").concat(mc," ").concat(Eb," ").concat(kc,")"));"line"!==da.type&&"draw"!==da.type||!th(da.points)||"transparent"===da.backgroundColor||ad.setAttribute("fill-rule","evenodd");
xc.appendChild(ad)});oa.appendChild(xc);break;default:if(!lf(da))throw Error("Unimplemented type ".concat(da.type));var pd=da.opacity/100;Ta=oa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==pd&&(Ta.setAttribute("stroke-opacity","".concat(pd)),Ta.setAttribute("fill-opacity","".concat(pd)));Ta.setAttribute("transform","translate(".concat(Na||0," ").concat(Sa||0,") rotate(").concat(mc," ").concat(Eb," ").concat(kc,")"));pd=da.text.replace(/\r\n?/g,"\n").split("\n");hb=da.height/
pd.length;fb=da.height-da.baseline;for(var Fd="center"===da.textAlign?da.width/2:"right"===da.textAlign?da.width:0,yd=ff.test(da.text)?"rtl":"ltr",Pd="center"===da.textAlign?"middle":"right"===da.textAlign||"rtl"===yd?"end":"start",Bc=0;Bc<pd.length;Bc++){var Vc=oa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Vc.textContent=pd[Bc];Vc.setAttribute("x","".concat(Fd));Vc.setAttribute("y","".concat((Bc+1)*hb-fb));Vc.setAttribute("font-family","".concat(Sb.ut[da.fontFamily],", ").concat(Sb._D));
Vc.setAttribute("font-size","".concat(da.fontSize,"px"));Vc.setAttribute("fill",da.strokeColor);Vc.setAttribute("text-anchor",Pd);Vc.setAttribute("style","white-space: pre;");Vc.setAttribute("direction",yd);Ta.appendChild(Vc)}oa.appendChild(Ta)}}(S,g,h,S.x+G,S.y+X)})},xk=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},cm=function(d,g,h,n){var z=h.exportBackground,G=h.exportPadding;G=void 0===G?10:G;var X=h.viewBackgroundColor,S=h.scale,da=void 0===S?1:S;h=h.shouldAddWatermark;
void 0===n&&(n=function(oa,Na){var Sa=document.createElement("canvas");return Sa.width=oa*da,Sa.height=Na*da,{canvas:Sa,scale:da}});d=rm(d,h);var ua=Gl(d,G,h);h=ua[0];S=ua[1];ua=n(ua[2],ua[3]);n=ua.canvas;ua=ua.scale;return Xl(d,g,null,void 0===ua?da:ua,lh.canvas(n),n,{viewBackgroundColor:z?X:null,exportWithDarkMode:g.exportWithDarkMode,scrollX:-h+G,scrollY:-S+G,zoom:oj().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},
{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),n},Bk=function(d,g){var h=g.exportBackground,n=g.exportPadding;n=void 0===n?10:n;var z=g.viewBackgroundColor,G=g.exportWithDarkMode,X=g.scale;X=void 0===X?1:X;var S=g.shouldAddWatermark;g=g.metadata;g=void 0===g?"":g;d=rm(d,S);var da=Gl(d,n,S);S=da[0];var ua=da[1],oa=da[2],Na=da[3];da=document.createElementNS("http://www.w3.org/2000/svg","svg");if(da.setAttribute("version","1.1"),da.setAttribute("xmlns","http://www.w3.org/2000/svg"),
da.setAttribute("viewBox","0 0 ".concat(oa," ").concat(Na)),da.setAttribute("width","".concat(oa*X)),da.setAttribute("height","".concat(Na*X)),G&&da.setAttribute("filter",Sb.Gi),da.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(g,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
h&&z)h=da.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","".concat(oa)),h.setAttribute("height","".concat(Na)),h.setAttribute("fill",z),da.appendChild(h);h=lh.svg(da);return Th(d,h,da,{offsetX:-S+n,offsetY:-ua+n}),da},rm=function(d,g){var h=xk([],d);g&&(g=Zc(d),d=g[2],g=g[3],h=xk([],h),d=Di({text:jb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Sb.rk,textAlign:"right",verticalAlign:Sb.hs,x:d,y:g+16,strokeColor:jd.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),h=xk(h,[d]));return h},Gl=function(d,g,h){d=Zc(d);var n=d[0],z=d[1];return[n,z,Math.abs(n-d[2])+2*g,Math.abs(z-d[3])+g+(h?0:g)]},lj=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},Pl=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},gm=function(d,g){return d.slice(1).every(function(h){return null!==
Pl(h[g])})},Ql=function(d){var g=d[0].length;if(2<g)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===g){if(!gm(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};g=null===Pl(d[0][0]);var h=(g?d.slice(1):d).map(function(G){return Pl(G[0])});return 2>h.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:g?d[0][0]:null,labels:null,values:h}}}var n=gm(d,0)?0:1;if(!gm(d,n))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var z=(n+1)%2;h=(g=null===Pl(d[0][n]))?d.slice(1):d;return 2>h.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:g?d[0][n]:null,labels:h.map(function(G){return G[z]}),values:h.map(function(G){return Pl(G[n])})}}},Yl=Hh.elementBackground.slice(2,Hh.elementBackground.length),zi={fillStyle:"hachure",fontFamily:Sb.rk,fontSize:Sb.n5,opacity:100,roughness:1,strokeColor:Hh.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},
Zl=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},$l=function(d,g,h,n,z,G){var X=Zl(d),S=X.chartWidth,da=X.chartHeight;X=d.title?Di(he(he({backgroundColor:z,groupIds:[n]},zi),{},{text:d.title,x:g+S/2,y:h-256-24-Sb.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;G=G?Mh(he(he({backgroundColor:z,groupIds:[n]},zi),{},{type:"rectangle",x:g,y:h-da,width:S,height:da,strokeColor:Hh.elementStroke[0],fillStyle:"solid",opacity:6})):null;return lj(lj(lj(lj(lj([],
G?[G]:[]),X?[X]:[]),function(ua,oa,Na,Sa,Ta){var hb;return(null===(hb=ua.labels)||void 0===hb?void 0:hb.map(function(fb,Eb){return Di(he(he({groupIds:[Sa],backgroundColor:Ta},zi),{},{text:8<fb.length?"".concat(fb.slice(0,5),"..."):fb,x:oa+44*Eb+24,y:Na+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,g,h,n,z)),function(ua,oa,Na,Sa,Ta){var hb=Di(he(he({groupIds:[Sa],backgroundColor:Ta},zi),{},{x:oa-12,y:Na-12,text:"0",textAlign:"right"}));return[hb,Di(he(he({groupIds:[Sa],
backgroundColor:Ta},zi),{},{x:oa-12,y:Na-256-hb.height/2,text:Math.max.apply(Math,ua.values).toLocaleString(),textAlign:"right"}))]}(d,g,h,n,z)),function(ua,oa,Na,Sa,Ta){var hb=Zl(ua);ua=hb.chartWidth;hb=hb.chartHeight;return[Nh(he(he({backgroundColor:Ta,groupIds:[Sa]},zi),{},{type:"line",x:oa,y:Na,startArrowhead:null,endArrowhead:null,width:ua,points:[[0,0],[ua,0]]})),Nh(he(he({backgroundColor:Ta,groupIds:[Sa]},zi),{},{type:"line",x:oa,y:Na,startArrowhead:null,endArrowhead:null,height:hb,points:[[0,
0],[0,-hb]]})),Nh(he(he({backgroundColor:Ta,groupIds:[Sa]},zi),{},{type:"line",x:oa,y:Na-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:ua,opacity:50,points:[[0,0],[ua,0]]}))]}(d,g,h,n,z))},Km=function(d,g,h,n){return"line"===d?function(z,G,X){for(var S=Math.max.apply(Math,z.values),da=mi(),ua=Yl[Math.floor(Math.random()*Yl.length)],oa=0,Na=[],Sa=0,Ta=z.values;Sa<Ta.length;Sa++)Na.push([44*oa,-Ta[Sa]/S*256]),oa++;oa=Math.max.apply(Math,Na.map(function(fb){return fb[0]}));
Sa=Math.max.apply(Math,Na.map(function(fb){return fb[1]}));Ta=Math.min.apply(Math,Na.map(function(fb){return fb[0]}));var hb=Math.min.apply(Math,Na.map(function(fb){return fb[1]}));Na=Nh(he(he({backgroundColor:ua,groupIds:[da]},zi),{},{type:"line",x:G+12+16,y:X-12,startArrowhead:null,endArrowhead:null,height:Sa-hb,width:oa-Ta,strokeWidth:2,points:Na}));oa=z.values.map(function(fb,Eb){Eb=44*Eb+6;fb=-fb/S*256+6;return Mh(he(he({backgroundColor:ua,groupIds:[da]},zi),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:G+Eb+16,y:X+fb-24,width:12,height:12}))});Sa=z.values.map(function(fb,Eb){Eb=44*Eb+6;fb=fb/S*256+18;return Nh(he(he({backgroundColor:ua,groupIds:[da]},zi),{},{type:"line",x:G+Eb+16+6,y:X-fb,startArrowhead:null,endArrowhead:null,height:fb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,fb]]}))});return lj(lj(lj(lj([],$l(z,G,X,da,ua,"production"===Sb.Vi.DEVELOPMENT)),[Na]),Sa),oa)}(g,h,n):function(z,G,X){var S=Math.max.apply(Math,z.values),da=mi(),ua=Yl[Math.floor(Math.random()*Yl.length)],
oa=z.values.map(function(Na,Sa){Na=Na/S*256;return Mh(he(he({backgroundColor:ua,groupIds:[da]},zi),{},{type:"rectangle",x:G+44*Sa+12,y:X-Na-12,width:32,height:Na}))});return lj(lj([],oa),$l(z,G,X,da,ua,"production"===Sb.Vi.DEVELOPMENT))}(g,h,n)},Lm=function(){var d=function(g,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,z){n.__proto__=z}||function(n,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(n[G]=z[G])})(g,h)};return function(g,h){function n(){this.constructor=
g}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");d(g,h);g.prototype=null===h?Object.create(h):(n.prototype=h.prototype,new n)}}(),Ol=function(d){function g(h,n){void 0===h&&(h="Couldn't export canvas.");void 0===n&&(n="CANVAS_ERROR");var z=d.call(this)||this;return z.name=n,z.message=h,z}return Lm(g,d),g}(Error),xm=function(d,g){var h,n,z,G,X,S,da,ua;d={type:d.type,version:d.version||1,versionNonce:null!==(h=d.versionNonce)&&
void 0!==h?h:0,isDeleted:null!==(n=d.isDeleted)&&void 0!==n&&n,id:d.id||mi(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(z=d.strokeStyle)&&void 0!==z?z:"solid",roughness:null!==(G=d.roughness)&&void 0!==G?G:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(X=d.seed)&&void 0!==X?X:1,groupIds:null!==(S=d.groupIds)&&void 0!==S?S:[],
strokeSharpness:null!==(da=d.strokeSharpness)&&void 0!==da?da:bh(d.type)?"round":"sharp",boundElementIds:null!==(ua=d.boundElementIds)&&void 0!==ua?ua:[]};return ui(ui(ui({},d),Ej(d)),g)},Aj=function(d){return(d||[]).reduce(function(g,h){if("selection"!==h.type&&!Vf(h)){a:{var n;switch(h.type){case "text":var z=h.fontSize,G=h.fontFamily;if("font"in h){z=h.font.split(" ");G=z[1];z=parseInt(z[0],10);b:{for(var X=0,S=Object.entries(Sb.ut);X<S.length;X++){var da=S[X],ua=da[0];if(da[1].includes(G)){G=
parseInt(ua);break b}}G=Sb.rk}}h=xm(h,{fontSize:z,fontFamily:G,text:null!==(n=h.text)&&void 0!==n?n:"",baseline:h.baseline,textAlign:h.textAlign||Sb.Hg,verticalAlign:h.verticalAlign||Sb.hs});break a;case "draw":case "line":case "arrow":n=h.startArrowhead;n=void 0===n?null:n;z=h.endArrowhead;z=void 0===z?"arrow"===h.type?"arrow":null:z;h=xm(h,{startBinding:h.startBinding,endBinding:h.endBinding,points:!Array.isArray(h.points)||2>h.points.length?[[0,0],[h.width,h.height]]:h.points,lastCommittedPoint:null,
startArrowhead:n,endArrowhead:z});break a;case "ellipse":case "rectangle":case "diamond":h=xm(h,{});break a}h=void 0}h&&g.push(h)}return g},[])},Hl=function(d,g){d=d||{};for(var h=oj(),n={},z=0,G=Object.entries(h);z<G.length;z++){var X=G[z],S=X[0];X=X[1];var da=d[S],ua=g?g[S]:void 0;n[S]=void 0!==da?da:void 0!==ua?ua:X}return ui(ui({},n),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:h.zoom.translation}:d.zoom||h.zoom})},Il=function(d,
g){return{elements:Aj(null==d?void 0:d.elements),appState:Hl(null==d?void 0:d.appState,g||null)}},Rl=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=
[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,
sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Kh=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},zg=function(){function d(){}return d.importLibrary=function(g){return nd()(function(){var h,n,z,G;return Rl(this,function(X){switch(X.label){case 0:return[4,Nm(g)];case 1:return(h=X.sent())&&h.library?(n=function(S,da){return!S.find(function(ua){return ua.length===
da.length&&ua.every(function(oa,Na){return oa.id===da[Na].id&&oa.versionNonce===da[Na].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return z=X.sent(),G=h.library.reduce(function(S,da){da=dd(Aj(da));return n(z,da)&&S.push(da),S},[]),d.saveLibrary(Kh(Kh([],z),G)),[2]}})})()},d}();zg.libraryCache=null;zg.resetLibrary=function(){zg.libraryCache=null;localStorage.removeItem(Sb.I.LOCAL_STORAGE_LIBRARY)};zg.loadLibrary=function(){return new Promise(function(){var d=nd()(function(g){var h,n;return Rl(this,
function(z){if(zg.libraryCache)return[2,g(JSON.parse(JSON.stringify(zg.libraryCache)))];try{if(!(h=localStorage.getItem(Sb.I.LOCAL_STORAGE_LIBRARY)))return[2,g([])];n=JSON.parse(h).map(function(G){return Aj(G)});zg.libraryCache=JSON.parse(JSON.stringify(n));g(n)}catch(G){console.error(G),g([])}return[2]})});return function(g){return d.apply(this,arguments)}}())};zg.saveLibrary=function(d){var g=zg.libraryCache;try{var h=JSON.stringify(d);zg.libraryCache=JSON.parse(h);localStorage.setItem(Sb.I.LOCAL_STORAGE_LIBRARY,
h)}catch(n){zg.libraryCache=g,console.error(n)}};var fl=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();
continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},
trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Nk=function(d,g){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Hk(d),appState:Yj(g,"export")},null,2)},yk=function(){var d=nd()(function(g,h){var n;return fl(this,function(z){switch(z.label){case 0:return n=Nk(g,h),[4,Sf(new Blob([n],{type:"application/json"}),{fileName:h.name,description:"Excalidraw file",extensions:[".excalidraw"]},
h.fileHandle)];case 1:return[2,{fileHandle:z.sent()}]}})});return function(g,h){return d.apply(this,arguments)}}(),yl=function(){var d=nd()(function(g){var h;return fl(this,function(n){switch(n.label){case 0:return[4,sh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return h=n.sent(),[2,kl(h,g)]}})});return function(g){return d.apply(this,arguments)}}(),Pk=function(){var d=nd()(function(){var g,
h;return fl(this,function(n){switch(n.label){case 0:return[4,zg.loadLibrary()];case 1:return g=n.sent(),h=JSON.stringify({type:"excalidrawlib",version:1,library:g},null,2),"library.excalidrawlib",[4,Sf(new Blob([h],{type:Sb.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return n.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),Mm=function(){var d=nd()(function(){var g;return fl(this,function(h){switch(h.label){case 0:return[4,
sh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return g=h.sent(),zg.importLibrary(g),[2]}})});return function(){return d.apply(this,arguments)}}(),gl=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=
[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=
[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Jl=function(){var d=nd()(function(g){var h;return gl(this,function(n){switch(n.label){case 0:if("image/png"!==g.type)return[3,6];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,Promise.all([m.e(736),
m.e(9)]).then(m.bind(m,8527))];case 2:return[4,n.sent().decodePngMetadata(g)];case 3:return[2,n.sent()];case 4:throw"INVALID"===n.sent().message?Error(jb("alerts.imageDoesNotContainScene")):Error(jb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,g.text()]:[3,8];case 7:return h=n.sent(),[3,10];case 8:return[4,new Promise(function(z){var G=new FileReader;G.readAsText(g,"utf8");G.onloadend=function(){G.readyState===FileReader.DONE&&z(G.result)}})];case 9:h=n.sent(),
n.label=10;case 10:if("image/svg+xml"!==g.type)return[3,15];n.label=11;case 11:return n.trys.push([11,14,,15]),[4,Promise.all([m.e(736),m.e(9)]).then(m.bind(m,8527))];case 12:return[4,n.sent().decodeSvgMetadata({svg:h})];case 13:return[2,n.sent()];case 14:throw"INVALID"===n.sent().message?Error(jb("alerts.imageDoesNotContainScene")):Error(jb("alerts.cannotRestoreFromImage"));case 15:return[2,h]}})});return function(g){return d.apply(this,arguments)}}(),kl=function(){var d=nd()(function(g,h){var n,
z;return gl(this,function(G){switch(G.label){case 0:return[4,Jl(g)];case 1:n=G.sent();try{var X=z=JSON.parse(n);if("excalidraw"!==(null==X?void 0:X.type)||X.elements&&(!Array.isArray(X.elements)||X.appState&&"object"!=typeof X.appState))throw Error(jb("alerts.couldNotLoadInvalidFile"));var S=Hk(z.elements||[]),da=null==h?void 0:h.appearance,ua;if(ua=g.handle){var oa=["application/json",Sb.LO.excalidraw],Na=oa.includes;a:{if("string"==typeof g)var Sa=g;else{if(g.type){var Ta=g.type;break a}Sa=g.name||
""}Ta=/\.(excalidraw|json)$/.test(Sa)?"application/json":/\.png$/.test(Sa)?"image/png":/\.jpe?g$/.test(Sa)?"image/jpeg":/\.svg$/.test(Sa)?"image/svg+xml":""}ua=Na.call(oa,Ta)}return[2,Il({elements:S,appState:qe(qe({appearance:da,fileHandle:ua?g.handle:null},Yj(z.appState||{},"export")),h?fe(z.elements||[],h):{})},h)]}catch(hb){throw console.error(hb.message),Error(jb("alerts.couldNotLoadInvalidFile"));}}})});return function(g,h){return d.apply(this,arguments)}}(),Nm=function(){var d=nd()(function(g){var h,
n;return gl(this,function(z){switch(z.label){case 0:return[4,Jl(g)];case 1:if(h=z.sent(),"excalidrawlib"!==(n=JSON.parse(h)).type)throw Error(jb("alerts.couldNotLoadInvalidFile"));return[2,n]}})});return function(g){return d.apply(this,arguments)}}(),hl=function(){var d=nd()(function(g){return gl(this,function(h){return[2,new Promise(function(n,z){try{g.toBlob(function(G){if(!G)return z(new Ol(jb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));n(G)})}catch(G){z(G)}})]})});return function(g){return d.apply(this,
arguments)}}(),Qi=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=
0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),
throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},jl="",il=!1,Rg="clipboard"in navigator&&"readText"in navigator.clipboard,Si="clipboard"in navigator&&"writeText"in navigator.clipboard,q="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,H=function(){var d=nd()(function(g,h){var n,z,G;return Qi(this,function(X){switch(X.label){case 0:n={type:"excalidraw/elements",created:Date.now(),
elements:Ee(g,h)},jl=z=JSON.stringify(n),X.label=1;case 1:return X.trys.push([1,3,,4]),il=!1,[4,yb(z)];case 2:return X.sent(),[3,4];case 3:return G=X.sent(),il=!0,console.error(G),[3,4];case 4:return[2]}})});return function(g,h){return d.apply(this,arguments)}}(),ba=function(){if(!jl)return{};try{return JSON.parse(jl)}catch(d){return console.error(d),{}}},Ga=function(d){d=function(g){var h=g.trim().split("\n").map(function(z){return z.trim().split("\t")});if(h.length&&2!==h[0].length&&(h=g.trim().split("\n").map(function(z){return z.trim().split(",")})),
0===h.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var n=h[0].length;if(!h.every(function(z){return z.length===n}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};g=Ql(h);return"VALID_SPREADSHEET"!==g.type&&(h=Ql(function(z){for(var G=[],X=0;X<z[0].length;X++){for(var S=[],da=0;da<z.length;da++)S.push(z[da][X]);G.push(S)}return G}(h)),"VALID_SPREADSHEET"===h.type)?h:g}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},Wa=function(){var d=
nd()(function(g){var h,n,z;return Qi(this,function(G){switch(G.label){case 0:return G.trys.push([0,5,,6]),g?(n=null===(h=g.clipboardData)||void 0===h?void 0:h.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(z=Rg)?[4,navigator.clipboard.readText()]:[3,3];case 2:z=G.sent(),G.label=3;case 3:n=z,G.label=4;case 4:return[2,n||""];case 5:return G.sent(),[2,""];case 6:return[2]}})});return function(g){return d.apply(this,arguments)}}(),bb=function(){var d=nd()(function(g){var h,n,z,G;return Qi(this,
function(X){switch(X.label){case 0:return[4,Wa(g)];case 1:if(!(h=X.sent())||h.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,ba()];if(n=Ga(h))return[2,n];z=ba();try{return G=JSON.parse(h),"excalidraw/elements"===(null==(S=G)?void 0:S.type)&&(null==z||!z.created||z.created<G.created)?[2,{elements:G.elements}]:[2,z]}catch(da){return[2,il&&z.elements?z:{text:h}]}}var S})});return function(g){return d.apply(this,arguments)}}(),vb=function(){var d=nd()(function(g){var h;return Qi(this,function(n){switch(n.label){case 0:return[4,
hl(g)];case 1:return h=n.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":h})])];case 2:return n.sent(),[2]}})});return function(g){return d.apply(this,arguments)}}(),yb=function(){var d=nd()(function(g){var h,n;return Qi(this,function(z){switch(z.label){case 0:if(h=!1,!Si)return[3,4];z.label=1;case 1:return z.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(g||"")];case 2:return z.sent(),h=!0,[3,4];case 3:return n=z.sent(),console.error(n),[3,4];case 4:if(z=!h){var G=
g||" ",X="rtl"===document.documentElement.getAttribute("dir");z=document.createElement("textarea");z.style.border="0";z.style.padding="0";z.style.margin="0";z.style.position="absolute";z.style[X?"right":"left"]="-9999px";z.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");z.style.fontSize="12pt";z.setAttribute("readonly","");z.value=G;document.body.appendChild(z);G=!1;try{z.select(),z.setSelectionRange(0,z.value.length),G=document.execCommand("copy")}catch(S){console.error(S)}z=
!(z.remove(),G)}if(z)throw Error("couldn't copy");return[2]}})});return function(g){return d.apply(this,arguments)}}(),Kb=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;
z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,
S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},cc=function(){var d=nd()(function(g,h,n,z,G){var X,S,da,ua,oa,Na,Sa,Ta,hb,fb=G.exportBackground,Eb=G.exportPadding,kc=void 0===Eb?10:Eb,mc=G.viewBackgroundColor,xc=G.name;Eb=G.scale;var rd=void 0===Eb?1:Eb,pd=G.shouldAddWatermark;return Kb(this,function(Fd){switch(Fd.label){case 0:if(0===h.length)throw Error(jb("alerts.cannotExportEmptyCanvas"));
return"svg"!==g&&"clipboard-svg"!==g?[3,7]:(S=Bk,da=[h],ua={exportBackground:fb,exportWithDarkMode:n.exportWithDarkMode,viewBackgroundColor:mc,exportPadding:kc,scale:rd,shouldAddWatermark:pd},n.exportEmbedScene&&"svg"===g?[4,Promise.all([m.e(736),m.e(9)]).then(m.bind(m,8527))]:[3,3]);case 1:return[4,Fd.sent().encodeSvgMetadata({text:Nk(h,n)})];case 2:return oa=Fd.sent(),[3,4];case 3:oa=void 0,Fd.label=4;case 4:return X=S.apply(void 0,da.concat([(ua.metadata=oa,ua)])),"svg"!==g?[3,6]:[4,Sf(new Blob([X.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(xc,".svg"),extensions:[".svg"]})];case 5:return Fd.sent(),[2];case 6:if("clipboard-svg"===g)return yb(X.outerHTML),[2];Fd.label=7;case 7:return(Na=cm(h,n,{exportBackground:fb,viewBackgroundColor:mc,exportPadding:kc,scale:rd,shouldAddWatermark:pd})).style.display="none",document.body.appendChild(Na),"png"!==g?[3,13]:(Sa="".concat(xc,".png"),[4,hl(Na)]);case 8:return Ta=Fd.sent(),n.exportEmbedScene?[4,Promise.all([m.e(736),m.e(9)]).then(m.bind(m,8527))]:[3,
11];case 9:return[4,Fd.sent().encodePngMetadata({blob:Ta,metadata:Nk(h,n)})];case 10:Ta=Fd.sent(),Fd.label=11;case 11:return[4,Sf(Ta,{fileName:Sa,extensions:[".png"]})];case 12:return Fd.sent(),[3,17];case 13:if("clipboard"!==g)return[3,17];Fd.label=14;case 14:return Fd.trys.push([14,16,,17]),[4,vb(Na)];case 15:return Fd.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(hb=Fd.sent()).name)throw hb;throw Error(jb("alerts.couldNotCopyToClipboard"));case 17:return Na!==z&&Na.remove(),[2]}})});return function(g,
h,n,z,G){return d.apply(this,arguments)}}(),nc=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;
default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],
ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Kc,$c,ae;cd({name:"changeProjectName",perform:function(d,g,h){return Wf("change","title"),{appState:yf(yf({},g),{},{name:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return sa().createElement(gi,{label:jb("labels.fileTitle"),value:g.name||"Unnamed",onChange:function(n){return h(n)}})}});cd({name:"changeExportBackground",perform:function(d,
g,h){return{appState:yf(yf({},g),{},{exportBackground:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return sa().createElement("label",null,sa().createElement("input",{type:"checkbox",checked:g.exportBackground,onChange:function(n){return h(n.target.checked)}})," ",jb("labels.withBackground"))}});cd({name:"changeExportEmbedScene",perform:function(d,g,h){return{appState:yf(yf({},g),{},{exportEmbedScene:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,
h=d.updateData;return sa().createElement("label",{style:{display:"flex"}},sa().createElement("input",{type:"checkbox",checked:g.exportEmbedScene,onChange:function(n){return h(n.target.checked)}})," ",jb("labels.exportEmbedScene"),sa().createElement(yj,{label:jb("labels.exportEmbedScene_details"),position:"above",long:!0},sa().createElement("div",{className:"TooltipIcon"},Sh)))}});cd({name:"changeShouldAddWatermark",perform:function(d,g,h){return{appState:yf(yf({},g),{},{shouldAddWatermark:h}),commitToHistory:!1}},
PanelComponent:function(d){var g=d.appState,h=d.updateData;return sa().createElement("label",null,sa().createElement("input",{type:"checkbox",checked:g.shouldAddWatermark,onChange:function(n){return h(n.target.checked)}})," ",jb("labels.addWatermark"))}});cd({name:"saveScene",perform:(Kc=nd()(function(d,g,h){var n,z,G;return nc(this,function(X){switch(X.label){case 0:n=!!g.fileHandle,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,yk(d,g)];case 2:return z=X.sent().fileHandle,[2,{commitToHistory:!1,
appState:yf(yf({},g),{},{fileHandle:z,toastMessage:n?z.name?jb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(z.name,'"')):jb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(G=X.sent())?void 0:G.name)&&console.error(G),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,g,h){return Kc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[Id]&&!d.shiftKey},PanelComponent:function(d){var g=d.updateData;return sa().createElement(Hd,{type:"button",icon:ud,
title:jb("buttons.save"),"aria-label":jb("buttons.save"),showAriaLabel:rf(),onClick:function(){return g(null)}})}});cd({name:"saveAsScene",perform:($c=nd()(function(d,g,h){var n,z;return nc(this,function(G){switch(G.label){case 0:return G.trys.push([0,2,,3]),[4,yk(d,yf(yf({},g),{},{fileHandle:null}))];case 1:return n=G.sent().fileHandle,[2,{commitToHistory:!1,appState:yf(yf({},g),{},{fileHandle:n})}];case 2:return"AbortError"!==(null==(z=G.sent())?void 0:z.name)&&console.error(z),[2,{commitToHistory:!1}];
case 3:return[2]}})}),function(d,g,h){return $c.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[Id]},PanelComponent:function(d){var g=d.updateData;return sa().createElement(Hd,{type:"button",icon:Ik,title:jb("buttons.saveAs"),"aria-label":jb("buttons.saveAs"),showAriaLabel:rf(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return g(null)}})}});cd({name:"loadScene",perform:(ae=nd()(function(d,g){var h,n,z,G;return nc(this,
function(X){switch(X.label){case 0:return X.trys.push([0,2,,3]),[4,yl(g)];case 1:return h=X.sent(),n=h.elements,z=h.appState,[2,{elements:n,appState:z,commitToHistory:!0}];case 2:return"AbortError"===(null==(G=X.sent())?void 0:G.name)?[2,!1]:[2,{elements:d,appState:yf(yf({},g),{},{errorMessage:G.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,g){return ae.apply(this,arguments)}),keyTest:function(d){return d[Id]&&"o"===d.key},PanelComponent:function(d){var g=d.updateData;d.appState;
return sa().createElement(Hd,{type:"button",icon:cl,title:jb("buttons.load"),"aria-label":jb("buttons.load"),showAriaLabel:rf(),onClick:g})}});cd({name:"exportWithDarkMode",perform:function(d,g,h){return{appState:yf(yf({},g),{},{exportWithDarkMode:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return sa().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},sa().createElement(Ij,{value:g.exportWithDarkMode?
"dark":"light",onChange:function(n){h("dark"===n)},title:jb("labels.toggleExportColorScheme")}))}});var Ke="{}",Jh=cd({name:"copyStyles",perform:function(d,g){d=d.find(function(h){return g.selectedElementIds[h.id]});return d&&(Ke=JSON.stringify(d)),{appState:wi(wi({},g),{},{toastMessage:jb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[Id]&&d.altKey&&"KeyC"===d.code}}),Eh=cd({name:"pasteStyles",perform:function(d,g){var h=JSON.parse(Ke);
return"text"!==(null==h?void 0:h.type)&&"diamond"!==(null==h?void 0:h.type)&&"rectangle"!==(null==h?void 0:h.type)&&"ellipse"!==(null==h?void 0:h.type)&&"arrow"!==(null==h?void 0:h.type)&&"draw"!==(null==h?void 0:h.type)&&"line"!==(null==h?void 0:h.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(n){return g.selectedElementIds[n.id]?(n=Ye(n,{backgroundColor:null==h?void 0:h.backgroundColor,strokeWidth:null==h?void 0:h.strokeWidth,strokeColor:null==h?void 0:h.strokeColor,strokeStyle:null==
h?void 0:h.strokeStyle,fillStyle:null==h?void 0:h.fillStyle,opacity:null==h?void 0:h.opacity,roughness:null==h?void 0:h.roughness}),lf(n)&&(Dd(n,{fontSize:(null==h?void 0:h.fontSize)||Sb.n5,fontFamily:(null==h?void 0:h.fontFamily)||Sb.rk,textAlign:(null==h?void 0:h.textAlign)||Sb.Hg}),Pj(n)),n):n}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[Id]&&d.altKey&&"KeyV"===d.code}}),Ci=function(d){return sa().createElement("label",{title:"".concat(d.title," — ?"),
className:"help-icon"},sa().createElement("div",{onClick:d.onClick},Sh))};cd({name:"toggleCanvasMenu",perform:function(d,g){return{appState:Be(Be({},g),{},{openMenu:"canvas"===g.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState;d=d.updateData;return sa().createElement(Hd,{type:"button",icon:qh,"aria-label":jb("buttons.menu"),onClick:d,selected:"canvas"===g.openMenu})}});cd({name:"toggleEditMenu",perform:function(d,g){return{appState:Be(Be({},g),{},{openMenu:"shape"===
g.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var g=d.elements,h=d.appState;d=d.updateData;return sa().createElement(Hd,{visible:vk(h,dd(g)),type:"button",icon:Tc,"aria-label":jb("buttons.edit"),onClick:d,selected:"shape"===h.openMenu})}});cd({name:"toggleFullScreen",perform:function(){return Vi()||document.documentElement.requestFullscreen(),Vi()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[Id]}});cd({name:"toggleShortcuts",
perform:function(d,g){return{appState:Be(Be({},g),{},{showHelpDialog:!g.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return sa().createElement(Ci,{title:jb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Fe=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},dh=function(d,g){d=Ee(dd(d),g);return 2<=d.length&&!function(h){if(2<=h.length)for(var n=function(S){if(h.reduce(function(da,ua){return da&&ua.groupIds.includes(S)},
!0))return{value:!0}},z=0,G=h[0].groupIds;z<G.length;z++){var X=n(G[z]);if("object"==typeof X)return X.value}return!1}(d)},Xi=cd({name:"group",perform:function(d,g){var h=Ee(dd(d),g);if(2>h.length)return{appState:g,elements:d,commitToHistory:!1};var n=Zj(g);if(1===n.length&&(n=new Set(qj(d,n[0]).map(function(X){return X.id})),h=new Set(h.map(function(X){return X.id})),(new Set(Fe(Fe([],Array.from(n)),Array.from(h)))).size===n.size))return{appState:g,elements:d,commitToHistory:!1};var z=mi();n=d.map(function(X){if(g.selectedElementIds[X.id]){var S=
g.editingGroupId;var da=Zh([],X.groupIds);S=S?da.indexOf(S):-1;da=(da.splice(-1<S?S:da.length,0,z),da);X=Ye(X,{groupIds:da})}return X});d=qj(n,z);var G=n.lastIndexOf(d[d.length-1]);h=n.slice(G+1);n=n.slice(0,G).filter(function(X){return!X.groupIds.includes(z)});d=Fe(Fe(Fe([],n),d),h);return{appState:Nd(z,Od(Od({},g),{},{selectedGroupIds:{}}),dd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,g){return dh(d,g)},keyTest:function(d){return!d.shiftKey&&
d[Id]&&"KeyG"===d.code},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!dh(g,h),type:"button",icon:sa().createElement(He,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.group")," — ").concat(Ac("CtrlOrCmd+G")),"aria-label":jb("labels.group"),visible:wf(dd(g),h)})}}),ll=cd({name:"ungroup",perform:function(d,g){if(0===Zj(g).length)return{appState:g,elements:d,commitToHistory:!1};d=d.map(function(h){var n=
function(z,G){return z.filter(function(X){return!G[X]})}(h.groupIds,g.selectedGroupIds);return n.length===h.groupIds.length?h:Ye(h,{groupIds:n})});return{appState:Gj(Od(Od({},g),{},{selectedGroupIds:{}}),dd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[Id]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,g){return 0<Zj(g).length},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{type:"button",
hidden:0===Zj(h).length,icon:sa().createElement(Te,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.ungroup")," — ").concat(Ac("CtrlOrCmd+Shift+G")),"aria-label":jb("labels.ungroup"),visible:wf(dd(g),h)})}}),wm=(m(1395),function(d){var g=d.children,h=d.color,n=d.border;d=d.onClick;return sa().createElement("div",{className:"Avatar",style:{background:h,border:"1px solid ".concat(n)},onClick:d},g)});cd({name:"goToCollaborator",perform:function(d,g,h){return h?
{appState:Mc(Mc(Mc({},g),mh({scenePoint:h,viewportDimensions:{width:g.width,height:g.height},zoom:g.zoom})),{},{openMenu:"canvas"===g.openMenu?null:g.openMenu}),commitToHistory:!1}:{appState:g,commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;d=d.id;if(!d)return null;var n=g.collaborators.get(d);if(!n)return null;d=Tj(d,g);g=d.background;d=d.stroke;var z=function(G){if(!G)return"?";G=G.trim().split(" ");return 2>G.length?G[0].substring(0,2).toUpperCase():(G[0][0]+G[G.length-
1][0]).toUpperCase()}(n.username);return sa().createElement(wm,{color:g,border:d,onClick:function(){return h(n.pointer)}},z)}});var Rm=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},Tm=cd({name:"addToLibrary",perform:function(d,g){var h=Ee(dd(d),g);return zg.loadLibrary().then(function(n){zg.saveLibrary(Rm(Rm([],n),[h.map(wd)]))}),!1},contextItemLabel:"labels.addToLibrary"}),um=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},pn=function(d){var g=
new Map;return d.forEach(function(h){var n=0===h.groupIds.length?h.id:h.groupIds[h.groupIds.length-1],z=g.get(n)||[];g.set(n,um(um([],z),[h]))}),Array.from(g.values())},ne=function(d,g,h){var n,z,G,X=h.axis;h=h.position;d=Ui(d);var S="x"===X?["minX","maxX"]:["minY","maxY"],da=S[0];S=S[1];return ug(ug({},{x:0,y:0}),{},"start"===h?((n={})[X]=g[da]-d[da],n):"end"===h?((z={})[X]=g[S]-d[S],z):((G={})[X]=(g[da]+g[S])/2-(d[da]+d[S])/2,G))},Ui=function(d){d=Zc(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},
Tg=function(d,g){return 1<Ee(dd(d),g).length},wh=function(d,g,h){g=function(z,G){var X=pn(z),S=Ui(z);return X.flatMap(function(da){var ua=ne(da,S,G);return da.map(function(oa){return Ye(oa,{x:oa.x+ua.x,y:oa.y+ua.y})})})}(Ee(dd(d),g),h);var n=xh(g);return d.map(function(z){return n[z.id]||z})},Cl=(cd({name:"alignTop",perform:function(d,g){return{appState:g,elements:wh(d,g,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Id]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var g=
d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!Tg(g,h),type:"button",icon:sa().createElement(wl,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.alignTop")," — ").concat(Ac("CtrlOrCmd+Shift+Up")),"aria-label":jb("labels.alignTop"),visible:wf(dd(g),h)})}}),cd({name:"alignBottom",perform:function(d,g){return{appState:g,elements:wh(d,g,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Id]&&d.shiftKey&&"ArrowDown"===
d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!Tg(g,h),type:"button",icon:sa().createElement(vi,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.alignBottom")," — ").concat(Ac("CtrlOrCmd+Shift+Down")),"aria-label":jb("labels.alignBottom"),visible:wf(dd(g),h)})}}),cd({name:"alignLeft",perform:function(d,g){return{appState:g,elements:wh(d,g,{position:"start",axis:"x"}),commitToHistory:!0}},
keyTest:function(d){return d[Id]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!Tg(g,h),type:"button",icon:sa().createElement(Ph,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.alignLeft")," — ").concat(Ac("CtrlOrCmd+Shift+Left")),"aria-label":jb("labels.alignLeft"),visible:wf(dd(g),h)})}}),cd({name:"alignRight",perform:function(d,g){return{appState:g,elements:wh(d,
g,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[Id]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!Tg(g,h),type:"button",icon:sa().createElement(Ii,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.alignRight")," — ").concat(Ac("CtrlOrCmd+Shift+Right")),"aria-label":jb("labels.alignRight"),visible:wf(dd(g),h)})}}),cd({name:"alignVerticallyCentered",
perform:function(d,g){return{appState:g,elements:wh(d,g,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!Tg(g,h),type:"button",icon:sa().createElement(ij,{appearance:h.appearance}),onClick:function(){return n(null)},title:jb("labels.centerVertically"),"aria-label":jb("labels.centerVertically"),visible:wf(dd(g),h)})}}),cd({name:"alignHorizontallyCentered",perform:function(d,g){return{appState:g,
elements:wh(d,g,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!Tg(g,h),type:"button",icon:sa().createElement(jj,{appearance:h.appearance}),onClick:function(){return n(null)},title:jb("labels.centerHorizontally"),"aria-label":jb("labels.centerHorizontally"),visible:wf(dd(g),h)})}}),function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d}),nn=function(d){var g=new Map;
return d.forEach(function(h){var n=0===h.groupIds.length?h.id:h.groupIds[h.groupIds.length-1],z=g.get(n)||[];g.set(n,Cl(Cl([],z),[h]))}),Array.from(g.values())},ni=function(d){var g=Zc(d);d=g[0];var h=g[1],n=g[2];g=g[3];return{minX:d,minY:h,maxX:n,maxY:g,width:n-d,height:g-h,midX:(d+n)/2,midY:(h+g)/2}},vm=function(d,g){return 1<Ee(dd(d),g).length},Ml=function(d,g,h){g=function(z,G){var X="x"===G.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],S=X[0],da=X[1],ua=X[2],oa=X[3],Na=
ni(z);z=nn(z).map(function(xc){return[xc,ni(xc)]}).sort(function(xc,rd){return xc[1][da]-rd[1][da]});for(var Sa=X=0;Sa<z.length;Sa++)X+=z[Sa][1][oa];var Ta=(Na[oa]-X)/(z.length-1);if(0>Ta){var hb=z.findIndex(function(xc){return xc[1][S]===Na[S]}),fb=z.findIndex(function(xc){return xc[1][ua]===Na[ua]}),Eb=(z[fb][1][da]-z[hb][1][da])/(z.length-1),kc=z[hb][1][da];return z.flatMap(function(xc,rd){var pd=xc[0];xc=xc[1];var Fd={x:0,y:0};return rd!==hb&&rd!==fb&&(kc+=Eb,Fd[G.axis]=kc-xc[da]),pd.map(function(yd){return Ye(yd,
{x:yd.x+Fd.x,y:yd.y+Fd.y})})})}var mc=Na[S];return z.flatMap(function(xc){var rd=xc[0];xc=xc[1];var pd={x:0,y:0};return pd[G.axis]=mc-xc[S],mc+=Ta,mc+=xc[oa],rd.map(function(Fd){return Ye(Fd,{x:Fd.x+pd.x,y:Fd.y+pd.y})})})}(Ee(dd(d),g),h);var n=xh(g);return d.map(function(z){return n[z.id]||z})},am=(cd({name:"distributeHorizontally",perform:function(d,g){return{appState:g,elements:Ml(d,g,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var g=
d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!vm(g,h),type:"button",icon:sa().createElement(Lc,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.distributeHorizontally")," — ").concat(Ac("Alt+H")),"aria-label":jb("labels.distributeHorizontally"),visible:wf(dd(g),h)})}}),cd({name:"distributeVertically",perform:function(d,g){return{appState:g,elements:Ml(d,g,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&
"KeyV"===d.code},PanelComponent:function(d){var g=d.elements,h=d.appState,n=d.updateData;return sa().createElement(Hd,{hidden:!vm(g,h),type:"button",icon:sa().createElement(Zg,{appearance:h.appearance}),onClick:function(){return n(null)},title:"".concat(jb("labels.distributeVertically")," — ").concat(Ac("Alt+V")),"aria-label":jb("labels.distributeVertically"),visible:wf(dd(g),h)})}}),function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");
for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<
G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X}),Al=cd({name:"copy",perform:function(d,g){return H(dd(d),
g),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),mn=cd({name:"cut",perform:function(d,g,h,n){return Al.perform(d,g,h,n),cj.perform(d,g,h,n)},contextItemLabel:"labels.cut",keyTest:function(d){return d[Id]&&"KeyX"===d.code}}),Sm=cd({name:"copyAsSvg",perform:function(){var d=nd()(function(g,h,n,z){var G,X;return am(this,function(S){switch(S.label){case 0:if(!z.canvas)return[2,{commitToHistory:!1}];G=Ee(dd(g),h);S.label=1;case 1:return S.trys.push([1,3,,4]),[4,cc("clipboard-svg",G.length?G:dd(g),
h,z.canvas,h)];case 2:return S.sent(),[2,{commitToHistory:!1}];case 3:return X=S.sent(),console.error(X),[2,{appState:We(We({},h),{},{errorMessage:X.message}),commitToHistory:!1}];case 4:return[2]}})});return function(g,h,n,z){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),Qm=cd({name:"copyAsPng",perform:function(){var d=nd()(function(g,h,n,z){var G,X;return am(this,function(S){switch(S.label){case 0:if(!z.canvas)return[2,{commitToHistory:!1}];G=Ee(dd(g),h);S.label=1;case 1:return S.trys.push([1,
3,,4]),[4,cc("clipboard",G.length?G:dd(g),h,z.canvas,h)];case 2:return S.sent(),[2,{appState:We(We({},h),{},{toastMessage:jb("toast.copyToClipboardAsPng",{exportSelection:G.length?jb("toast.selection"):jb("toast.canvas"),exportColorScheme:h.exportWithDarkMode?jb("buttons.darkMode"):jb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return X=S.sent(),console.error(X),[2,{appState:We(We({},h),{},{errorMessage:X.message}),commitToHistory:!1}];case 4:return[2]}})});return function(g,h,n,z){return d.apply(this,
arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),Om=cd({name:"gridMode",perform:function(d,g){return Wf("view","mode","grid"),{appState:zc(zc({},g),{},{gridSize:this.checked(g)?null:Sb.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[Id]&&"Quote"===d.code}}),fd=cd({name:"zenMode",perform:function(d,g){return Wf("view","mode","zen"),{appState:Qa(Qa({},
g),{},{zenModeEnabled:!this.checked(g)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[Id]&&d.altKey&&"KeyZ"===d.code}}),bm=cd({name:"stats",perform:function(d,g){return{appState:Pb(Pb({},g),{},{showStats:!this.checked(g)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),Pm=function(d,g,h){if(!(g.multiElement||g.resizingElement||g.editingElement||g.draggingElement)){h=
h();if(null===h)return{commitToHistory:!1};var n=xh(d),z=h.elements,G=xh(z);d=d.filter(function(X){return!G.hasOwnProperty(X.id)});z=z.map(function(X){return Ye(n[X.id]||X,X)}).concat(d.map(function(X){return Ye(X,{isDeleted:!0})}));return ti(z,d),{elements:z,appState:Nc(Nc({},g),h.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},Tk=function(){function d(g,h,n,z){var G=this;this.actions={};this.renderAction=function(X,S){if(G.actions[X]&&"PanelComponent"in G.actions[X]){var da=
G.actions[X];X=da.PanelComponent;return sa().createElement(X,{elements:G.getElementsIncludingDeleted(),appState:G.getAppState(),updateData:function(ua){G.updater(da.perform(G.getElementsIncludingDeleted(),G.getAppState(),ua,G.app))},id:S})}return null};this.updater=function(X){if(!(X&&"then"in X))return g(X);X.then(function(S){return g(S)})};this.getAppState=h;this.getElementsIncludingDeleted=n;this.app=z}return d.prototype.registerAction=function(g){this.actions[g.name]=g},d.prototype.registerAll=
function(g){var h=this;g.forEach(function(n){return h.registerAction(n)})},d.prototype.handleKeyDown=function(g){var h=this,n=Object.values(this.actions).sort(function(z,G){return(G.keyPriority||0)-(z.keyPriority||0)}).filter(function(z){return z.keyTest&&z.keyTest(g,h.getAppState(),h.getElementsIncludingDeleted())});return 0!==n.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Sb.EH).includes(n[0].name))&&(g.preventDefault(),this.updater(n[0].perform(this.getElementsIncludingDeleted(),
this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(g){this.updater(g.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),ol=function(d){d=Array.from(d.values());return{x:em(d,function(g){return g.x})/d.length,y:em(d,function(g){return g.y})/d.length}},dm=function(d){var g=d[0];d=d[1];return Math.hypot(g.x-d.x,g.y-d.y)},em=function(d,g){return d.reduce(function(h,n){return h+g(n)},0)},ym,qn=function(){function d(){var g=this;this.elementCache=
new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(h,n){return g.dehydrateHistoryEntry({appState:{selectedElementIds:h.selectedElementIds,viewBackgroundColor:h.viewBackgroundColor,editingLinearElement:h.editingLinearElement,editingGroupId:h.editingGroupId,name:h.name},elements:n.reduce(function(z,G){if(Md(G)&&h.multiElement&&h.multiElement.id===G.id){if(h.multiElement&&h.multiElement.id===G.id&&2>G.points.length)return z;z.push(Qb(Qb({},
G),{},{points:G.lastCommittedPoint!==G.points[G.points.length-1]?G.points.slice(0,-1):G.points}))}else z.push(G);return z},[])})}}return d.prototype.hydrateHistoryEntry=function(g){var h=g.elements,n=this;return{appState:JSON.parse(g.appState),elements:h.map(function(z){var G,X=null===(G=n.elementCache.get(z.id))||void 0===G?void 0:G.get(z.versionNonce);if(!X)throw Error("Element not found: ".concat(z.id,":").concat(z.versionNonce));return X})}},d.prototype.dehydrateHistoryEntry=function(g){var h=
g.elements,n=this;return{appState:JSON.stringify(g.appState),elements:h.map(function(z){n.elementCache.has(z.id)||n.elementCache.set(z.id,new Map);var G=n.elementCache.get(z.id);return G.has(z.versionNonce)||G.set(z.versionNonce,wd(z)),{id:z.id,versionNonce:z.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var g=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(h){return g.hydrateHistoryEntry(h)}),redoStack:this.redoStack.map(function(h){return g.hydrateHistoryEntry(h)})}},
d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(g){var h,n=this.lastEntry;if(!n||g.elements.length!==n.elements.length)return!0;for(var z=g.elements.length-1;-1<z;z--){var G=g.elements[z],X=n.elements[z];if(!G||!X||G.id!==X.id||G.versionNonce!==X.versionNonce)return!0}for(h in g.appState){var S,da;if(("editingLinearElement"!==h||(null===(S=g.appState[h])||void 0===S?void 0:S.elementId)!==
(null===(da=n.appState[h])||void 0===da?void 0:da.elementId))&&"selectedElementIds"!==h&&g.appState[h]!==n.appState[h])return!0}return!1},d.prototype.pushEntry=function(g,h){g=this.generateEntry(g,h);(h=this.hydrateHistoryEntry(g))&&this.shouldCreateEntry(h)&&(this.stateHistory.push(g),this.lastEntry=h,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var g=this.redoStack.pop();
return void 0!==g?(this.stateHistory.push(g),this.hydrateHistoryEntry(g)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var g=this.stateHistory.pop(),h=this.stateHistory[this.stateHistory.length-1];return void 0!==g?(this.redoStack.push(g),this.hydrateHistoryEntry(h)):null},d.prototype.setCurrentState=function(g,h){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(g,h))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(g,
h){this.recording&&(this.pushEntry(g,h),this.recording=!1)},d}(),Xk=[{icon:sa().createElement("svg",{viewBox:"0 0 320 512",className:""},sa().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:sa().createElement("svg",
{viewBox:"0 0 448 512"},sa().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:sa().createElement("svg",{viewBox:"0 0 223.646 223.646"},sa().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:sa().createElement("svg",{viewBox:"0 0 512 512"},sa().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),
value:"ellipse",key:"e"},{icon:sa().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},sa().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:sa().createElement("svg",{viewBox:"0 0 6 6"},sa().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",
strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:sa().createElement("svg",{viewBox:"0 0 512 512"},sa().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},{icon:sa().createElement("svg",{viewBox:"0 0 448 512"},sa().createElement("path",
{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],tm=(m(4518),{cut:[Ac("CtrlOrCmd+X")],copy:[Ac("CtrlOrCmd+C")],paste:[Ac("CtrlOrCmd+V")],copyStyles:[Ac("CtrlOrCmd+Alt+C")],pasteStyles:[Ac("CtrlOrCmd+Alt+V")],
selectAll:[Ac("CtrlOrCmd+A")],deleteSelectedElements:[Ac("Del")],duplicateSelection:[Ac("CtrlOrCmd+D"),Ac("Alt+".concat(jb("helpDialog.drag")))],sendBackward:[Ac("CtrlOrCmd+[")],bringForward:[Ac("CtrlOrCmd+]")],sendToBack:[Ac(ch?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Ac(ch?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Ac("Shift+Alt+C")],copyAsSvg:[],group:[Ac("CtrlOrCmd+G")],ungroup:[Ac("CtrlOrCmd+Shift+G")],gridMode:[Ac("CtrlOrCmd+'")],zenMode:[Ac("Alt+Z")],stats:[],addToLibrary:[],
viewMode:[Ac("Alt+R")]}),ln=function(d){var g,h=d.options,n=d.onCloseRequest,z=d.top,G=d.left,X=d.actionManager,S=d.appState;d=!(null===(g=document.querySelector(".excalidraw"))||void 0===g||!g.classList.contains("Appearance_dark"));return sa().createElement("div",{className:hc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},sa().createElement(Ja,{onCloseRequest:n,top:z,left:G,fitInViewport:!0},sa().createElement("ul",{className:"context-menu",onContextMenu:function(da){return da.preventDefault()}},
h.map(function(da,ua){var oa;if("separator"===da)return sa().createElement("hr",{key:ua,className:"context-menu-option-separator"});var Na,Sa=da.name,Ta=da.contextItemLabel?jb(da.contextItemLabel):"";return sa().createElement("li",{key:ua,"data-testid":Sa,onClick:n},sa().createElement("button",{className:hc("context-menu-option",{dangerous:"deleteSelectedElements"===Sa,checkmark:null===(oa=da.checked)||void 0===oa?void 0:oa.call(da,S)}),onClick:function(){return X.executeAction(da)}},sa().createElement("div",
{className:"context-menu-option__label"},Ta),sa().createElement("kbd",{className:"context-menu-option__shortcut"},Sa?(Na=tm[Sa])&&0<Na.length?Na[0]:"":"")))}))))},sm=function(){if(ym)return ym;var d=document.createElement("div");return document.body.appendChild(d),ym=d},ml=function(){(0,Gg.unmountComponentAtNode)(sm())};const Nl=function(d){var g=[];d.options.forEach(function(h){h&&g.push(h)});g.length&&(0,Gg.render)(sa().createElement(ln,{top:d.top,left:d.left,options:g,onCloseRequest:ml,actionManager:d.actionManager,
appState:d.appState}),sm())};m(1575);const Jj=function(d){var g=d.children,h=d.gap,n=d.align,z=d.justifyContent,G=d.className;d=d.style;return sa().createElement("div",{className:hc("Stack Stack_horizontal",G),style:Ya({"--gap":h,alignItems:n,justifyContent:z},d)},g)},Kj=function(d){var g=d.children,h=d.gap,n=d.align,z=d.justifyContent;d=d.className;return sa().createElement("div",{className:hc("Stack Stack_vertical",d),style:{"--gap":h,justifyItems:n,justifyContent:z}},g)};var Ln=function(d){var g=
d.appState,h=d.renderAction,n=d.elementType;d=bj(dd(d.elements),g);g=!!g.editingElement;var z=rf(),G="rtl"===document.documentElement.getAttribute("dir"),X=Hi(n)||d.some(function(da){return Hi(da.type)&&(ua=da.backgroundColor,oa=5===ua.length&&"0"===ua.substr(4,1),Na=9===ua.length&&"00"===ua.substr(7,2),!(oa||Na||ua===Hh.elementBackground[0]));var ua,oa,Na}),S=Hi(n)||d.some(function(da){return Hi(da.type)});return sa().createElement("div",{className:"panelColumn"},h("changeStrokeColor"),S&&h("changeBackgroundColor"),
X&&h("changeFillStyle"),(Mi(n)||d.some(function(da){return Mi(da.type)}))&&sa().createElement(sa().Fragment,null,h("changeStrokeWidth"),h("changeStrokeStyle"),h("changeSloppiness")),(Ni(n)||d.some(function(da){return Ni(da.type)}))&&sa().createElement(sa().Fragment,null,h("changeSharpness")),("text"===n||d.some(function(da){return"text"===da.type}))&&sa().createElement(sa().Fragment,null,h("changeFontSize"),h("changeFontFamily"),h("changeTextAlign")),("arrow"===n||d.some(function(da){return"arrow"===
da.type}))&&sa().createElement(sa().Fragment,null,h("changeArrowhead")),h("changeOpacity"),sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.layers")),sa().createElement("div",{className:"buttonList"},h("sendToBack"),h("sendBackward"),h("bringToFront"),h("bringForward"))),1<d.length&&sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.align")),sa().createElement("div",{className:"buttonList"},G?sa().createElement(sa().Fragment,null,h("alignRight"),
h("alignHorizontallyCentered"),h("alignLeft")):sa().createElement(sa().Fragment,null,h("alignLeft"),h("alignHorizontallyCentered"),h("alignRight")),2<d.length&&h("distributeHorizontally"),sa().createElement("div",{className:"iconRow"},h("alignTop"),h("alignVerticallyCentered"),h("alignBottom"),2<d.length&&h("distributeVertically")))),!z&&!g&&0<d.length&&sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.actions")),sa().createElement("div",{className:"buttonList"},h("duplicateSelection"),
h("deleteSelectedElements"),h("group"),h("ungroup"))))},eo=sa().createElement("svg",{viewBox:"0 0 512 512"},sa().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
kn=function(d){var g=d.canvas,h=d.elementType,n=d.setAppState,z=d.isLibraryOpen;return sa().createElement(sa().Fragment,null,Xk.map(function(G,X){var S=G.value,da=G.icon,ua=G.key;G=jb("toolBar.".concat(S));ua="".concat(Hg("string"==typeof ua?ua:ua[0])," ").concat(jb("helpDialog.or")," ").concat(X+1);return sa().createElement(Hd,{className:"Shape",key:S,type:"radio",icon:da,checked:h===S,name:"editor-current-shape",title:"".concat(Hg(G)," — ").concat(ua),keyBindingLabel:"".concat(X+1),"aria-label":Hg(G),
"aria-keyshortcuts":ua,"data-testid":S,onChange:function(){n({elementType:S,multiElement:null,selectedElementIds:{}});Ig(g,S);n({})}})}),sa().createElement(Hd,{className:"Shape ToolIcon_type_button__library",type:"button",icon:eo,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(Hg(jb("toolBar.library"))," — 9"),"aria-label":Hg(jb("toolBar.library")),onClick:function(){n({isLibraryOpen:!z})}}))},co=function(d){var g=d.renderAction;d=d.zoom;return sa().createElement(Kj,
{gap:1},sa().createElement(Jj,{gap:1,align:"center"},g("zoomIn"),g("zoomOut"),g("resetZoom"),sa().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Kn=function(d){var g=d.appState,h=d.setAppState;d=d.actionManager;return sa().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),sa().createElement("div",{style:{marginInlineStart:"0.25rem"}},sa().createElement(Ij,{value:g.appearance,onChange:function(n){h({appearance:n})}})))};m(3211);
const Mn=function(d){var g=d.isCollaborating,h=d.collaboratorCount;d=d.onClick;return sa().createElement(sa().Fragment,null,sa().createElement(Hd,{className:hc("CollabButton",{"is-collaborating":g}),onClick:d,icon:bd,type:"button",title:jb("labels.liveCollaboration"),"aria-label":jb("labels.liveCollaboration"),showAriaLabel:rf()},0<h&&sa().createElement("div",{className:"CollabButton-collaborators"},h)))};m(3040);m(7428);var Mj=sa().forwardRef(function(d,g){var h=d.children,n=d.padding,z=d.className;
d=d.style;return sa().createElement("div",{className:hc("Island",z),style:Rd({"--padding":n},d),ref:g},h)}),fo=(m(205),function(d){var g=Um();return g?(0,Gg.createPortal)(sa().createElement("div",{className:hc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(h){"Escape"===h.key&&(h.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},sa().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),sa().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),g):null}),Um=function(){var d=(0,Kd.useState)(null),g=d[0],h=d[1];return(0,Kd.useLayoutEffect)(function(){var n,z=!(null===(n=document.querySelector(".excalidraw"))||void 0===n||!n.classList.contains("Appearance_dark")),G=document.createElement("div");return G.classList.add("excalidraw","excalidraw-modal-container"),z&&(G.classList.add("Appearance_dark"),G.classList.add("Appearance_dark-background-none")),document.body.appendChild(G),
h(G),function(){document.body.removeChild(G)}},[]),g},k=function(d){var g=function(){var z=(0,Kd.useState)(null),G=z[1];return[z[0],(0,Kd.useCallback)(function(X){return G(X)},[])]}(),h=g[0];g=g[1];(0,Kd.useEffect)(function(){if(h){var z=n(h);0<z.length&&!1!==d.autofocus&&(z[1]||z[0]).focus();var G=function(X){if("Tab"===X.key){var S=n(h),da=document.activeElement,ua=S.findIndex(function(oa){return oa===da});0===ua&&X.shiftKey?(S[S.length-1].focus(),X.preventDefault()):ua!==S.length-1||X.shiftKey||
(S[0].focus(),X.preventDefault())}};return h.addEventListener("keydown",G),function(){return h.removeEventListener("keydown",G)}}},[h,d.autofocus]);var n=function(z){return(z=z.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(z):[]};return sa().createElement(fo,{className:hc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},sa().createElement(Mj,{ref:g},sa().createElement("h2",{id:"dialog-title",className:"Dialog__title"},
sa().createElement("span",{className:"Dialog__titleContent"},d.title),sa().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":jb("buttons.close")},rf()?Og:xj)),sa().createElement("div",{className:"Dialog__content"},d.children)))},t=function(d){var g=d.message,h=d.onClose,n=(0,Kd.useState)(!!g);d=n[0];var z=n[1];n=sa().useCallback(function(){z(!1);h&&h()},[h]);return sa().createElement(sa().Fragment,null,d&&sa().createElement(k,{small:!0,onCloseRequest:n,title:jb("errorDialog.title")},
sa().createElement("div",null,g.split("\n").map(function(G){return sa().createElement(sa().Fragment,null,G,sa().createElement("br",null))}))))},K=(m(8623),[1,2,3]),na=K.includes(devicePixelRatio)?devicePixelRatio:1,Ba="filter"in document.createElement("canvas").getContext("2d"),Ua=function(){return sa().createElement("div",null,sa().createElement("h3",null,jb("canvasError.cannotShowPreview")),sa().createElement("p",null,sa().createElement("span",null,jb("canvasError.canvasTooBig"))),sa().createElement("em",
null,"(",jb("canvasError.canvasTooBigTip"),")"))},ab=function(d,g){(0,Gg.unmountComponentAtNode)(g);g.innerHTML="";d instanceof HTMLCanvasElement?g.appendChild(d):(0,Gg.render)(sa().createElement(Ua,null),g)},kb=function(d){var g=d.elements,h=d.appState,n=d.exportPadding,z=void 0===n?10:n;n=d.actionManager;var G=d.onExportToPng,X=d.onExportToSvg,S=d.onExportToClipboard,da=d.onExportToBackend,ua=wf(g,h);d=(0,Kd.useState)(na);var oa=d[0],Na=d[1];d=(0,Kd.useState)(ua);var Sa=d[0],Ta=d[1],hb=(0,Kd.useRef)(null),
fb=h.exportBackground,Eb=h.viewBackgroundColor,kc=h.shouldAddWatermark,mc=Sa?Ee(g,h):g;return(0,Kd.useEffect)(function(){Ta(ua)},[ua]),(0,Kd.useEffect)(function(){var xc=hb.current;if(xc)try{var rd=cm(mc,h,{exportBackground:fb,viewBackgroundColor:Eb,exportPadding:z,scale:oa,shouldAddWatermark:kc});hl(rd).then(function(){ab(rd,xc)}).catch(function(pd){console.error(pd);ab(new Ol,xc)})}catch(pd){console.error(pd),ab(new Ol,xc)}},[h,mc,fb,z,Eb,oa,kc]),sa().createElement("div",{className:"ExportDialog"},
sa().createElement("div",{className:"ExportDialog__preview",ref:hb}),Ba&&n.renderAction("exportWithDarkMode"),sa().createElement(Kj,{gap:2,align:"center"},sa().createElement("div",{className:"ExportDialog__actions"},sa().createElement(Jj,{gap:2},sa().createElement(Hd,{type:"button",label:"PNG",title:jb("buttons.exportToPng"),"aria-label":jb("buttons.exportToPng"),onClick:function(){return G(mc,oa)}}),sa().createElement(Hd,{type:"button",label:"SVG",title:jb("buttons.exportToSvg"),"aria-label":jb("buttons.exportToSvg"),
onClick:function(){return X(mc,oa)}}),q&&sa().createElement(Hd,{type:"button",icon:wj,title:jb("buttons.copyPngToClipboard"),"aria-label":jb("buttons.copyPngToClipboard"),onClick:function(){return S(mc,oa)}}),da&&sa().createElement(Hd,{type:"button",icon:ei,title:jb("buttons.getShareableLink"),"aria-label":jb("buttons.getShareableLink"),onClick:function(){return da(mc)}})),sa().createElement("div",{className:"ExportDialog__name"},n.renderAction("changeProjectName")),sa().createElement(Jj,{gap:2},
K.map(function(xc){var rd=function(Fd,yd,Pd,Bc){Fd=rm(Fd,Pd);yd=Gl(Fd,yd,Pd).map(function(Vc){return Math.trunc(Vc*Bc)});return[yd[2],yd[3]]}(mc,z,kc,xc),pd=rd[0];rd=rd[1];pd="".concat(jb("buttons.scale")," ").concat(xc,"x (").concat(pd,"x").concat(rd,")");return sa().createElement(Hd,{key:xc,size:"s",type:"radio",icon:"".concat(xc,"x"),name:"export-canvas-scale",title:pd,"aria-label":pd,id:"export-canvas-scale",checked:xc===oa,onChange:function(){return Na(xc)}})}))),n.renderAction("changeExportBackground"),
ua&&sa().createElement("div",null,sa().createElement("label",null,sa().createElement("input",{type:"checkbox",checked:Sa,onChange:function(xc){return Ta(xc.currentTarget.checked)}})," ",jb("labels.onlySelected"))),n.renderAction("changeExportEmbedScene"),n.renderAction("changeShouldAddWatermark")))},Cb=function(d){var g=d.elements,h=d.appState,n=d.exportPadding;n=void 0===n?10:n;var z=d.actionManager,G=d.onExportToPng,X=d.onExportToSvg,S=d.onExportToClipboard;d=d.onExportToBackend;var da=(0,Kd.useState)(!1),
ua=da[0],oa=da[1],Na=(0,Kd.useRef)(null);da=sa().useCallback(function(){var Sa;oa(!1);null===(Sa=Na.current)||void 0===Sa||Sa.focus()},[]);return sa().createElement(sa().Fragment,null,sa().createElement(Hd,{onClick:function(){oa(!0)},icon:Cc,type:"button","aria-label":jb("buttons.export"),showAriaLabel:rf(),title:jb("buttons.export"),ref:Na}),ua&&sa().createElement(k,{onCloseRequest:da,title:jb("buttons.export")},sa().createElement(kb,{elements:g,appState:h,exportPadding:n,actionManager:z,onExportToPng:G,
onExportToSvg:X,onExportToClipboard:S,onExportToBackend:d,onCloseRequest:da})))},gc=(m(4193),function(d){var g=d.children,h=d.side;d=d.className;return sa().createElement("div",{className:hc("FixedSideContainer","FixedSideContainer_side_".concat(h),d)},g)}),gd=sa().memo(function(d){d=d.appearance;return sa().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},sa().createElement("a",{href:"https://github.com/excalidraw/excalidraw",
target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},sa().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?jd.MA[6]:jd.MA[8]}),sa().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?jd.ix:jd.Sn}),sa().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?jd.ix:jd.Sn})))}),je=(m(9705),function(d){return(d=function(g){var h=g.appState,n=g.elements,z=h.elementType;g=h.isResizing;var G=h.isRotating,X=h.lastPointerDownWith,S=null!==h.multiElement;if("arrow"===z||"line"===z)return jb(S?"hints.linearElementMulti":"hints.linearElement");if("draw"===z)return jb("hints.freeDraw");if("text"===z)return jb("hints.text");n=Ee(n,h);return g&&"mouse"===X&&1===n.length?(h=n[0],Md(h)&&2===h.points.length?jb("hints.lockAngle"):jb("hints.resize")):G&&
"mouse"===X?jb("hints.rotate"):1===n.length&&Md(n[0])?h.editingLinearElement?h.editingLinearElement.activePointIndex?jb("hints.lineEditor_pointSelected"):jb("hints.lineEditor_nothingSelected"):jb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=Ac(d),sa().createElement("div",{className:"HintViewer"},sa().createElement("span",null,d))):null}),Fc=(m(8465),m(8680),sa().createElement("svg",{viewBox:"0 0 1792 1792"},sa().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
Bd=function(d){var g=d.elements,h=d.pendingElements,n=d.onRemoveFromLibrary;d=d.onClick;var z=(0,Kd.useRef)(null);(0,Kd.useEffect)(function(){var ua=g||h;if(ua){var oa=Bk(ua,{exportBackground:!1,viewBackgroundColor:jd.ix,shouldAddWatermark:!1});ua=0;for(var Na=z.current.children;ua<Na.length;ua++){var Sa=Na[ua];"svg"===Sa.tagName&&z.current.removeChild(Sa)}z.current.appendChild(oa);var Ta=z.current;return function(){Ta.removeChild(oa)}}},[g,h]);var G=(0,Kd.useState)(!1),X=G[0],S=G[1];G=rf();var da=
(X||G)&&h&&sa().createElement("div",{className:"library-unit__adder"},Fc);return sa().createElement("div",{className:hc("library-unit",{"library-unit__active":g||h}),onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)}},sa().createElement("div",{className:hc("library-unit__dragger",{"library-unit__pulse":!!h}),ref:z,draggable:!!g,onClick:g||h?d:void 0,onDragStart:function(ua){S(!1);ua.dataTransfer.setData(Sb.LO.excalidrawlib,JSON.stringify(g))}}),da,g&&(X||G)&&sa().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":jb("labels.removeFromLibrary"),onClick:n},xj))},ke=sa().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},sa().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),Zd=sa().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},sa().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Rb=function(d){return sa().createElement("label",{className:hc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},sa().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),sa().createElement("div",{className:"ToolIcon__icon"},d.checked?ke:Zd))},Gb=function(d){var g=d.heading,h=d.children;d=oi()(d,["heading","children"]);var n=sa().createElement("h2",{className:"visually-hidden",id:"".concat(g,
"-title")},jb("headings.".concat(g)));return sa().createElement("section",Jc()({},d,{"aria-labelledby":"".concat(g,"-title")}),"function"==typeof h?h(n):sa().createElement(sa().Fragment,null,n,h))},Nb=(m(3142),function(d){var g=d.children,h=d.className;d=d.mobile;return sa().createElement("div",{className:hc("UserList",h,{UserList_mobile:d})},g)}),wc=function(d){var g=d.appState,h=d.elements,n=d.libraryMenu,z=d.actionManager,G=d.exportButton,X=d.setAppState,S=d.onCollabButtonClick,da=d.onLockToggle,
ua=d.canvas,oa=d.isCollaborating,Na=d.renderCustomFooter;d=d.viewModeEnabled;return sa().createElement(sa().Fragment,null,!d&&sa().createElement(gc,{side:"top",className:"App-top-bar"},sa().createElement(Gb,{heading:"shapes"},function(Sa){return sa().createElement(Kj,{gap:4,align:"center"},sa().createElement(Jj,{gap:1},sa().createElement(Mj,{padding:1},Sa,sa().createElement(Jj,{gap:1},sa().createElement(kn,{canvas:ua,elementType:g.elementType,setAppState:X,isLibraryOpen:g.isLibraryOpen}))),sa().createElement(Rb,
{checked:g.elementLocked,onChange:da,title:jb("toolBar.lock")})),n)}),sa().createElement(je,{appState:g,elements:h})),sa().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},sa().createElement(Mj,{padding:0},"canvas"===g.openMenu?sa().createElement(Gb,{className:"App-mobile-menu",heading:"canvasActions"},sa().createElement("div",{className:"panelColumn"},sa().createElement(Kj,{gap:4},d?sa().createElement(sa().Fragment,null,z.renderAction("saveScene"),
z.renderAction("saveAsScene"),G):sa().createElement(sa().Fragment,null,z.renderAction("loadScene"),z.renderAction("saveScene"),z.renderAction("saveAsScene"),G,z.renderAction("clearCanvas"),S&&sa().createElement(Mn,{isCollaborating:oa,collaboratorCount:g.collaborators.size,onClick:S}),sa().createElement(Kn,{actionManager:z,appState:g,setAppState:X})),null==Na?void 0:Na(!0),0<g.collaborators.size&&sa().createElement("fieldset",null,sa().createElement("legend",null,jb("labels.collaborators")),sa().createElement(Nb,
{mobile:!0},Array.from(g.collaborators).filter(function(Sa){Sa[0];return 0!==Object.keys(Sa[1]).length}).map(function(Sa){var Ta=Sa[0];Sa[1];return sa().createElement(sa().Fragment,{key:Ta},z.renderAction("goToCollaborator",Ta))})))))):"shape"===g.openMenu&&!d&&vk(g,h)?sa().createElement(Gb,{className:"App-mobile-menu",heading:"selectedShapeActions"},sa().createElement(Ln,{appState:g,elements:h,renderAction:z.renderAction,elementType:g.elementType})):null,sa().createElement("footer",{className:"App-toolbar"},
d?sa().createElement("div",{className:"App-toolbar-content"},z.renderAction("toggleCanvasMenu")):sa().createElement("div",{className:"App-toolbar-content"},z.renderAction("toggleCanvasMenu"),z.renderAction("toggleEditMenu"),z.renderAction("undo"),z.renderAction("redo"),z.renderAction(g.multiElement?"finalize":"duplicateSelection"),z.renderAction("deleteSelectedElements")),g.scrolledOutside&&!g.openMenu&&sa().createElement("button",{className:"scroll-back-to-content",onClick:function(){X(function(Sa){for(var Ta=
1;Ta<arguments.length;Ta++){var hb=null!=arguments[Ta]?arguments[Ta]:{};Ta%2?ld(Object(hb),!0).forEach(function(fb){ce()(Sa,fb,hb[fb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sa,Object.getOwnPropertyDescriptors(hb)):ld(Object(hb)).forEach(function(fb){Object.defineProperty(Sa,fb,Object.getOwnPropertyDescriptor(hb,fb))})}return Sa}({},fe(h,g)))}},jb("buttons.scrollBackToContent"))))))},Dc=(m(8416),function(d){var g=(0,Kd.useRef)(null),h=(0,Kd.useState)(null),n=h[0],z=h[1];return(0,
Kd.useLayoutEffect)(function(){if(d.spreadsheet){var G=Km(d.chartType,d.spreadsheet,0,0);z(G);var X=Bk(G,{exportBackground:!1,viewBackgroundColor:jd.ix,shouldAddWatermark:!1}),S=g.current;return S.appendChild(X),d.selected&&S.parentNode.focus(),function(){S.removeChild(X)}}},[d.spreadsheet,d.chartType,d.selected]),sa().createElement("button",{className:"ChartPreview",onClick:function(){n&&d.onClick(d.chartType,n)}},sa().createElement("div",{ref:g}))}),we=function(d){var g=d.setAppState,h=d.appState,
n=d.onClose,z=d.onInsertChart;d=sa().useCallback(function(){n&&n()},[n]);var G=function(X,S){z(S);Wf("magic","chart",X);g({currentChartType:X,pasteDialog:{shown:!1,data:null}})};return sa().createElement(k,{small:!0,onCloseRequest:d,title:jb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},sa().createElement("div",{className:"container"},sa().createElement(Dc,{chartType:"bar",spreadsheet:h.pasteDialog.data,selected:"bar"===h.currentChartType,onClick:G}),sa().createElement(Dc,{chartType:"line",
spreadsheet:h.pasteDialog.data,selected:"line"===h.currentChartType,onClick:G})))},sd=(m(341),function(){return sa().createElement("div",{className:"HelpDialog--header"},sa().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},jb("helpDialog.documentation")),sa().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},jb("helpDialog.blog")),
sa().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},jb("helpDialog.github")))}),xe=function(d){return sa().createElement(sa().Fragment,null,sa().createElement("h3",null,d.title),d.children)},Xe=function(d){return sa().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Ce=function(d){return sa().createElement("div",{style:{width:"49%"}},
d.children)},Qk=function(d){return sa().createElement("div",{className:"HelpDialog--island"},sa().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},de=function(d){return sa().createElement("div",{className:"HelpDialog--shortcut"},sa().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},sa().createElement("div",{style:{lineHeight:1.4}},d.label),sa().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",
marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(g,h){return sa().createElement(sa().Fragment,{key:h},sa().createElement(Cp,null,g),d.isOr&&h!==d.shortcuts.length-1&&jb("helpDialog.or"))}))))};de.defaultProps={isOr:!0};var Cp=function(d){return sa().createElement("kbd",Jc()({className:"HelpDialog--key"},d))},Dp=function(d){var g=d.onClose;d=sa().useCallback(function(){g&&g()},[g]);return sa().createElement(sa().Fragment,null,sa().createElement(k,{onCloseRequest:d,title:jb("helpDialog.title"),
className:"HelpDialog"},sa().createElement(sd,null),sa().createElement(xe,{title:jb("helpDialog.shortcuts")},sa().createElement(Xe,null,sa().createElement(Ce,null,sa().createElement(Qk,{caption:jb("helpDialog.shapes")},sa().createElement(de,{label:jb("toolBar.selection"),shortcuts:["V","1"]}),sa().createElement(de,{label:jb("toolBar.rectangle"),shortcuts:["R","2"]}),sa().createElement(de,{label:jb("toolBar.diamond"),shortcuts:["D","3"]}),sa().createElement(de,{label:jb("toolBar.ellipse"),shortcuts:["E",
"4"]}),sa().createElement(de,{label:jb("toolBar.arrow"),shortcuts:["A","5"]}),sa().createElement(de,{label:jb("toolBar.line"),shortcuts:["P","6"]}),sa().createElement(de,{label:jb("toolBar.draw"),shortcuts:["Shift+P","7"]}),sa().createElement(de,{label:jb("toolBar.text"),shortcuts:["T","8"]}),sa().createElement(de,{label:jb("helpDialog.textNewLine"),shortcuts:[Ac("Enter"),Ac("Shift+Enter")]}),sa().createElement(de,{label:jb("helpDialog.textFinish"),shortcuts:[Ac("Esc"),Ac("CtrlOrCmd+Enter")]}),sa().createElement(de,
{label:jb("helpDialog.curvedArrow"),shortcuts:["A",jb("helpDialog.click"),jb("helpDialog.click"),jb("helpDialog.click")],isOr:!1}),sa().createElement(de,{label:jb("helpDialog.curvedLine"),shortcuts:["L",jb("helpDialog.click"),jb("helpDialog.click"),jb("helpDialog.click")],isOr:!1}),sa().createElement(de,{label:jb("toolBar.lock"),shortcuts:["Q"]}),sa().createElement(de,{label:jb("helpDialog.preventBinding"),shortcuts:[Ac("CtrlOrCmd")]})),sa().createElement(Qk,{caption:jb("helpDialog.view")},sa().createElement(de,
{label:jb("buttons.zoomIn"),shortcuts:[Ac("CtrlOrCmd++")]}),sa().createElement(de,{label:jb("buttons.zoomOut"),shortcuts:[Ac("CtrlOrCmd+-")]}),sa().createElement(de,{label:jb("buttons.resetZoom"),shortcuts:[Ac("CtrlOrCmd+0")]}),sa().createElement(de,{label:jb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),sa().createElement(de,{label:jb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),sa().createElement(de,{label:jb("buttons.fullScreen"),shortcuts:["F"]}),sa().createElement(de,{label:jb("buttons.zenMode"),
shortcuts:[Ac("Alt+Z")]}),sa().createElement(de,{label:jb("labels.showGrid"),shortcuts:[Ac("CtrlOrCmd+'")]}),sa().createElement(de,{label:jb("labels.viewMode"),shortcuts:[Ac("Alt+R")]}))),sa().createElement(Ce,null,sa().createElement(Qk,{caption:jb("helpDialog.editor")},sa().createElement(de,{label:jb("labels.selectAll"),shortcuts:[Ac("CtrlOrCmd+A")]}),sa().createElement(de,{label:jb("labels.multiSelect"),shortcuts:[Ac("Shift+".concat(jb("helpDialog.click")))]}),sa().createElement(de,{label:jb("labels.moveCanvas"),
shortcuts:[Ac("Space+".concat(jb("helpDialog.drag"))),Ac("Wheel+".concat(jb("helpDialog.drag")))],isOr:!0}),sa().createElement(de,{label:jb("labels.cut"),shortcuts:[Ac("CtrlOrCmd+X")]}),sa().createElement(de,{label:jb("labels.copy"),shortcuts:[Ac("CtrlOrCmd+C")]}),sa().createElement(de,{label:jb("labels.paste"),shortcuts:[Ac("CtrlOrCmd+V")]}),sa().createElement(de,{label:jb("labels.copyAsPng"),shortcuts:[Ac("Shift+Alt+C")]}),sa().createElement(de,{label:jb("labels.copyStyles"),shortcuts:[Ac("CtrlOrCmd+Alt+C")]}),
sa().createElement(de,{label:jb("labels.pasteStyles"),shortcuts:[Ac("CtrlOrCmd+Alt+V")]}),sa().createElement(de,{label:jb("labels.delete"),shortcuts:[Ac("Del")]}),sa().createElement(de,{label:jb("labels.sendToBack"),shortcuts:[Ac(ch?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),sa().createElement(de,{label:jb("labels.bringToFront"),shortcuts:[Ac(ch?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),sa().createElement(de,{label:jb("labels.sendBackward"),shortcuts:[Ac("CtrlOrCmd+[")]}),sa().createElement(de,{label:jb("labels.bringForward"),
shortcuts:[Ac("CtrlOrCmd+]")]}),sa().createElement(de,{label:jb("labels.alignTop"),shortcuts:[Ac("CtrlOrCmd+Shift+Up")]}),sa().createElement(de,{label:jb("labels.alignBottom"),shortcuts:[Ac("CtrlOrCmd+Shift+Down")]}),sa().createElement(de,{label:jb("labels.alignLeft"),shortcuts:[Ac("CtrlOrCmd+Shift+Left")]}),sa().createElement(de,{label:jb("labels.alignRight"),shortcuts:[Ac("CtrlOrCmd+Shift+Right")]}),sa().createElement(de,{label:jb("labels.duplicateSelection"),shortcuts:[Ac("CtrlOrCmd+D"),Ac("Alt+".concat(jb("helpDialog.drag")))]}),
sa().createElement(de,{label:jb("buttons.undo"),shortcuts:[Ac("CtrlOrCmd+Z")]}),sa().createElement(de,{label:jb("buttons.redo"),shortcuts:Ti?[Ac("CtrlOrCmd+Y"),Ac("CtrlOrCmd+Shift+Z")]:[Ac("CtrlOrCmd+Shift+Z")]}),sa().createElement(de,{label:jb("labels.group"),shortcuts:[Ac("CtrlOrCmd+G")]}),sa().createElement(de,{label:jb("labels.ungroup"),shortcuts:[Ac("CtrlOrCmd+Shift+G")]})))))))},ko=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");
for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<
G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Do=function(d,g){for(var h=0,n=g.length,z=d.length;h<
n;h++,z++)d[z]=g[h];return d},Ep=function(d){var g=d.library,h=d.onRemoveFromLibrary,n=d.onAddToLibrary,z=d.onInsertShape,G=d.pendingElements,X=d.setAppState,S=d.setLibraryItems;d=rf()?4:6;var da=Math.max(1,Math.ceil((g.length+(0<G.length?1:0))/d)),ua=[],oa=!1;ua.push(sa().createElement("div",{className:"layer-ui__library-header"},sa().createElement(Hd,{key:"import",type:"button",title:jb("buttons.load"),"aria-label":jb("buttons.load"),icon:cl,onClick:function(){Mm().then(function(){X({isLibraryOpen:!1})}).catch(Dj).catch(function(Eb){X({errorMessage:Eb.message})})}}),
sa().createElement(Hd,{key:"export",type:"button",title:jb("buttons.export"),"aria-label":jb("buttons.export"),icon:Cc,onClick:function(){Pk().catch(Dj).catch(function(Eb){X({errorMessage:Eb.message})})}}),sa().createElement(Hd,{key:"reset",type:"button",title:jb("buttons.resetLibrary"),"aria-label":jb("buttons.resetLibrary"),icon:uc,onClick:function(){window.confirm(jb("alerts.resetLibrary"))&&(zg.resetLibrary(),S([]))}}),sa().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
jb("labels.libraries"))));for(var Na=0;Na<da;Na++){for(var Sa=d*Na,Ta=[],hb=0;hb<d;hb++){var fb=0<G.length&&!oa&&Sa+hb>=g.length;oa=oa||fb;Ta.push(sa().createElement(Kj,{key:hb},sa().createElement(Bd,{elements:g[Sa+hb],pendingElements:fb?G:void 0,onRemoveFromLibrary:h.bind(null,Sa+hb),onClick:fb?n.bind(null,G):z.bind(null,g[Sa+hb])})))}ua.push(sa().createElement(Jj,{align:"center",gap:1,key:Na},Ta))}return sa().createElement(Kj,{align:"start",gap:1,className:"layer-ui__library-items"},ua)},Fp=function(d){var g=
d.onClickOutside,h=d.onInsertShape,n=d.pendingElements,z=d.onAddToLibrary;d=d.setAppState;var G=(0,Kd.useRef)(null);!function(Ta,hb){(0,Kd.useEffect)(function(){var fb=function(Eb){Ta.current&&(Eb.target instanceof Element&&(Ta.current.contains(Eb.target)||!document.body.contains(Eb.target))||hb(Eb))};return document.addEventListener("pointerdown",fb,!1),function(){document.removeEventListener("pointerdown",fb)}},[Ta,hb])}(G,function(Ta){Ta.target.closest(".ToolIcon_type_button__library")||g(Ta)});
var X=(0,Kd.useState)([]),S=X[0],da=X[1],ua=(0,Kd.useState)("preloading");X=ua[0];var oa=ua[1],Na=(0,Kd.useRef)(null);(0,Kd.useEffect)(function(){return Promise.race([new Promise(function(Ta){Na.current=setTimeout(function(){Ta("loading")},100)}),zg.loadLibrary().then(function(Ta){da(Ta);oa("ready")})]).then(function(Ta){"loading"===Ta&&oa("loading")}),function(){clearTimeout(Na.current)}},[]);ua=(0,Kd.useCallback)(function(){var Ta=nd()(function(hb){var fb,Eb;return ko(this,function(kc){switch(kc.label){case 0:return[4,
zg.loadLibrary()];case 1:return fb=kc.sent(),Eb=fb.filter(function(mc,xc){return xc!==hb}),zg.saveLibrary(Eb),da(Eb),[2]}})});return function(hb){return Ta.apply(this,arguments)}}(),[]);var Sa=(0,Kd.useCallback)(function(){var Ta=nd()(function(hb){var fb,Eb;return ko(this,function(kc){switch(kc.label){case 0:return[4,zg.loadLibrary()];case 1:return fb=kc.sent(),Eb=Do(Do([],fb),[hb]),z(),zg.saveLibrary(Eb),da(Eb),[2]}})});return function(hb){return Ta.apply(this,arguments)}}(),[z]);return"preloading"===
X?null:sa().createElement(Mj,{padding:1,ref:G,className:"layer-ui__library"},"loading"===X?sa().createElement("div",{className:"layer-ui__library-message"},jb("labels.libraryLoadingMessage")):sa().createElement(Ep,{library:S,onRemoveFromLibrary:ua,onAddToLibrary:Sa,onInsertShape:h,pendingElements:n,setAppState:d,setLibraryItems:da}))};const Gp=sa().memo(function(d){var g,h=d.actionManager,n=d.appState,z=d.setAppState,G=d.canvas,X=d.elements,S=d.onCollabButtonClick,da=d.onLockToggle,ua=d.onInsertElements,
oa=d.zenModeEnabled,Na=d.showExitZenModeBtn,Sa=d.toggleZenMode,Ta=d.isCollaborating,hb=d.onExportToBackend,fb=d.renderCustomFooter;d=d.viewModeEnabled;var Eb=rf(),kc=function(){var pd=function(Fd){return function(){var yd=nd()(function(Pd,Bc){return ko(this,function(Vc){switch(Vc.label){case 0:return G?[4,cc(Fd,Pd,n,G,{exportBackground:n.exportBackground,name:n.name,viewBackgroundColor:n.viewBackgroundColor,scale:Bc,shouldAddWatermark:n.shouldAddWatermark}).catch(Dj).catch(function(ad){console.error(ad);
z({errorMessage:ad.message})})]:[3,2];case 1:Vc.sent(),Vc.label=2;case 2:return[2]}})});return function(Pd,Bc){return yd.apply(this,arguments)}}()};return sa().createElement(Cb,{elements:X,appState:n,actionManager:h,onExportToPng:pd("png"),onExportToSvg:pd("svg"),onExportToClipboard:pd("clipboard"),onExportToBackend:hb?function(Fd){hb&&hb(Fd,n,G)}:void 0})},mc=(0,Kd.useCallback)(function(pd){z({isLibraryOpen:!1})},[z]),xc=(0,Kd.useCallback)(function(){z({selectedElementIds:{},selectedGroupIds:{}})},
[z]),rd=n.isLibraryOpen?sa().createElement(Fp,{pendingElements:Ee(X,n),onClickOutside:mc,onInsertShape:ua,onAddToLibrary:xc,setAppState:z}):null;ua=sa().createElement(sa().Fragment,null,n.isLoading&&sa().createElement(Je,null),n.errorMessage&&sa().createElement(t,{message:n.errorMessage,onClose:function(){return z({errorMessage:null})}}),n.showHelpDialog&&sa().createElement(Dp,{onClose:function(){return z({showHelpDialog:!1})}}),n.pasteDialog.shown&&sa().createElement(we,{setAppState:z,appState:n,
onInsertChart:ua,onClose:function(){return z({pasteDialog:{shown:!1,data:null}})}}));return Eb?sa().createElement(sa().Fragment,null,ua,sa().createElement(wc,{appState:n,elements:X,actionManager:h,libraryMenu:rd,exportButton:kc(),setAppState:z,onCollabButtonClick:S,onLockToggle:da,canvas:G,isCollaborating:Ta,renderCustomFooter:fb,viewModeEnabled:d})):sa().createElement("div",{className:hc("layer-ui__wrapper",{"disable-pointerEvents":n.draggingElement||n.resizingElement||n.editingElement&&!lf(n.editingElement)})},
ua,(g=vk(n,X),sa().createElement(gc,{side:"top"},sa().createElement("div",{className:"App-menu App-menu_top"},sa().createElement(Kj,{gap:4,className:hc({"disable-pointerEvents":oa})},d?sa().createElement(Gb,{heading:"canvasActions",className:hc("zen-mode-transition",{"transition-left":oa})},sa().createElement(Mj,{padding:2,style:{zIndex:1}},sa().createElement(Kj,{gap:4},sa().createElement(Jj,{gap:1,justifyContent:"space-between"},h.renderAction("saveScene"),h.renderAction("saveAsScene"),kc())))):
sa().createElement(Gb,{heading:"canvasActions",className:hc("zen-mode-transition",{"transition-left":oa})},sa().createElement(Mj,{padding:2,style:{zIndex:1}},sa().createElement(Kj,{gap:4},sa().createElement(Jj,{gap:1,justifyContent:"space-between"},h.renderAction("loadScene"),h.renderAction("saveScene"),h.renderAction("saveAsScene"),kc(),h.renderAction("clearCanvas"),S&&sa().createElement(Mn,{isCollaborating:Ta,collaboratorCount:n.collaborators.size,onClick:S})),sa().createElement(Kn,{actionManager:h,
appState:n,setAppState:z})))),g&&sa().createElement(Gb,{heading:"selectedShapeActions",className:hc("zen-mode-transition",{"transition-left":oa})},sa().createElement(Mj,{className:Sb.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(n.height-200,"px")}},sa().createElement(Ln,{appState:n,elements:X,renderAction:h.renderAction,elementType:n.elementType})))),!d&&sa().createElement(Gb,{heading:"shapes"},function(pd){return sa().createElement(Kj,{gap:4,align:"start"},sa().createElement(Jj,{gap:1},
sa().createElement(Mj,{padding:1,className:hc({"zen-mode":oa})},sa().createElement(je,{appState:n,elements:X}),pd,sa().createElement(Jj,{gap:1},sa().createElement(kn,{canvas:G,elementType:n.elementType,setAppState:z,isLibraryOpen:n.isLibraryOpen}))),sa().createElement(Rb,{zenModeEnabled:oa,checked:n.elementLocked,onChange:da,title:jb("toolBar.lock")})),rd)}),sa().createElement(Nb,{className:hc("zen-mode-transition",{"transition-right":oa})},0<n.collaborators.size&&Array.from(n.collaborators).filter(function(pd){pd[0];
return 0!==Object.keys(pd[1]).length}).map(function(pd){var Fd=pd[0];pd=pd[1];return sa().createElement(yj,{label:pd.username||"Unknown user",key:Fd},h.renderAction("goToCollaborator",Fd))}))))),sa().createElement("div",{className:hc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":oa})},sa().createElement(Kj,{gap:2},sa().createElement(Gb,{heading:"canvasActions"},sa().createElement(Mj,{padding:1},sa().createElement(co,{renderAction:h.renderAction,zoom:n.zoom})),
sa().createElement("a",{className:hc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":oa}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},sa().createElement(yj,{label:jb("encrypted.tooltip"),position:"above",long:!0},Wc))))),sa().createElement("aside",{className:hc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":oa})},sa().createElement(gd,{appearance:n.appearance})),sa().createElement("footer",
{role:"contentinfo",className:"layer-ui__wrapper__footer"},sa().createElement("div",{className:hc("zen-mode-transition",{"transition-right disable-pointerEvents":oa})},null==fb?void 0:fb(!1),h.renderAction("toggleShortcuts")),sa().createElement("button",{className:hc("disable-zen-mode",{"disable-zen-mode--visible":Na}),onClick:Sa},jb("buttons.exitZenMode"))),n.scrolledOutside&&sa().createElement("button",{className:"scroll-back-to-content",onClick:function(){z(function(pd){for(var Fd=1;Fd<arguments.length;Fd++){var yd=
null!=arguments[Fd]?arguments[Fd]:{};Fd%2?ih(Object(yd),!0).forEach(function(Pd){ce()(pd,Pd,yd[Pd])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pd,Object.getOwnPropertyDescriptors(yd)):ih(Object(yd)).forEach(function(Pd){Object.defineProperty(pd,Pd,Object.getOwnPropertyDescriptor(yd,Pd))})}return pd}({},fe(X,n)))}},jb("buttons.scrollBackToContent")))},function(d,g){var h=function(G){G.suggestedBindings;G.startBoundElement;return oi()(G,["suggestedBindings","startBoundElement"])},n=
h(d.appState),z=h(g.appState);h=Object.keys(n);return d.renderCustomFooter===g.renderCustomFooter&&d.langCode===g.langCode&&d.elements===g.elements&&h.every(function(G){return n[G]===z[G]})});var Eo=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(g){return console.error(g),0}},Hp=(m(7287),function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?
z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&
S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X}),Fo=Kf(function(d){var g=Eo();try{var h=localStorage.getItem("excalidraw-state"),
n=localStorage.getItem("excalidraw-collab"),z=localStorage.getItem(Sb.I.LOCAL_STORAGE_LIBRARY);var G=(h?JSON.stringify(h).length:0)+(n?JSON.stringify(n).length:0)+(z?JSON.stringify(z).length:0)+Eo()}catch(X){G=(console.error(X),0)}d({scene:g,total:G})},500),Ip=function(d){var g=rf(),h=(0,Kd.useState)({scene:0,total:0}),n=h[0],z=h[1];(0,Kd.useEffect)(function(){Fo(function(ua){z(ua)})});(0,Kd.useEffect)(function(){return function(){return Fo.cancel()}},[]);h=Zc(d.elements);var G=bj(d.elements,d.appState),
X=Zc(G);if(g&&d.appState.openMenu)return null;var S,da;g=Kl();return g!==Sb.eQ?(da=g.slice(0,16).replace("T"," "),S=g.slice(21)):da=jb("stats.versionNotAvailable"),sa().createElement("div",{className:"Stats"},sa().createElement(Mj,{padding:2},sa().createElement("div",{className:"close",onClick:d.onClose},xj),sa().createElement("h3",null,jb("stats.title")),sa().createElement("table",null,sa().createElement("tbody",null,sa().createElement("tr",null,sa().createElement("th",{colSpan:2},jb("stats.scene"))),
sa().createElement("tr",null,sa().createElement("td",null,jb("stats.elements")),sa().createElement("td",null,d.elements.length)),sa().createElement("tr",null,sa().createElement("td",null,jb("stats.width")),sa().createElement("td",null,Math.round(h[2])-Math.round(h[0]))),sa().createElement("tr",null,sa().createElement("td",null,jb("stats.height")),sa().createElement("td",null,Math.round(h[3])-Math.round(h[1]))),sa().createElement("tr",null,sa().createElement("th",{colSpan:2},jb("stats.storage"))),
sa().createElement("tr",null,sa().createElement("td",null,jb("stats.scene")),sa().createElement("td",null,Jg(n.scene,1))),sa().createElement("tr",null,sa().createElement("td",null,jb("stats.total")),sa().createElement("td",null,Jg(n.total,1))),1===G.length&&sa().createElement("tr",null,sa().createElement("th",{colSpan:2},jb("stats.element"))),1<G.length&&sa().createElement(sa().Fragment,null,sa().createElement("tr",null,sa().createElement("th",{colSpan:2},jb("stats.selected"))),sa().createElement("tr",
null,sa().createElement("td",null,jb("stats.elements")),sa().createElement("td",null,G.length))),0<G.length&&sa().createElement(sa().Fragment,null,sa().createElement("tr",null,sa().createElement("td",null,"x"),sa().createElement("td",null,Math.round(1===G.length?G[0].x:X[0]))),sa().createElement("tr",null,sa().createElement("td",null,"y"),sa().createElement("td",null,Math.round(1===G.length?G[0].y:X[1]))),sa().createElement("tr",null,sa().createElement("td",null,jb("stats.width")),sa().createElement("td",
null,Math.round(1===G.length?G[0].width:X[2]-X[0]))),sa().createElement("tr",null,sa().createElement("td",null,jb("stats.height")),sa().createElement("td",null,Math.round(1===G.length?G[0].height:X[3]-X[1])))),1===G.length&&sa().createElement("tr",null,sa().createElement("td",null,jb("stats.angle")),sa().createElement("td",null,"".concat(Math.round(180*G[0].angle/Math.PI),"°"))),sa().createElement("tr",null,sa().createElement("th",{colSpan:2},jb("stats.version"))),sa().createElement("tr",null,sa().createElement("td",
{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:nd()(function(){return Hp(this,function(ua){switch(ua.label){case 0:return ua.trys.push([0,2,,3]),[4,yb(Kl())];case 1:return ua.sent(),d.setAppState({toastMessage:jb("toast.copyToClipboard")}),[3,3];case 2:return ua.sent(),[3,3];case 3:return[2]}})}),title:jb("stats.versionCopy")},da,sa().createElement("br",null),S))))))},Jp=(m(5849),function(d){var g=d.message,h=d.clearToast,n=(0,Kd.useRef)(0),z=(0,Kd.useCallback)(function(){return n.current=
window.setTimeout(function(){return h()},Sb.Lg)},[h]);return(0,Kd.useEffect)(function(){return z(),function(){return clearTimeout(n.current)}},[z,g]),sa().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==n?void 0:n.current)},onMouseLeave:z},sa().createElement("p",{className:"Toast__message"},g))}),Go=cd({name:"viewMode",perform:function(d,g){return Wf("view","mode","view"),{appState:jh(jh({},g),{},{viewModeEnabled:!this.checked(g),selectedElementIds:{}}),commitToHistory:!1}},
checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[Id]&&d.altKey&&"KeyR"===d.code}}),Bp=function(){var d=function(g,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,z){n.__proto__=z}||function(n,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(n[G]=z[G])})(g,h)};return function(g,h){function n(){this.constructor=g}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+
" is not a constructor or null");d(g,h);g.prototype=null===h?Object.create(h):(n.prototype=h.prototype,new n)}}(),zm=function(d,g){function h(da){return function(ua){return function(oa){if(n)throw new TypeError("Generator is already executing.");for(;S;)try{if(n=1,z&&(G=2&oa[0]?z.return:oa[0]?z.throw||((G=z.return)&&G.call(z),0):z.next)&&!(G=G.call(z,oa[1])).done)return G;switch(z=0,G&&(oa=[2&oa[0],G.value]),oa[0]){case 0:case 1:G=oa;break;case 4:return S.label++,{value:oa[1],done:!1};case 5:S.label++;
z=oa[1];oa=[0];continue;case 7:oa=S.ops.pop();S.trys.pop();continue;default:if(!(G=S.trys,(G=0<G.length&&G[G.length-1])||6!==oa[0]&&2!==oa[0])){S=0;continue}if(3===oa[0]&&(!G||oa[1]>G[0]&&oa[1]<G[3]))S.label=oa[1];else if(6===oa[0]&&S.label<G[1])S.label=G[1],G=oa;else if(G&&S.label<G[2])S.label=G[2],S.ops.push(oa);else{G[2]&&S.ops.pop();S.trys.pop();continue}}oa=g.call(d,S)}catch(Na){oa=[6,Na],z=0}finally{n=G=0}if(5&oa[0])throw oa[1];return{value:oa[0]?oa[1]:void 0,done:!0}}([da,ua])}}var n,z,G,X,
S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return X={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(X[Symbol.iterator]=function(){return this}),X},Yf=function(d,g){for(var h=0,n=g.length,z=d.length;h<n;h++,z++)d[z]=g[h];return d},dj=new qn,rn=!1,ho=0,Vm=0,Wm=0,Am=!1,sn=!1,io=!1,jo={horizontal:null,vertical:null},im=0,tn=!1,jm=null,fk=new Map,Xm=null,Pn=null,Ym=null,lo=function(d){function g(h){var n=this;var z=n=d.call(this,h)||this;Kp.call(n);var G,
X,S,da=oj(),ua=h.width,oa=void 0===ua?window.innerWidth:ua;ua=h.height;var Na=void 0===ua?window.innerHeight:ua,Sa=h.offsetLeft,Ta=h.offsetTop;ua=h.excalidrawRef;var hb=h.viewModeEnabled;hb=void 0!==hb&&hb;var fb=h.zenModeEnabled;fb=void 0!==fb&&fb;h=h.gridModeEnabled;h=void 0!==h&&h;if(n.state=Oc(Oc(Oc({},da),{},{isLoading:!0,width:oa,height:Na},n.getCanvasOffsets({offsetLeft:Sa,offsetTop:Ta})),{},{viewModeEnabled:hb,zenModeEnabled:fb,gridSize:h?Sb.k:null}),ua){var Eb;da="current"in ua&&(null===
(Eb=ua.current)||void 0===Eb?void 0:Eb.readyPromise)||((S=new Promise(function(kc,mc){G=kc;X=mc})).resolve=G,S.reject=X,S);S={ready:!0,readyPromise:da,updateScene:n.updateScene,resetScene:n.resetScene,getSceneElementsIncludingDeleted:n.getSceneElementsIncludingDeleted,history:{clear:n.resetHistory},setScrollToCenter:n.setScrollToCenter,getSceneElements:n.getSceneElements,getAppState:function(){return z.state}};"function"==typeof ua?ua(S):ua.current=S;da.resolve(S)}return n.scene=new td,n.actionManager=
new Tk(n.syncActionResult,function(){return z.state},function(){return z.scene.getElementsIncludingDeleted()},n),n.actionManager.registerAll(Ed),n.actionManager.registerAction({name:"undo",perform:function(kc,mc){return Pm(kc,mc,function(){return dj.undoOnce()})},keyTest:function(kc){return kc[Id]&&"z"===kc.key.toLowerCase()&&!kc.shiftKey},PanelComponent:function(kc){kc=kc.updateData;return sa().createElement(Hd,{type:"button",icon:Xd,"aria-label":jb("buttons.undo"),onClick:kc})},commitToHistory:function(){return!1}}),
n.actionManager.registerAction(function(kc){return{name:"redo",perform:function(mc,xc){return Pm(mc,xc,function(){return kc.redoOnce()})},keyTest:function(mc){return mc[Id]&&mc.shiftKey&&"z"===mc.key.toLowerCase()||Ti&&mc.ctrlKey&&!mc.shiftKey&&"y"===mc.key},PanelComponent:function(mc){mc=mc.updateData;return sa().createElement(Hd,{type:"button",icon:rh,"aria-label":jb("buttons.redo"),onClick:mc})},commitToHistory:function(){return!1}}}(dj)),n}return Bp(g,d),g.prototype.renderCanvas=function(){var h=
window.devicePixelRatio,n=this.state,z=n.width,G=n.height,X=z*h;h*=G;return n.viewModeEnabled?sa().createElement("canvas",{id:"canvas",style:{width:z,height:G,cursor:"grabbing"},width:X,height:h,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},jb("labels.drawingCanvas")):sa().createElement("canvas",
{id:"canvas",style:{width:z,height:G},width:X,height:h,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},jb("labels.drawingCanvas"))},g.prototype.render=function(){var h,n=this,z=this.state,G=z.zenModeEnabled,X=z.width,S=z.height;
z=z.viewModeEnabled;var da=this.props,ua=da.onCollabButtonClick,oa=da.onExportToBackend;da=da.renderFooter;var Na=X/2,Sa=S/2;return sa().createElement("div",{className:hc("excalidraw",{"excalidraw--view-mode":z}),ref:this.excalidrawContainerRef,style:{width:X,height:S}},sa().createElement(Gp,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:ua,onLockToggle:this.toggleLock,onInsertElements:function(Ta){return n.addElementsFromPasteOrLibrary(Ta,
Na,Sa)},zenModeEnabled:G,toggleZenMode:this.toggleZenMode,langCode:ie.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:oa,renderCustomFooter:da,viewModeEnabled:z,showExitZenModeBtn:void 0===(null===(h=this.props)||void 0===h?void 0:h.zenModeEnabled)&&G}),sa().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&sa().createElement(Ip,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),
null!==this.state.toastMessage&&sa().createElement(Jp,{message:this.state.toastMessage,clearToast:this.clearToast}),sa().createElement("main",null,this.renderCanvas()))},g.prototype.componentDidMount=function(){var h=this;return nd()(function(){return zm(this,function(n){return"production"!==Sb.Vi.TEST&&"production"!==Sb.Vi.DEVELOPMENT||(h.setState.bind(h),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return h.state}},setState:{configurable:!0,value:function(){for(var z=
[],G=0;G<arguments.length;G++)z[G]=arguments[G];return h.setState.apply(h,z)}},app:{configurable:!0,value:h}})),h.scene.addCallback(h.onSceneUpdated),h.addEventListeners(),"number"==typeof h.props.offsetLeft&&"number"==typeof h.props.offsetTop?h.initializeScene():h.setState(h.getCanvasOffsets(h.props),function(){h.initializeScene()}),[2]})})()},g.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(im);im=0},g.prototype.removeEventListeners=
function(){document.removeEventListener(Sb.Ks.COPY,this.onCopy);document.removeEventListener(Sb.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(Sb.Ks.CUT,this.onCut);document.removeEventListener(Sb.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Sb.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(Sb.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Sb.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Sb.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Sb.Ks.BLUR,
this.onBlur,!1);window.removeEventListener(Sb.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(Sb.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Sb.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Sb.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(Sb.Ks.GESTURE_END,this.onGestureEnd,!1)},g.prototype.addEventListeners=function(){var h,n;this.removeEventListeners();document.addEventListener(Sb.Ks.COPY,this.onCopy);document.addEventListener(Sb.Ks.KEYDOWN,
this.onKeyDown,!1);document.addEventListener(Sb.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(Sb.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(h=document.fonts)||void 0===h||null===(n=h.addEventListener)||void 0===n||n.call(h,"loadingdone",this.onFontLoaded);document.addEventListener(Sb.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Sb.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Sb.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||
(document.addEventListener(Sb.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(Sb.Ks.CUT,this.onCut),document.addEventListener(Sb.Ks.SCROLL,this.onScroll),window.addEventListener(Sb.Ks.RESIZE,this.onResize,!1),window.addEventListener(Sb.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Sb.Ks.BLUR,this.onBlur,!1),window.addEventListener(Sb.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Sb.Ks.DROP,this.disableEvent,!1))},g.prototype.componentDidUpdate=function(h,n){var z,G,
X,S,da=this;(h.langCode!==this.props.langCode&&this.updateLanguage(),h.width!==this.props.width||h.height!==this.props.height||"number"==typeof this.props.offsetLeft&&h.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&h.offsetTop!==this.props.offsetTop)&&this.setState(Oc({width:null!==(X=this.props.width)&&void 0!==X?X:window.innerWidth,height:null!==(S=this.props.height)&&void 0!==S?S:window.innerHeight},this.getCanvasOffsets(this.props)));h.viewModeEnabled!==this.props.viewModeEnabled&&
this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);n.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();h.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});h.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Sb.k:null});null===(z=document.querySelector(".excalidraw"))||void 0===z||z.classList.toggle("Appearance_dark","dark"===this.state.appearance);
this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){da.actionManager.executeAction(Oe)});h=n.multiElement;n.elementType!==this.state.elementType&&null!=h&&this.state.isBindingEnabled&&vg(h)&&Bg(h,this.state,this.scene,gg(hf.getPointAtIndexGlobalCoordinates(h,-1)));var ua={},oa={},Na={},Sa={},Ta={};this.state.collaborators.forEach(function(Eb,kc){if(Eb.selectedElementIds)for(var mc=0,xc=Object.keys(Eb.selectedElementIds);mc<
xc.length;mc++){var rd=xc[mc];rd in Na||(Na[rd]=[]);Na[rd].push(kc)}Eb.pointer&&(Eb.username&&(Sa[kc]=Eb.username),Eb.userState&&(Ta[kc]=Eb.userState),oa[kc]=xg({sceneX:Eb.pointer.x,sceneY:Eb.pointer.y},da.state),ua[kc]=Eb.button)});n=this.scene.getElements();z=Xl(n.filter(function(Eb){return!da.state.editingElement||"text"!==da.state.editingElement.type||Eb.id!==da.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,
scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:oa,remotePointerButton:ua,remoteSelectedElementIds:Na,remotePointerUsernames:Sa,remotePointerUserStates:Ta,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!Le().matches});h=z.atLeastOneVisibleElement;(z=z.scrollBars)&&(jo=z);var hb,fb;n="text"!==(null===(G=this.state.editingElement)||void 0===G?void 0:G.type)&&!h&&0<n.length;
(this.state.scrolledOutside!==n&&this.setState({scrolledOutside:n}),dj.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(hb=(fb=this.props).onChange)||void 0===hb||hb.call(fb,this.scene.getElementsIncludingDeleted(),this.state)},g.resetTapTwice=function(){rn=!1},g.prototype.addTextFromPaste=function(h){var n,z=Lf({clientX:Vm,clientY:Wm},this.state);h=Di({x:z.x,y:z.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,
fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:h,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Sb.hs});this.scene.replaceAllElements(Yf(Yf([],this.scene.getElementsIncludingDeleted()),
[h]));this.setState({selectedElementIds:(n={},n[h.id]=!0,n)});dj.resumeRecording()},g.prototype.selectShapeTool=function(h){var n;Am||Ig(this.canvas,h);(n=document.activeElement)instanceof HTMLElement&&n.className.includes("ToolIcon")&&document.activeElement.blur();bh(h)||this.setState({suggestedBindings:[]});"selection"!==h?this.setState({elementType:h,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:h})},g.prototype.handleTextWysiwyg=function(h,n){n=n.isExistingElement;
var z=void 0!==n&&n,G=this,X=function(S,da){void 0===da&&(da=!1);G.scene.replaceAllElements(Yf([],G.scene.getElementsIncludingDeleted().map(function(ua){if(ua.id===h.id&&lf(ua)){var oa=da;oa={text:S,isDeleted:null!=oa?oa:ua.isDeleted};var Na=of(S,ji(ua));var Sa=Na.width;var Ta=Na.height;Na=Na.baseline;var hb=ua.textAlign;var fb=ua.verticalAlign;if("center"===hb&&"middle"===fb)hb=of(ua.text,ji(ua)),fb=ak(ua,{width:Sa-hb.width,height:Ta-hb.height}),hb=ua.x-fb.x,fb=ua.y-fb.y;else{var Eb=Ne(ua);fb=Eb[0];
var kc=Eb[1],mc=Eb[2];Eb=Eb[3];var xc=pg(ua,Sa,Ta);hb=(fb=ii({s:!0,e:"center"===hb||"left"===hb,w:"center"===hb||"right"===hb},ua.x,ua.y,ua.angle,(fb-xc[0])/2,(kc-xc[1])/2,(mc-xc[2])/2,(Eb-xc[3])/2))[0];fb=fb[1]}Sa={width:Sa,height:Ta,x:Number.isFinite(hb)?hb:ua.x,y:Number.isFinite(fb)?fb:ua.y,baseline:Na};ua=Ye(ua,wa(oa,Sa))}return ua})))};!function(S){var da=S.id,ua=S.appState,oa=S.onChange,Na=S.onSubmit,Sa=S.getViewportCoords,Ta=S.element;S=S.canvas;var hb=function(){var yd,Pd=null===(yd=td.getScene(Ta))||
void 0===yd?void 0:yd.getElement(da);if(Pd&&lf(Pd)){yd=Sa(Pd.x,Pd.y);var Bc=yd[0],Vc=yd[1];yd=Pd.textAlign;var ad=Pd.angle;fb.value=Pd.text;var Gd=Pd.text.replace(/\r\n?/g,"\n").split("\n"),Cg=Pd.height/Gd.length;Gd=(ua.offsetLeft+ua.width-Bc-8)/ua.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var Vg=Object,ri=Vg.assign,Qh=fb.style,sk=ji(Pd);Cg="".concat(Cg,"px");var El="".concat(Pd.width,"px"),Fk="".concat(Pd.height,"px");Bc="".concat(Bc,
"px");Vc="".concat(Vc,"px");var Dl=Pd.width;var rl=ua.zoom,km=180*ad/Math.PI;ad=(Dl-2*ua.offsetLeft)*(rl.value-1)/2;var sl=(Pd.height-2*ua.offsetTop)*(rl.value-1)/2;Dl=(Dl>Gd&&1!==rl.value&&(ad=Gd/2*(rl.value-1)),"translate(".concat(ad,"px, ").concat(sl,"px) scale(").concat(rl.value,") rotate(").concat(km,"deg)"));ri.call(Vg,Qh,{font:sk,lineHeight:Cg,width:El,height:Fk,left:Bc,top:Vc,transform:Dl,textAlign:yd,color:Pd.strokeColor,opacity:Pd.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Gd,
"px")})}},fb=document.createElement("textarea");fb.dir="auto";fb.tabIndex=0;fb.dataset.type="wysiwyg";fb.wrap="off";Object.assign(fb.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});hb();oa&&(fb.oninput=function(){oa(Ue(fb.value))});fb.onkeydown=function(yd){"Escape"===yd.key?(yd.preventDefault(),kc()):"Enter"===
yd.key&&yd[Id]?(yd.preventDefault(),yd.isComposing||229===yd.keyCode)||kc():"Enter"!==yd.key||yd.altKey||yd.stopPropagation()};var Eb=function(yd){yd.preventDefault();yd.stopPropagation()},kc=function(){Na(Ue(fb.value));pd||(pd=!0,fb.onblur=null,fb.oninput=null,fb.onkeydown=null,Fd&&Fd.disconnect(),window.removeEventListener("resize",hb),window.removeEventListener("wheel",Eb,!0),window.removeEventListener("pointerdown",xc),window.removeEventListener("pointerup",mc),window.removeEventListener("blur",
kc),rd(),fb.remove())},mc=function(){window.removeEventListener("pointerup",mc);setTimeout(function(){fb.onblur=kc;fb.focus()})},xc=function(yd){yd.target instanceof HTMLElement&&yd.target.closest(".".concat(Sb.$C.SHAPE_ACTIONS_MENU))&&!Bi(yd.target)&&(fb.onblur=null,window.addEventListener("pointerup",mc),window.addEventListener("blur",kc))},rd=td.getScene(Ta).addCallback(function(){hb();fb.focus()}),pd=!1;fb.onblur=kc;var Fd=null;S&&"ResizeObserver"in window?(Fd=new window.ResizeObserver(function(){hb()})).observe(S):
window.addEventListener("resize",hb);window.addEventListener("pointerdown",xc);window.addEventListener("wheel",Eb,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(fb);fb.focus();fb.select()}({id:h.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(S,da){S=xg({sceneX:S,sceneY:da},G.state);return[S.x-G.state.offsetLeft,S.y-G.state.offsetTop]},onChange:Cd(function(S){X(S);!h.isDeleted&&zh(h)}),onSubmit:Cd(function(S){var da=!S.trim();X(S,
da);da?ti(G.scene.getElements(),[h]):G.setState(function(ua){var oa;return{selectedElementIds:Oc(Oc({},ua.selectedElementIds),{},(oa={},oa[h.id]=!0,oa))}});da&&!z||dj.resumeRecording();G.setState({draggingElement:null,editingElement:null});G.state.elementLocked&&Ig(G.canvas,G.state.elementType)}),element:h});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});X(h.text)},g.prototype.getTextElementAtPosition=function(h,n){return(h=this.getElementAtPosition(h,n))&&lf(h)&&!h.isDeleted?
h:null},g.prototype.getElementAtPosition=function(h,n){var z=this.getElementsAtPosition(h,n);if(1<z.length){var G=z[z.length-1];return Hj(G,this.state,h,n)?z[z.length-2]:G}return 1===z.length?z[0]:null},g.prototype.getElementsAtPosition=function(h,n){var z,G,X=this;return z=this.scene.getElements(),G=function(S){var da=X.state,ua=10/da.zoom.value,oa=[h,n];return da.selectedElementIds[S.id]?nl(S,oa,ua):sj(S,da,oa)},z.filter(function(S){return!S.isDeleted&&G(S)})},g.prototype.maybeCleanupAfterMissingPointerUp=
function(h){null!==jm&&jm(h)},g.prototype.updateGestureOnPointerDown=function(h){fk.set(h.pointerId,{x:h.clientX,y:h.clientY});2===fk.size&&(Xm=ol(fk),Ym=this.state.zoom.value,Pn=dm(Array.from(fk.values())))},g.prototype.initialPointerDownState=function(h){var n=Lf(h,this.state),z=Ee(this.scene.getElements(),this.state),G=Zc(z),X=G[0],S=G[1],da=G[2];G=G[3];return{origin:n,originInGrid:gg(wg(n.x,n.y,this.state.gridSize)),scrollbars:oh(jo,h.clientX-this.state.offsetLeft,h.clientY-this.state.offsetTop),
lastCoords:Oc({},n),originalElements:this.scene.getElements().reduce(function(ua,oa){return ua.set(oa.id,wd(oa)),ua},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(da+X)/2,y:(G+S)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(n,z)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},
g.prototype.handleDraggingScrollBar=function(h,n){var z=this;if(!n.scrollbars.isOverEither||this.state.multiElement)return!1;io=!0;n.lastCoords.x=h.clientX;n.lastCoords.y=h.clientY;var G=Cd(function(S){S.target instanceof HTMLElement&&z.handlePointerMoveOverScrollbars(S,n)}),X=Cd(function(){io=!1;Ig(z.canvas,z.state.elementType);jm=null;z.setState({cursorButton:"up"});z.savePointer(h.clientX,h.clientY,"up");window.removeEventListener(Sb.Ks.POINTER_MOVE,G);window.removeEventListener(Sb.Ks.POINTER_UP,
X)});return jm=X,window.addEventListener(Sb.Ks.POINTER_MOVE,G),window.addEventListener(Sb.Ks.POINTER_UP,X),!0},g.prototype.isASelectedElement=function(h){return null!=h&&this.state.selectedElementIds[h.id]},g.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(h,n){if(2>n.length)return!1;var z=10/this.state.zoom.value;n=Zc(n);var G=n[1],X=n[2],S=n[3];return h.x>n[0]-z&&h.x<X+z&&h.y>G-z&&h.y<S+z},g.prototype.onKeyDownFromPointerDownHandler=function(h){var n=this;return Cd(function(z){n.maybeHandleResize(h,
z)||n.maybeDragNewGenericElement(h,z)})},g.prototype.onKeyUpFromPointerDownHandler=function(h){var n=this;return Cd(function(z){"Alt"===z.key&&z.preventDefault();n.maybeHandleResize(h,z)||n.maybeDragNewGenericElement(h,z)})},g.prototype.onPointerMoveFromPointerDownHandler=function(h){var n=this;return Cd(function(z){if(null===h.drag.offset&&(h.drag.offset=gg(function(mc,xc,rd){mc=Zc(mc);return[xc-mc[0],rd-mc[1]]}(Ee(n.scene.getElements(),n.state),h.origin.x,h.origin.y))),z.target instanceof HTMLElement&&
!n.handlePointerMoveOverScrollbars(z,h)){var G=Lf(z,n.state),X=wg(G.x,G.y,n.state.gridSize),S=X[0];X=X[1];if(h.drag.hasOccurred||"arrow"!==n.state.elementType&&"line"!==n.state.elementType||!(Math.hypot(h.origin.x-G.x,h.origin.y-G.y)<Sb.f)){if(h.resize.isResizing&&(h.lastCoords.x=G.x,h.lastCoords.y=G.y,n.maybeHandleResize(h,z)))return!0;if(n.state.editingLinearElement&&hf.handlePointDragging(n.state,function(mc){return n.setState(mc)},G.x,G.y,function(mc,xc){n.maybeSuggestBindingForLinearElementAtCursor(mc,
xc,G)}))return h.lastCoords.x=G.x,void(h.lastCoords.y=G.y);if(h.hit.allHitElements.some(function(mc){return n.isASelectedElement(mc)})||h.hit.hasHitCommonBoundingBoxOfSelectedElements){h.drag.hasOccurred=!0;var da=Ee(n.scene.getElements(),n.state);if(0<da.length){S=wg(G.x-h.drag.offset.x,G.y-h.drag.offset.y,n.state.gridSize);var ua=S[0];S=S[1];X=[Math.abs(G.x-h.origin.x),Math.abs(G.y-h.origin.y)];if(function(mc,xc,rd,pd,Fd,yd,Pd,Bc){void 0===yd&&(yd=!1);void 0===Pd&&(Pd=0);void 0===Bc&&(Bc=0);Fd=
Zc(xc);var Vc=rd-Fd[0],ad=pd-Fd[1];xc.forEach(function(Gd){if(yd){var Cg=yd&&Pd<Bc;var Vg=yd&&Pd>Bc;var ri=mc.originalElements.get(Gd.id);Cg=Cg&&ri?ri.x:Gd.x+Vc;Vg=Vg&&ri?ri.y:Gd.y+ad}else Cg=Gd.x+Vc,Vg=Gd.y+ad;Dd(Gd,{x:Cg,y:Vg});zh(Gd,{simultaneouslyUpdated:xc})})}(h,da,ua,S,n.scene,z.shiftKey,X[0],X[1]),n.maybeSuggestBindingForAll(da),z.altKey&&!h.hit.hasBeenDuplicated){h.hit.hasBeenDuplicated=!0;da=[];z=[];var oa=new Map;X=new Map;for(var Na=h.hit.element,Sa=0,Ta=n.scene.getElementsIncludingDeleted();Sa<
Ta.length;Sa++){var hb=Ta[Sa];if(n.state.selectedElementIds[hb.id]||hb.id===(null==Na?void 0:Na.id)&&h.hit.wasAddedToSelection){var fb=Ei(n.state.editingGroupId,oa,hb),Eb=wg(h.origin.x-h.drag.offset.x,h.origin.y-h.drag.offset.y,n.state.gridSize);Dd(fb,{x:fb.x+(Eb[0]-ua),y:fb.y+(Eb[1]-S)});da.push(fb);z.push(hb);X.set(hb.id,fb.id)}else da.push(hb)}ua=Yf(Yf([],da),z);Xj(ua,z,X,"duplicatesServeAsOld");n.scene.replaceAllElements(ua)}return}}if(da=n.state.draggingElement)if(Md(da)?(h.drag.hasOccurred=
!0,oa=da.points,Sa=Na=void 0,"draw"===da.type?(Na=G.x-da.x,Sa=G.y-da.y):(Na=S-da.x,Sa=X-da.y),z.shiftKey&&2===oa.length&&(Na=(ua=Gf(n.state.elementType,Na,Sa)).width,Sa=ua.height),1===oa.length?Dd(da,{points:Yf(Yf([],oa),[[Na,Sa]])}):1<oa.length&&("draw"===da.type?Dd(da,{points:R(Yf(Yf([],oa),[[Na,Sa]]),.7/n.state.zoom.value)}):Dd(da,{points:Yf(Yf([],oa.slice(0,-1)),[[Na,Sa]])})),vg(da)&&n.maybeSuggestBindingForLinearElementAtCursor(da,"end",G,n.state.startBoundElement)):(h.lastCoords.x=G.x,h.lastCoords.y=
G.y,n.maybeDragNewGenericElement(h,z)),"selection"===n.state.elementType){ua=n.scene.getElements();!z.shiftKey&&wf(ua,n.state)&&n.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var kc=function(mc,xc){xc=Ne(xc);var rd=xc[0],pd=xc[1],Fd=xc[2],yd=xc[3];return mc.filter(function(Pd){var Bc=fg(Pd),Vc=Bc[0],ad=Bc[1],Gd=Bc[2];Bc=Bc[3];return"selection"!==Pd.type&&rd<=Vc&&pd<=ad&&Fd>=Gd&&yd>=Bc})}(ua,da);n.setState(function(mc){return Gj(Oc(Oc({},mc),{},{selectedElementIds:Oc(Oc({},
mc.selectedElementIds),kc.reduce(function(xc,rd){return xc[rd.id]=!0,xc},{}))}),n.scene.getElements())})}}}})},g.prototype.handlePointerMoveOverScrollbars=function(h,n){return n.scrollbars.isOverHorizontal?(h=h.clientX,this.setState({scrollX:this.state.scrollX-(h-n.lastCoords.x)/this.state.zoom.value}),n.lastCoords.x=h,!0):n.scrollbars.isOverVertical?(h=h.clientY,this.setState({scrollY:this.state.scrollY-(h-n.lastCoords.y)/this.state.zoom.value}),n.lastCoords.y=h,!0):!1},g.prototype.onPointerUpFromPointerDownHandler=
function(h){var n=this;return Cd(function(z){var G=n.state,X=G.draggingElement,S=G.resizingElement,da=G.multiElement,ua=G.elementType,oa=G.elementLocked,Na=G.isResizing;G=G.isRotating;if(n.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:da||lf(n.state.editingElement)?n.state.editingElement:null}),n.savePointer(z.clientX,z.clientY,"up"),n.state.editingLinearElement){var Sa=hf.handlePointerUp(z,n.state.editingLinearElement,n.state);Sa!==
n.state.editingLinearElement&&n.setState({editingLinearElement:Sa,suggestedBindings:[]})}if(jm=null,window.removeEventListener(Sb.Ks.POINTER_MOVE,h.eventListeners.onMove),window.removeEventListener(Sb.Ks.POINTER_UP,h.eventListeners.onUp),window.removeEventListener(Sb.Ks.KEYDOWN,h.eventListeners.onKeyDown),window.removeEventListener(Sb.Ks.KEYUP,h.eventListeners.onKeyUp),"draw"!==(null==X?void 0:X.type))if(Md(X))1<X.points.length&&dj.resumeRecording(),z=Lf(z,n.state),h.drag.hasOccurred||!X||da?h.drag.hasOccurred&&
!da&&(n.state.isBindingEnabled&&vg(X)&&Bg(X,n.state,n.scene,z),n.setState({suggestedBindings:[],startBoundElement:null}),oa||"draw"===ua?n.setState(function(fb){var Eb;return{draggingElement:null,selectedElementIds:Oc(Oc({},fb.selectedElementIds),{},(Eb={},Eb[n.state.draggingElement.id]=!0,Eb))}}):(Me(n.canvas),n.setState(function(fb){var Eb;return{draggingElement:null,elementType:"selection",selectedElementIds:Oc(Oc({},fb.selectedElementIds),{},(Eb={},Eb[n.state.draggingElement.id]=!0,Eb))}}))):
(Dd(X,{points:Yf(Yf([],X.points),[[z.x-X.x,z.y-X.y]])}),n.setState({multiElement:X,editingElement:n.state.draggingElement}));else{if("selection"!==ua&&X&&Vf(X))return n.scene.replaceAllElements(n.scene.getElementsIncludingDeleted().slice(0,-1)),void n.setState({draggingElement:null});X&&Dd(X,Ej(X));S&&dj.resumeRecording();S&&Vf(S)&&n.scene.replaceAllElements(n.scene.getElementsIncludingDeleted().filter(function(fb){return fb.id!==S.id}));var Ta=h.hit.element;if(Ta&&!h.drag.hasOccurred&&!h.hit.wasAddedToSelection)if(z.shiftKey)if(n.state.selectedElementIds[Ta.id])if(null!=
Fj(n.state,Ta)){var hb=Ta.groupIds.flatMap(function(fb){return qj(n.scene.getElements(),fb)}).map(function(fb){var Eb;return(Eb={})[fb.id]=!1,Eb}).reduce(function(fb,Eb){return Oc(Oc({},fb),Eb)},{});n.setState(function(fb){return{selectedGroupIds:Oc(Oc({},fb.selectedElementIds),Ta.groupIds.map(function(Eb){var kc;return(kc={})[Eb]=!1,kc}).reduce(function(Eb,kc){return Oc(Oc({},Eb),kc)},{})),selectedElementIds:Oc(Oc({},fb.selectedElementIds),hb)}})}else n.setState(function(fb){var Eb;return{selectedElementIds:Oc(Oc({},
fb.selectedElementIds),{},(Eb={},Eb[Ta.id]=!1,Eb))}});else n.setState(function(fb){var Eb;return{selectedElementIds:Oc(Oc({},fb.selectedElementIds),{},(Eb={},Eb[Ta.id]=!0,Eb))}});else n.setState(function(fb){var Eb;return Oc({},Gj(Oc(Oc({},fb),{},{selectedElementIds:(Eb={},Eb[Ta.id]=!0,Eb)}),n.scene.getElements()))});n.state.editingLinearElement||h.drag.hasOccurred||n.state.isResizing||!(Ta&&Hj(Ta,n.state,h.origin.x,h.origin.y)||!Ta&&h.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!oa&&"draw"!==
ua&&X&&n.setState(function(fb){var Eb;return{selectedElementIds:Oc(Oc({},fb.selectedElementIds),{},(Eb={},Eb[X.id]=!0,Eb))}}),("selection"!==ua||wf(n.scene.getElements(),n.state))&&dj.resumeRecording(),(h.drag.hasOccurred||Na||G)&&(n.state.isBindingEnabled?tj:md)(Ee(n.scene.getElements(),n.state)),oa||"draw"===ua?n.setState({draggingElement:null,suggestedBindings:[]}):(Me(n.canvas),n.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):n.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null})}else n.actionManager.executeAction(Oe)})},g.prototype.maybeSuggestBindingForAll=function(h){var n;h=(n=new Set(h.map(function(z){return z.id})),h.flatMap(function(z){return vg(z)?Wg(z).filter(function(G){return!n.has(G.id)}):Ai(z)?uj(z).filter(function(G){return!n.has(G[0].id)}):[]}));this.setState({suggestedBindings:h})},g.prototype.clearSelection=function(h){this.setState(function(n){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:n.editingGroupId&&
null!=h&&h.groupIds.includes(n.editingGroupId)?n.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},g.prototype.getTextWysiwygSnappedToCenterPosition=function(h,n,z,G,X){if(X=function(S,da,ua){for(var oa=null,Na=S.length-1;0<=Na;--Na)if(!S[Na].isDeleted){var Sa=Ne(S[Na]),Ta=Sa[1],hb=Sa[2],fb=Sa[3];if(Sa[0]<da&&da<hb&&Ta<ua&&ua<fb){oa=S[Na];break}}return oa}(this.scene.getElementsIncludingDeleted().filter(function(S){return!lf(S)}),
h,n))if(G=X.x+X.width/2,X=X.y+X.height/2,Math.hypot(h-G,n-X)<Sb.wZ)return h=xg({sceneX:G,sceneY:X},z),{viewportX:h.x,viewportY:h.y,elementCenterX:G,elementCenterY:X}},g.prototype.getCanvasOffsets=function(h){var n,z;return"number"==typeof(null==h?void 0:h.offsetLeft)&&"number"==typeof(null==h?void 0:h.offsetTop)?{offsetLeft:h.offsetLeft,offsetTop:h.offsetTop}:null!==(n=this.excalidrawContainerRef)&&void 0!==n&&null!==(z=n.current)&&void 0!==z&&z.parentElement?(z=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),
n=z.left,z=z.top,{offsetLeft:"number"==typeof(null==h?void 0:h.offsetLeft)?h.offsetLeft:n,offsetTop:"number"==typeof(null==h?void 0:h.offsetTop)?h.offsetTop:z}):{offsetLeft:"number"==typeof(null==h?void 0:h.offsetLeft)?h.offsetLeft:0,offsetTop:"number"==typeof(null==h?void 0:h.offsetTop)?h.offsetTop:0}},g.prototype.updateLanguage=function(){var h=this;return nd()(function(){var n;return zm(this,function(z){switch(z.label){case 0:return n=kj.find(function(G){return G.code===h.props.langCode})||Rf,
[4,uf(n)];case 1:return z.sent(),h.setAppState({}),[2]}})})()},g}(sa().Component);lo.defaultProps={width:window.innerWidth,height:window.innerHeight};var Kp=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=sa().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=Cd(function(g){if(!d.unmounted&&!1!==g){var h=null;if(g.elements&&
(g.elements.forEach(function(ua){var oa;(null===(oa=d.state.editingElement)||void 0===oa?void 0:oa.id)===ua.id&&d.state.editingElement!==ua&&!ua.isDeleted&&(h=ua)}),d.scene.replaceAllElements(g.elements),g.commitToHistory&&dj.resumeRecording()),g.appState||h){var n,z,G;g.commitToHistory&&dj.resumeRecording();var X=(null==g||null===(n=g.appState)||void 0===n?void 0:n.viewModeEnabled)||!1,S=(null==g||null===(z=g.appState)||void 0===z?void 0:z.zenModeEnabled)||!1,da=(null==g||null===(G=g.appState)||
void 0===G?void 0:G.gridSize)||null;void 0!==d.props.viewModeEnabled&&(X=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(S=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(da=d.props.gridModeEnabled?Sb.k:null);d.setState(function(ua){var oa;return Object.assign(g.appState||{},{editingElement:h||(null===(oa=g.appState)||void 0===oa?void 0:oa.editingElement)||null,width:ua.width,height:ua.height,offsetTop:ua.offsetTop,offsetLeft:ua.offsetLeft,viewModeEnabled:X,zenModeEnabled:S,
gridSize:da})},function(){g.syncHistory&&dj.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=Cd(function(){Am=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(g){g.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(g){lf(g)&&bg.delete(g)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var g=nd()(function(h){var n,z,G,X,S;return zm(this,function(da){switch(da.label){case 0:window.history.replaceState({},
Sb.iC,window.location.origin),da.label=1;case 1:return da.trys.push([1,7,,8]),[4,fetch(h)];case 2:return[4,da.sent().blob()];case 3:return n=da.sent(),X=(G=JSON).parse,[4,n.text()];case 4:da=z=X.apply(G,[da.sent()]);if("object"!=typeof da||!da||"excalidrawlib"!==da.type||1!==da.version)throw Error();return window.confirm(jb("alerts.confirmAddLibrary",{numShapes:z.library.length}))?[4,zg.importLibrary(n)]:[3,6];case 5:da.sent(),d.setState({isLibraryOpen:!0}),da.label=6;case 6:return[3,8];case 7:return S=
da.sent(),window.alert(jb("alerts.errorLoadingLibrary")),console.error(S),[3,8];case 8:return[2]}})});return function(h){return g.apply(this,arguments)}}();this.resetHistory=function(){dj.clear()};this.resetScene=Cd(function(g){d.scene.replaceAllElements([]);d.setState(function(h){return Oc(Oc({},oj()),{},{isLoading:(null==g||!g.resetLoadingState)&&h.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=nd()(function(){var g,h,n,z,G;return zm(this,function(X){switch(X.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var S=nd()(function(da){var ua,oa;return zm(this,function(Na){switch(Na.label){case 0:return da.files.length?[4,(ua=da.files[0]).getFile()]:[2];case 1:return(oa=Na.sent()).handle=ua,kl(oa,d.state).then(function(Sa){return d.syncActionResult({elements:Sa.elements,appState:Oc(Oc({},Sa.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Sa){d.setState({isLoading:!1,errorMessage:Sa.message})}),[2]}})});
return function(da){return S.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),h=null,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return h=X.sent()||null,[3,4];case 3:return n=X.sent(),console.error(n),[3,4];case 4:return(z=Il(h,null)).appState=Oc(Oc({},z.appState),{},{isLoading:!1}),null!==(g=h)&&void 0!==g&&g.scrollToCenter&&(z.appState=Oc(Oc({},z.appState),fe(z.elements,Oc(Oc({},z.appState),{},{width:d.state.width,height:d.state.height,offsetTop:d.state.offsetTop,
offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Oc(Oc({},z),{},{commitToHistory:!0})),(G=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(G)]:[3,6];case 5:X.sent(),X.label=6;case 6:return[2]}})});this.onResize=Cd(function(){d.scene.getElementsIncludingDeleted().forEach(function(g){return bg.delete(g)});d.setState({})});this.onScroll=Kf(function(){var g=d.getCanvasOffsets(),h=g.offsetTop,n=g.offsetLeft;d.setState(function(z){return z.offsetLeft===
n&&z.offsetTop===h?null:{offsetTop:h,offsetLeft:n}})},Sb.HM);this.onCut=Cd(function(g){Bi(g.target)||(d.cutAll(),g.preventDefault())});this.onCopy=Cd(function(g){var h=document.getSelection();null!=h&&h.anchorNode&&!d.excalidrawContainerRef.current.contains(h.anchorNode)||Bi(g.target)||(d.copyAll(),g.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(cj)};this.copyAll=function(){H(d.scene.getElements(),d.state)};this.onTapStart=function(g){if(!rn)return rn=!0,clearTimeout(ho),
void(ho=window.setTimeout(lo.resetTapTwice,Sb.Gj));if(rn&&1===g.touches.length){var h=g.touches[0];d.handleCanvasDoubleClick({clientX:h.clientX,clientY:h.clientY});rn=!1;clearTimeout(ho)}g.preventDefault();2===g.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(g){g.preventDefault();0<g.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=Cd(function(){var g=nd()(function(h){var n,z,G;return zm(this,
function(X){switch(X.label){case 0:return n=document.activeElement,z=document.elementFromPoint(Vm,Wm),!h||z instanceof HTMLCanvasElement&&!Bi(n)?[4,bb(h)]:[2];case 1:return(G=X.sent()).errorMessage?d.setState({errorMessage:G.errorMessage}):G.spreadsheet?d.setState({pasteDialog:{data:G.spreadsheet,shown:!0}}):G.elements?d.addElementsFromPasteOrLibrary(G.elements):G.text&&d.addTextFromPaste(G.text),d.selectShapeTool("selection"),null==h||h.preventDefault(),[2]}})});return function(h){return g.apply(this,
arguments)}}());this.addElementsFromPasteOrLibrary=function(g,h,n){void 0===h&&(h=Vm);void 0===n&&(n=Wm);var z=Zc(g),G=z[0],X=z[1],S=Math.abs(G-z[2])/2;z=Math.abs(X-z[3])/2;h=Lf({clientX:h,clientY:n},d.state);S=h.x-S;z=h.y-z;var da=new Map;S=wg(S,z,d.state.gridSize);var ua=S[0],oa=S[1],Na=new Map;S=g.map(function(Sa){var Ta=Ei(d.state.editingGroupId,da,Sa,{x:Sa.x+ua-G,y:Sa.y+oa-X});return Na.set(Sa.id,Ta.id),Ta});z=Yf(Yf([],d.scene.getElementsIncludingDeleted()),S);Xj(z,g,Na);d.scene.replaceAllElements(z);
dj.resumeRecording();d.setState(Gj(Oc(Oc({},d.state),{},{isLibraryOpen:!1,selectedElementIds:S.reduce(function(Sa,Ta){return Sa[Ta.id]=!0,Sa},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(g){d.setState(g)};this.removePointer=function(g){"touch"===g.pointerType&&im&&(clearTimeout(im),im=0,tn=!1);fk.delete(g.pointerId)};this.toggleLock=function(){d.setState(function(g){return{elementLocked:!g.elementLocked,elementType:g.elementLocked?"selection":g.elementType}})};this.toggleZenMode=
function(){d.actionManager.executeAction(fd)};this.toggleStats=function(){d.state.showStats||Wf("dialog","stats");d.actionManager.executeAction(bm)};this.setScrollToCenter=function(g){d.setState(Oc({},fe(dd(g),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=Cd(function(g){var h;g.commitToHistory&&dj.resumeRecording();null!==(h=g.appState)&&void 0!==h&&h.viewBackgroundColor&&d.setState({viewBackgroundColor:g.appState.viewBackgroundColor});g.elements&&
d.scene.replaceAllElements(g.elements);g.collaborators&&d.setState({collaborators:g.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=Cd(function(g){Vm=g.x;Wm=g.y});this.onKeyDown=Cd(function(g){var h;if(!(("Proxy"in window&&(!g.shiftKey&&/^[A-Z]$/.test(g.key)||g.shiftKey&&/^[a-z]$/.test(g.key))&&(g=new Proxy(g,{get:function(X,S){var da=X[S];return"function"==typeof da?da.bind(X):"key"===S?g.shiftKey?X.key.toUpperCase():X.key.toLowerCase():da}})),Bi(g.target)&&
"Escape"!==g.key||ye(g.key)&&(h=g.target,h instanceof HTMLElement&&"wysiwyg"===h.dataset.type||h instanceof HTMLBRElement||h instanceof HTMLInputElement||h instanceof HTMLTextAreaElement||h instanceof HTMLSelectElement))||("?"===g.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(g)||d.state.viewModeEnabled))){if(g[Id]&&d.setState({isBindingEnabled:!1}),"Digit9"===g.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),ye(g.key)){h=d.state.gridSize&&(g.shiftKey?Sb.$e:d.state.gridSize)||
(g.shiftKey?Sb.Iw:Sb.$e);var n=d.scene.getElements().filter(function(X){return d.state.selectedElementIds[X.id]}),z=0,G=0;"ArrowLeft"===g.key?z=-h:"ArrowRight"===g.key?z=h:"ArrowUp"===g.key?G=-h:"ArrowDown"===g.key&&(G=h);n.forEach(function(X){Dd(X,{x:X.x+z,y:X.y+G});zh(X,{simultaneouslyUpdated:n})});d.maybeSuggestBindingForAll(n);g.preventDefault()}else if("Enter"===g.key)if(h=Ee(d.scene.getElements(),d.state),1===h.length&&Md(h[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===
h[0].id||(dj.resumeRecording(),d.setState({editingLinearElement:new hf(h[0],d.scene)}));else{if(1===h.length&&!Md(h[0]))return h=h[0],d.startTextEditing({sceneX:h.x+h.width/2,sceneY:h.y+h.height/2}),void g.preventDefault()}else g.ctrlKey||g.altKey||g.metaKey||null!==d.state.draggingElement||((h=function(X){var S=Xk.find(function(da,ua){return X===(ua+1).toString()||("string"==typeof da.key?da.key===X:da.key.includes(X))});return(null==S?void 0:S.value)||null}(g.key))?d.selectShapeTool(h):"q"===g.key&&
d.toggleLock());" "===g.key&&0===fk.size&&(Am=!0,Qg(d.canvas,Sb.oc.GRABBING))}});this.onKeyUp=Cd(function(g){if(" "===g.key&&("selection"===d.state.elementType?Me(d.canvas):(Ig(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Am=!1),g[Id]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),ye(g.key))g=Ee(d.scene.getElements(),d.state),d.state.isBindingEnabled?tj(g):md(g),d.setState({suggestedBindings:[]})});this.onGestureStart=Cd(function(g){g.preventDefault();
d.setState({selectedElementIds:{}});Ym=d.state.zoom.value});this.onGestureChange=Cd(function(g){if(g.preventDefault(),2!==fk.size){var h=Ym;h&&d.setState(function(n){var z=n.zoom,G=n.offsetLeft;n=n.offsetTop;return{zoom:Rh(hj(h*g.scale),z,{left:G,top:n},{x:Vm,y:Wm})}})}});this.onGestureEnd=Cd(function(g){g.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});Ym=null});this.startTextEditing=function(g){var h=g.sceneX,n=g.sceneY;g=g.insertAtParentCenter;
var z=void 0===g||g;g=d.getTextElementAtPosition(h,n);z=z&&d.getTextWysiwygSnappedToCenterPosition(h,n,d.state,d.canvas,window.devicePixelRatio);h=g||Di({x:z?z.elementCenterX:h,y:z?z.elementCenterY:n,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,
text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:z?"center":d.state.currentItemTextAlign,verticalAlign:z?"middle":Sb.hs});d.setState({editingElement:h});g?z&&"center"===h.textAlign||Dd(h,{verticalAlign:Sb.hs}):(d.scene.replaceAllElements(Yf(Yf([],d.scene.getElementsIncludingDeleted()),[h])),z||Dd(h,{y:h.y-h.baseline/2}));d.setState({editingElement:h});d.handleTextWysiwyg(h,{isExistingElement:!!g})};this.handleCanvasDoubleClick=function(g){if(!d.state.multiElement&&
"selection"===d.state.elementType){var h=Ee(d.scene.getElements(),d.state);if(1===h.length&&Md(h[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===h[0].id||(dj.resumeRecording(),d.setState({editingLinearElement:new hf(h[0],d.scene)}));else{Me(d.canvas);var n=Lf(g,d.state);h=n.x;n=n.y;if(0<Zj(d.state).length){var z=d.getElementAtPosition(h,n),G=z&&function(X,S){return X.groupIds.find(function(da){return S[da]})}(z,d.state.selectedGroupIds);if(G)return void d.setState(function(X){var S;
return Gj(Oc(Oc({},X),{},{editingGroupId:G,selectedElementIds:(S={},S[z.id]=!0,S),selectedGroupIds:{}}),d.scene.getElements())})}Me(d.canvas);g[Id]||d.startTextEditing({sceneX:h,sceneY:n,insertAtParentCenter:!g.altKey})}}};this.handleCanvasPointerMove=function(g){d.savePointer(g.clientX,g.clientY,d.state.cursorButton);fk.has(g.pointerId)&&fk.set(g.pointerId,{x:g.clientX,y:g.clientY});var h=Ym;if(2===fk.size&&Xm&&h&&Pn){var n=ol(fk),z=n.x-Xm.x,G=n.y-Xm.y;Xm=n;var X=dm(Array.from(fk.values()))/Pn;d.setState(function(hb){var fb=
hb.zoom,Eb=hb.offsetLeft,kc=hb.offsetTop;return{scrollX:hb.scrollX+z/fb.value,scrollY:hb.scrollY+G/fb.value,zoom:Rh(hj(h*X),fb,{left:Eb,top:kc},n),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else Xm=Pn=Ym=null;if(!(Am||sn||io)){var S=oh(jo,g.clientX-d.state.offsetLeft,g.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(S?Me(d.canvas):Ig(d.canvas,d.state.elementType));var da=Lf(g,d.state),ua=da.x,oa=da.y;if(d.state.editingLinearElement&&
!d.state.editingLinearElement.isDragging){var Na=hf.handlePointerMove(g,ua,oa,d.state.editingLinearElement,d.state.gridSize);Na!==d.state.editingLinearElement&&d.setState({editingLinearElement:Na});null!=Na.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(da):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(Na=d.state.draggingElement,vg(Na)?d.maybeSuggestBindingForLinearElementAtCursor(Na,"end",da,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(da));if(d.state.multiElement){S=
d.state.multiElement;da=S.x;Na=S.y;g=S.points;var Sa=S.lastCommittedPoint,Ta=g[g.length-1];return Ig(d.canvas,d.state.elementType),void(Ta===Sa?Math.hypot(Ta[0]-(ua-da),Ta[1]-(oa-Na))>=Sb.qx?Dd(S,{points:Yf(Yf([],g),[[ua-da,oa-Na]])}):Qg(d.canvas,Sb.oc.POINTER):2<g.length&&Sa&&Math.hypot(Sa[0]-(ua-da),Sa[1]-(oa-Na))<Sb.qx?(Qg(d.canvas,Sb.oc.POINTER),Dd(S,{points:g.slice(0,-1)})):(th(g,d.state.zoom.value)&&Qg(d.canvas,Sb.oc.POINTER),Dd(S,{points:Yf(Yf([],g.slice(0,-1)),[[ua-da,oa-Na]])})))}if(!(g.buttons||
"selection"!==d.state.elementType&&"text"!==d.state.elementType)){Sa=d.scene.getElements();Na=Ee(Sa,d.state);if(1!==Na.length||S||d.state.editingLinearElement){if(1<Na.length&&!S&&(ua=Ag(Zc(Na),ua,oa,d.state.zoom,g.pointerType)))return void Qg(d.canvas,yh({transformHandleType:ua}))}else if((ua=Lg(Sa,d.state,ua,oa,d.state.zoom,g.pointerType))&&ua.transformHandleType)return void Qg(d.canvas,yh(ua));ua=d.getElementAtPosition(da.x,da.y);"text"===d.state.elementType?Qg(d.canvas,lf(ua)?Sb.oc.TEXT:Sb.oc.CROSSHAIR):
S?Qg(d.canvas,Sb.oc.AUTO):ua||d.isHittingCommonBoundingBoxOfSelectedElements(da,Na)?Qg(d.canvas,Sb.oc.MOVE):Qg(d.canvas,Sb.oc.AUTO)}}};this.handleTouchMove=function(g){tn=!0};this.handleCanvasPointerDown=function(g){if(g.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(g),d.maybeCleanupAfterMissingPointerUp(g),!(sn||(d.setState({lastPointerDownWith:g.pointerType,cursorButton:"down"}),d.savePointer(g.clientX,g.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(g)||g.button!==Sb.Oh.MAIN&&
g.button!==Sb.Oh.TOUCH||(d.updateGestureOnPointerDown(g),g.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<fk.size)))){var h=d.initialPointerDownState(g);if(!d.handleDraggingScrollBar(g,h)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(g),!d.handleSelectionOnPointerDown(g,h)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(g,
d.state.elementType,h):d.createGenericElementOnPointerDown(d.state.elementType,h);g=d.onPointerMoveFromPointerDownHandler(h);var n=d.onPointerUpFromPointerDownHandler(h),z=d.onKeyDownFromPointerDownHandler(h),G=d.onKeyUpFromPointerDownHandler(h);jm=n;d.state.viewModeEnabled||(window.addEventListener(Sb.Ks.POINTER_MOVE,g),window.addEventListener(Sb.Ks.POINTER_UP,n),window.addEventListener(Sb.Ks.KEYDOWN,z),window.addEventListener(Sb.Ks.KEYUP,G),h.eventListeners.onMove=g,h.eventListeners.onUp=n,h.eventListeners.onKeyUp=
G,h.eventListeners.onKeyDown=z)}else d.handleTextOnPointerDown(g,h)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(g){"touch"===g.pointerType&&(tn=!1,im?tn=!0:im=window.setTimeout(function(){im=0;tn||d.openContextMenu({clientX:g.clientX,clientY:g.clientY})},Sb.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(g){if(0!==fk.size||!(g.button===Sb.Oh.WHEEL||g.button===Sb.Oh.MAIN&&Am||d.state.viewModeEnabled))return!1;sn=!0;var h=!1,n=/Linux/.test(window.navigator.platform);
Qg(d.canvas,Sb.oc.GRABBING);var z=g.clientX,G=g.clientY,X=Cd(function(da){var ua=z-da.clientX,oa=G-da.clientY;if(z=da.clientX,G=da.clientY,n&&!h&&(1<Math.abs(ua)||1<Math.abs(oa))){h=!0;var Na=function(Ta){document.body.removeEventListener(Sb.Ks.PASTE,Na);Ta.stopPropagation()},Sa=function(){setTimeout(function(){document.body.removeEventListener(Sb.Ks.PASTE,Na);window.removeEventListener(Sb.Ks.POINTER_UP,Sa)},100)};document.body.addEventListener(Sb.Ks.PASTE,Na);window.addEventListener(Sb.Ks.POINTER_UP,
Sa)}d.setState({scrollX:d.state.scrollX-ua/d.state.zoom.value,scrollY:d.state.scrollY-oa/d.state.zoom.value})}),S=Cd(jm=function(){jm=null;sn=!1;Am||Ig(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(g.clientX,g.clientY,"up");window.removeEventListener(Sb.Ks.POINTER_MOVE,X);window.removeEventListener(Sb.Ks.POINTER_UP,S);window.removeEventListener(Sb.Ks.BLUR,S)});return window.addEventListener(Sb.Ks.BLUR,S),window.addEventListener(Sb.Ks.POINTER_MOVE,X,{passive:!0}),window.addEventListener(Sb.Ks.POINTER_UP,
S),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(g,h){if("selection"===d.state.elementType){var n=d.scene.getElements(),z=Ee(n,d.state);1!==z.length||d.state.editingLinearElement?1<z.length&&(h.resize.handleType=Ag(Zc(z),h.origin.x,h.origin.y,d.state.zoom,g.pointerType)):(n=Lg(n,d.state,h.origin.x,h.origin.y,d.state.zoom,g.pointerType),
null!=n&&(d.setState({resizingElement:n.element}),h.resize.handleType=n.transformHandleType));if(h.resize.handleType)Qg(d.canvas,yh({transformHandleType:h.resize.handleType})),h.resize.isResizing=!0,h.resize.offset=gg(function(Sa,Ta,hb,fb){var Eb,kc=1===Ta.length?Ne(Ta[0]):Zc(Ta),mc=kc[0],xc=kc[1],rd=kc[2];kc=kc[3];Ta=1===Ta.length?Ta[0].angle:0;switch(hb=(Eb=le(hb,fb,(mc+rd)/2,(xc+kc)/2,-Ta))[0],fb=Eb[1],Sa){case "n":return le(hb-(mc+rd)/2,fb-xc,0,0,Ta);case "s":return le(hb-(mc+rd)/2,fb-kc,0,0,
Ta);case "w":return le(hb-mc,fb-(xc+kc)/2,0,0,Ta);case "e":return le(hb-rd,fb-(xc+kc)/2,0,0,Ta);case "nw":return le(hb-mc,fb-xc,0,0,Ta);case "ne":return le(hb-rd,fb-xc,0,0,Ta);case "sw":return le(hb-mc,fb-kc,0,0,Ta);case "se":return le(hb-rd,fb-kc,0,0,Ta);default:return[0,0]}}(h.resize.handleType,z,h.origin.x,h.origin.y)),1===z.length&&Md(z[0])&&2===z[0].points.length&&(h.resize.arrowDirection=(S=h.resize.handleType,da=z[0],ua=da.points[1],oa=ua[0],Na=ua[1],"nw"===S&&(0>oa||0>Na)||"ne"===S&&0<=oa||
"sw"===S&&0>=oa||"se"===S&&(0<oa||0<Na)?"end":"origin"));else{var G;if(d.state.editingLinearElement&&(z=hf.handlePointerDown(g,d.state,function(Sa){return d.setState(Sa)},dj,h.origin),z.hitElement&&(h.hit.element=z.hitElement),z.didAddPoint))return!0;h.hit.element=null!==(G=h.hit.element)&&void 0!==G?G:d.getElementAtPosition(h.origin.x,h.origin.y);h.hit.allHitElements=d.getElementsAtPosition(h.origin.x,h.origin.y);var X=h.hit.element;G=h.hit.allHitElements.some(function(Sa){return d.isASelectedElement(Sa)});
if(null!==X&&G||g.shiftKey||h.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(X),null!=X){if(g[Id])return d.setState(function(Sa){var Ta;Sa=Ia(Ia({},Sa),{},{editingGroupId:X.groupIds.length?X.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(Ta={},Ta[X.id]=!0,Ta)});return Oc(Oc({},Sa),{},{previousSelectedElementIds:d.state.selectedElementIds})}),!1;d.state.selectedElementIds[X.id]||(d.state.editingGroupId&&!X.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null}),G||h.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(Sa){var Ta;return Gj(Oc(Oc({},Sa),{},{selectedElementIds:Oc(Oc({},Sa.selectedElementIds),{},(Ta={},Ta[X.id]=!0,Ta))}),d.scene.getElements())}),h.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var S,da,ua,oa,Na;return!1};this.handleTextOnPointerDown=function(g,h){var n;"text"!==(null===(n=d.state.editingElement)||void 0===n?void 0:n.type)&&
(d.startTextEditing({sceneX:h.origin.x,sceneY:h.origin.y,insertAtParentCenter:!g.altKey}),Me(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(g,h,n){if(d.state.multiElement){var z=d.state.multiElement;if("line"===z.type&&th(z.points,d.state.zoom.value))return Dd(z,{lastCommittedPoint:z.points[z.points.length-1]}),void d.actionManager.executeAction(Oe);h=z.x;g=z.y;var G=z.lastCommittedPoint;if(1<z.points.length&&G&&Math.hypot(G[0]-
(n.origin.x-h),G[1]-(n.origin.y-g))<Sb.qx)return void d.actionManager.executeAction(Oe);d.setState(function(da){var ua;return{selectedElementIds:Oc(Oc({},da.selectedElementIds),{},(ua={},ua[z.id]=!0,ua))}});Dd(z,{lastCommittedPoint:z.points[z.points.length-1]});Qg(d.canvas,Sb.oc.POINTER)}else{g=wg(n.origin.x,n.origin.y,"draw"===h?null:d.state.gridSize);var X=d.state;G=X.currentItemStartArrowhead;X=X.currentItemEndArrowhead;G="arrow"===h?[G,X]:[null,null];var S=Nh({type:h,x:g[0],y:g[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:G[0],endArrowhead:G[1]});d.setState(function(da){var ua;return{selectedElementIds:Oc(Oc({},da.selectedElementIds),{},(ua={},ua[S.id]=!1,ua))}});Dd(S,{points:Yf(Yf([],S.points),[[0,
0]])});n=fj(n.origin,d.scene);d.scene.replaceAllElements(Yf(Yf([],d.scene.getElementsIncludingDeleted()),[S]));d.setState({draggingElement:S,editingElement:S,startBoundElement:n,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(g,h){h=wg(h.origin.x,h.origin.y,d.state.gridSize);g=Mh({type:g,x:h[0],y:h[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,
strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===g.type?d.setState({selectionElement:g,draggingElement:g}):(d.scene.replaceAllElements(Yf(Yf([],d.scene.getElementsIncludingDeleted()),[g])),d.setState({multiElement:null,draggingElement:g,editingElement:g}))};this.updateBindingEnabledOnPointerMove=function(g){g=!g[Id];d.state.isBindingEnabled!==g&&d.setState({isBindingEnabled:g})};
this.maybeSuggestBindingAtCursor=function(g){g=fj(g,d.scene);d.setState({suggestedBindings:null!=g?[g]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(g,h,n,z){h=fj(n,d.scene);d.setState({suggestedBindings:null==h||(null==z?void 0:z.id)===h.id&&3>g.points.length?[]:[h]})};this.handleCanvasRef=function(g){var h,n,z;null!==g?(d.canvas=g,d.rc=lh.canvas(d.canvas),d.canvas.addEventListener(Sb.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Sb.Ks.TOUCH_START,d.onTapStart),
d.canvas.addEventListener(Sb.Ks.TOUCH_END,d.onTapEnd)):(null===(h=d.canvas)||void 0===h||h.removeEventListener(Sb.Ks.WHEEL,d.handleWheel),null===(n=d.canvas)||void 0===n||n.removeEventListener(Sb.Ks.TOUCH_START,d.onTapStart),null===(z=d.canvas)||void 0===z||z.removeEventListener(Sb.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var g=nd()(function(h){var n,z,G,X,S,da,ua,oa,Na,Sa,Ta;return zm(this,function(hb){switch(hb.label){case 0:return hb.trys.push([0,3,,4]),"image/png"!==(null==
(z=h.dataTransfer.files[0])?void 0:z.type)&&"image/svg+xml"!==(null==z?void 0:z.type)?[3,2]:[4,kl(z,d.state)];case 1:return G=hb.sent(),X=G.elements,S=G.appState,d.syncActionResult({elements:X,appState:Oc(Oc({},S||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return da=hb.sent(),[2,d.setState({isLoading:!1,errorMessage:da.message})];case 4:if(""!==(ua=h.dataTransfer.getData(Sb.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(ua),h.clientX,h.clientY),
[2];if(!("application/json"===(null==(oa=null===(n=h.dataTransfer)||void 0===n?void 0:n.files[0])?void 0:oa.type)||null!=oa&&oa.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];hb.label=5;case 5:return hb.trys.push([5,7,,8]),Na=h.dataTransfer.items[0],Sa=oa,[4,Na.getAsFileSystemHandle()];case 6:return Sa.handle=hb.sent(),[3,8];case 7:return Ta=hb.sent(),console.warn(Ta.name,Ta.message),[3,8];case 8:return kl(oa,
d.state).then(function(fb){return d.syncActionResult({elements:fb.elements,appState:Oc(Oc({},fb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(fb){d.setState({isLoading:!1,errorMessage:fb.message})}),[3,10];case 9:(null==oa?void 0:oa.type)===Sb.LO.excalidrawlib||null!=oa&&oa.name.endsWith(".excalidrawlib")?zg.importLibrary(oa).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(fb){return d.setState({isLoading:!1,errorMessage:fb.message})}):d.setState({isLoading:!1,
errorMessage:jb("alerts.couldNotLoadInvalidFile")}),hb.label=10;case 10:return[2]}})});return function(h){return g.apply(this,arguments)}}();this.handleCanvasContextMenu=function(g){g.preventDefault();d.openContextMenu(g)};this.maybeDragNewGenericElement=function(g,h){var n=d.state.draggingElement,z=g.lastCoords;if(n)if("selection"===n.type)Df(n,d.state.elementType,g.origin.x,g.origin.y,z.x,z.y,Math.abs(g.origin.x-z.x),Math.abs(g.origin.y-z.y),h.shiftKey,h.altKey);else{var G=wg(z.x,z.y,d.state.gridSize);
z=G[0];G=G[1];Df(n,d.state.elementType,g.originInGrid.x,g.originInGrid.y,z,G,Math.abs(g.originInGrid.x-z),Math.abs(g.originInGrid.y-G),h.shiftKey,h.altKey);d.maybeSuggestBindingForAll([n])}};this.maybeHandleResize=function(g,h){var n=Ee(d.scene.getElements(),d.state),z=g.resize.handleType;d.setState({isResizing:z&&"rotation"!==z,isRotating:"rotation"===z});var G=g.lastCoords;G=wg(G.x-g.resize.offset.x,G.y-g.resize.offset.y,d.state.gridSize);a:{var X=g.resize.arrowDirection,S=h.shiftKey,da=h.altKey;
h=h.shiftKey;var ua=G[0],oa=G[1];G=g.resize.center.x;var Na=g.resize.center.y;if(1===n.length){G=n[0];if("rotation"===z)z=Ne(G),z=5*Math.PI/2+Math.atan2(oa-(z[1]+z[3])/2,ua-(z[0]+z[2])/2),S&&(z+=Sb.ay/2,z-=z%Sb.ay),z=pe(z),Dd(G,{angle:z}),zh(G);else if(!Md(G)||2!==G.points.length||"nw"!==z&&"ne"!==z&&"sw"!==z&&"se"!==z)if(!lf(G)||"nw"!==z&&"ne"!==z&&"sw"!==z&&"se"!==z){if(z){X=g.originalElements.get(G.id);var Sa=pg(X,X.width,X.height);S=[Sa[0],Sa[1]];g=[Sa[2],Sa[3]];Sa=[(S[0]+g[0])/2,(S[1]+g[1])/
2];Na=Uj([ua,oa],Sa,-X.angle);ua=pg(G,G.width,G.height);var Ta=ua[2]-ua[0],hb=ua[3]-ua[1];ua=(g[0]-S[0])/Ta;oa=(g[1]-S[1])/hb;z.includes("e")&&(ua=(Na[0]-S[0])/Ta);z.includes("s")&&(oa=(Na[1]-S[1])/hb);z.includes("w")&&(ua=(g[0]-Na[0])/Ta);z.includes("n")&&(oa=(g[1]-Na[1])/hb);Na=X.width;Ta=X.height;ua*=G.width;oa*=G.height;if(da&&(ua=2*ua-Na,oa=2*oa-Ta),h){hb=Math.abs(ua)/Na;var fb=Math.abs(oa)/Ta;if(1===z.length&&(oa*=hb,ua*=fb),2===z.length)hb=Math.max(hb,fb),ua=Na*hb*Math.sign(ua),oa=Ta*hb*Math.sign(oa)}fb=
pg(X,ua,oa);Na=fb[0];Ta=fb[1];hb=fb[2]-Na;fb=fb[3]-Ta;var Eb=Qf([],S);if(["n","w","nw"].includes(z)&&(Eb=[g[0]-Math.abs(hb),g[1]-Math.abs(fb)]),"ne"===z)Eb=[S[0],g[1]],Eb=[Eb[0],Eb[1]-Math.abs(fb)];"sw"===z&&(S=[g[0],S[1]],Eb=[S[0]-Math.abs(hb),S[1]]);h&&(["s","n"].includes(z)&&(Eb[0]=Sa[0]-hb/2),["e","w"].includes(z)&&(Eb[1]=Sa[1]-fb/2));0>ua&&(z.includes("e")&&(Eb[0]-=Math.abs(hb)),z.includes("w")&&(Eb[0]+=Math.abs(hb)));0>oa&&(z.includes("s")&&(Eb[1]-=Math.abs(fb)),z.includes("n")&&(Eb[1]+=Math.abs(fb)));
da&&(Eb[0]=Sa[0]-Math.abs(hb)/2,Eb[1]=Sa[1]-Math.abs(fb)/2);z=X.angle;da=Uj(Eb,Sa,z);h=Uj([Eb[0]+Math.abs(hb)/2,Eb[1]+Math.abs(fb)/2],Sa,z);Eb=Uj(da,h,-z);z=Pe(X,ua,oa);da=Qf([],Eb);da[0]+=X.x-Na;da[1]+=X.y-Ta;z=Mb({width:Math.abs(ua),height:Math.abs(oa),x:da[0],y:da[1]},z);0!==z.width&&0!==z.height&&Number.isFinite(z.x)&&Number.isFinite(z.y)&&(zh(G,{newSize:{width:z.width,height:z.height}}),Dd(G,z))}}else{X=Ne(G);g=X[0];S=X[1];h=X[2];X=X[3];oa=le(ua,oa,(g+h)/2,(S+X)/2,-G.angle);ua=oa[0];oa=oa[1];
switch(z){case "se":Sa=Math.max((ua-g)/(h-g),(oa-S)/(X-S));break;case "nw":Sa=Math.max((h-ua)/(h-g),(X-oa)/(X-S));break;case "ne":Sa=Math.max((ua-g)/(h-g),(X-oa)/(X-S));break;case "sw":Sa=Math.max((h-ua)/(h-g),(oa-S)/(X-S))}0<Sa&&(ua=G.width*Sa,Sa*=G.height,oa=cg(G,ua,Sa),null!==oa&&(Na=pg(G,ua,Sa),g=(g-Na[0])/2,S=(S-Na[1])/2,h=(h-Na[2])/2,X=(X-Na[3])/2,z={n:/^(n|ne|nw)$/.test(z)||da&&/^(s|se|sw)$/.test(z),s:/^(s|se|sw)$/.test(z)||da&&/^(n|ne|nw)$/.test(z),w:/^(w|nw|sw)$/.test(z)||da&&/^(e|ne|se)$/.test(z),
e:/^(e|ne|se)$/.test(z)||da&&/^(w|nw|sw)$/.test(z)},z=ii(z,G.x,G.y,G.angle,g,S,h,X),Dd(G,{fontSize:oa.size,width:ua,height:Sa,baseline:oa.baseline,x:z[0],y:z[1]})));zh(G)}else z=Ne(G),da=le(ua,oa,(z[0]+z[2])/2,(z[1]+z[3])/2,-G.angle),z=da[0],da=da[1],da="end"===X?[z-G.x,da-G.y]:[G.x+G.points[1][0]-z,G.y+G.points[1][1]-da],z=da[0],da=da[1],S&&(h=G.angle,z=Gf.apply(void 0,Qf([G.type],le(z,da,0,0,h))),da=le(z.width,z.height,0,0,-h),z=da[0],da=da[1]),h=ii("end"===X?{s:!0,e:!0}:{n:!0,w:!0},G.x,G.y,G.angle,
0,0,(G.points[1][0]-z)/2,(G.points[1][1]-da)/2),Dd(G,{x:h[0],y:h[1],points:[[0,0],[z,da]]});G=!0}else{if(1<n.length){if("rotation"===z){G=(mg(g,n,ua,oa,S,G,Na),!0);break a}if("nw"===z||"ne"===z||"sw"===z||"se"===z){G=(uk(n,z,ua,oa),!0);break a}}G=!1}}return!!G&&(d.maybeSuggestBindingForAll(n),!0)};this.openContextMenu=function(g){var h,n=g.clientX;g=g.clientY;var z=Lf({clientX:n,clientY:g},d.state),G=z.x,X=z.y,S=Xi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),
da=ll.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());z=Le().matches;var ua=d.scene.getElements();G=d.getElementAtPosition(G,X);X=[];(q&&0<ua.length&&X.push(Qm),Si&&0<ua.length&&X.push(Sm),G)?(d.state.selectedElementIds[G.id]||d.setState({selectedElementIds:(h={},h[G.id]=!0,h)}),d.state.viewModeEnabled?Nl({options:Yf([navigator.clipboard&&Al],X),top:g,left:n,actionManager:d.actionManager,appState:d.state}):Nl({options:Yf(Yf([z&&mn,z&&navigator.clipboard&&
Al,z&&navigator.clipboard&&{name:"paste",perform:function(oa,Na){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},z&&"separator"],X),["separator",Jh,Eh,"separator",S&&Xi,da&&ll,(S||da)&&"separator",Tm,"separator",fm,Kk,e,l,"separator",M,cj]),top:g,left:n,actionManager:d.actionManager,appState:d.state})):(h=Yf(Yf([],X),[void 0===d.props.gridModeEnabled&&Om,void 0===d.props.zenModeEnabled&&fd,void 0===d.props.viewModeEnabled&&Go,bm]),(Nl({options:h,top:g,left:n,
actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||Nl({options:[z&&navigator.clipboard&&{name:"paste",perform:function(oa,Na){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},z&&navigator.clipboard&&"separator",q&&0<ua.length&&Qm,Si&&0<ua.length&&Sm,(q&&0<ua.length||Si&&0<ua.length)&&"separator",E,"separator",void 0===d.props.gridModeEnabled&&Om,void 0===d.props.zenModeEnabled&&fd,void 0===d.props.viewModeEnabled&&Go,bm],top:g,left:n,
actionManager:d.actionManager,appState:d.state}))};this.handleWheel=Cd(function(g){if(g.preventDefault(),!sn){var h=g.deltaX,n=g.deltaY,z=d.state,G=z.selectedElementIds,X=z.previousSelectedElementIds;if(g.metaKey||g.ctrlKey){g=Math.sign(n);z=Math.abs(n);10<z&&(z=10);z*=g;0!==Object.keys(X).length&&setTimeout(function(){d.setState({selectedElementIds:X,previousSelectedElementIds:{}})},1E3);var S=d.state.zoom.value-z/100;return S+=Math.log10(Math.max(1,d.state.zoom.value))*-g,S=Math.round(S*Sb.V4*100)/
(100*Sb.V4),d.setState(function(da){var ua=da.zoom,oa=da.offsetLeft;da=da.offsetTop;return{zoom:Rh(hj(S),ua,{left:oa,top:da},{x:Vm,y:Wm}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(G).length?G:X,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}g.shiftKey?d.setState(function(da){return{scrollX:da.scrollX-(n||h)/da.zoom.value}}):d.setState(function(da){var ua=da.zoom;return{scrollX:da.scrollX-h/ua.value,scrollY:da.scrollY-n/ua.value}})}});this.savePointer=
function(g,h,n){var z,G;g&&h&&(g=Lf({clientX:g,clientY:h},d.state),isNaN(g.x)||isNaN(g.y),null===(z=(G=d.props).onPointerUpdate)||void 0===z||z.call(G,{pointer:g,button:n,pointersMap:fk}))};this.resetShouldCacheIgnoreZoomDebounced=Kf(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Sb.Vi.TEST&&"production"!==Sb.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},
set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return dj}},library:{configurable:!0,value:zg}}));m(8234);m(4651);var Ho=function(d){var g=d.width,h=d.height,n=d.offsetLeft,z=d.offsetTop,G=d.onChange,X=d.initialData,S=d.excalidrawRef,da=d.onCollabButtonClick,ua=d.isCollaborating,oa=d.onPointerUpdate,Na=d.onExportToBackend,Sa=d.renderFooter,Ta=d.langCode;Ta=void 0===Ta?Rf.code:Ta;var hb=d.viewModeEnabled,fb=d.zenModeEnabled;d=d.gridModeEnabled;
return(0,Kd.useEffect)(function(){var Eb=function(kc){"number"==typeof kc.scale&&1!==kc.scale&&kc.preventDefault()};return document.addEventListener("touchmove",Eb,{passive:!1}),function(){document.removeEventListener("touchmove",Eb)}},[]),sa().createElement(zj,{langCode:Ta},sa().createElement(Qe,null,sa().createElement(lo,{width:g,height:h,offsetLeft:n,offsetTop:z,onChange:G,initialData:X,excalidrawRef:S,onCollabButtonClick:da,isCollaborating:ua,onPointerUpdate:oa,onExportToBackend:Na,renderFooter:Sa,
langCode:Ta,viewModeEnabled:hb,zenModeEnabled:fb,gridModeEnabled:d})))};Ho.defaultProps={lanCode:Rf.code};var Lp=(0,Kd.forwardRef)(function(d,g){return sa().createElement(Ho,Tf()({},d,{excalidrawRef:g}))});const Mp=sa().memo(Lp,function(d,g){d.initialData;var h=xi()(d,["initialData"]),n=(g.initialData,xi()(g,["initialData"]));d=Object.keys(d);g=Object.keys(g);return d.length===g.length&&d.every(function(z){return h[z]===n[z]})});m(6009);const Np=Mp},4698:J=>{J.exports=I},6207:J=>{J.exports=x}},b=
{};return w.m=F,w.n=J=>{var r=J&&J.__esModule?()=>J.default:()=>J;return w.d(r,{a:r}),r},v=Object.getPrototypeOf?J=>Object.getPrototypeOf(J):J=>J.__proto__,w.t=function(J,r){if((1&r&&(J=this(J)),8&r)||"object"==typeof J&&J&&(4&r&&J.__esModule||16&r&&"function"==typeof J.then))return J;var m=Object.create(null);w.r(m);var D={};u=u||[null,v({}),v([]),v(v)];for(r=2&r&&J;"object"==typeof r&&!~u.indexOf(r);r=v(r))Object.getOwnPropertyNames(r).forEach(L=>D[L]=()=>J[L]);return D.default=()=>J,w.d(m,D),m},
w.d=(J,r)=>{for(var m in r)w.o(r,m)&&!w.o(J,m)&&Object.defineProperty(J,m,{enumerable:!0,get:r[m]})},w.f={},w.e=J=>Promise.all(Object.keys(w.f).reduce((r,m)=>(w.f[m](J,r),r),[])),w.u=J=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",
317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[J]+"-"+{9:"4c2d5c85067885b645af",
43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",
465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[J]+".js",w.o=(J,r)=>Object.prototype.hasOwnProperty.call(J,r),y={},w.l=
(J,r,m,D)=>{if(y[J])y[J].push(r);else{var L;if(void 0!==m){D=document.getElementsByTagName("script");for(var N=0;N<D.length;N++){var R=D[N];if(R.getAttribute("src")==J||R.getAttribute("data-webpack")=="Excalidraw:"+m){var la=R;break}}}la||(L=!0,(la=document.createElement("script")).charset="utf-8",la.timeout=120,w.nc&&la.setAttribute("nonce",w.nc),la.setAttribute("data-webpack","Excalidraw:"+m),la.src=J);y[J]=[r];r=(T,Y)=>{la.onerror=la.onload=null;clearTimeout(Z);var V=y[J];if(delete y[J],la.parentNode&&
la.parentNode.removeChild(la),V&&V.forEach(za=>za(Y)),T)return T(Y)};var Z=setTimeout(r.bind(null,void 0,{type:"timeout",target:la}),12E4);la.onerror=r.bind(null,la.onerror);la.onload=r.bind(null,la.onload);L&&document.head.appendChild(la)}},w.r=J=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"});Object.defineProperty(J,"__esModule",{value:!0})},w.p="",(()=>{var J={163:0};w.f.j=(D,L)=>{var N=w.o(J,D)?J[D]:void 0;if(0!==N)if(N)L.push(N[2]);
else{var R=new Promise((Z,T)=>{N=J[D]=[Z,T]});L.push(N[2]=R);L=w.p+w.u(D);var la=Error();w.l(L,Z=>{if(w.o(J,D)&&(0!==(N=J[D])&&(J[D]=void 0),N)){var T=Z&&("load"===Z.type?"missing":Z.type);Z=Z&&Z.target&&Z.target.src;la.message="Loading chunk "+D+" failed.\n("+T+": "+Z+")";la.name="ChunkLoadError";la.type=T;la.request=Z;N[1](la)}},"chunk-"+D,D)}};var r=(D,L)=>{for(var N,R,[la,Z,T]=L,Y=0,V=[];Y<la.length;Y++)R=la[Y],w.o(J,R)&&J[R]&&V.push(J[R][0]),J[R]=0;for(N in Z)w.o(Z,N)&&(w.m[N]=Z[N]);T&&T(w);
for(D&&D(L);V.length;)V.shift()()},m=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];m.forEach(r.bind(null,0));m.push=r.bind(null,m.push.bind(m))})(),w(3956)})()})};
var UGb=function(a,b){var c=$APP.rC();$APP.l(c)&&$APP.kB($APP.cT(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Xk($APP.E(["Error loading ",a,": ",d]))})},WGb=function(a){var b=$APP.Nx(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Fi(VGb.F(a),b);return a},XGb=new $APP.H(null,"view-mode-enabled","view-mode-enabled",-588220561),YGb=new $APP.H($APP.va,"view-mode?","frontend.extensions.excalidraw/view-mode?",525380621),ZGb=new $APP.H(null,
"viewBackgroundColor","viewBackgroundColor",1889137994),$Gb=new $APP.H(null,"grid-mode-enabled","grid-mode-enabled",584978327),aHb=new $APP.H(null,"gridSize","gridSize",843108791),bHb=new $APP.H($APP.va,"elements","frontend.extensions.excalidraw/elements",1745667967),cHb=new $APP.H($APP.va,"loading?","frontend.extensions.excalidraw/loading?",-1335058663),dHb=new $APP.H($APP.va,"data","frontend.extensions.excalidraw/data",-1371036113),eHb=new $APP.H(null,"zen-mode-enabled","zen-mode-enabled",-955634269),
fHb=new $APP.H($APP.va,"zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),gHb=new $APP.H(null,"appState","appState",-1920687968),hHb=new $APP.H(null,"initial-data","initial-data",-1315709804),VGb=new $APP.H($APP.va,"draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Oca("excalidraw");var iHb=$APP.ix(296);var jHb,kHb,lHb,mHb;$APP.PEb={};jHb=$APP.BM($APP.jb(iHb,"default"));kHb=$APP.ll.F(null);
lHb=$APP.Hx($APP.Lx,function(a,b,c){$APP.mC($APP.qC);$APP.Qx(kHb);var d=$APP.F.B(a,VGb),e=$APP.F.B(a,fHb),f=$APP.F.B(a,YGb),k=$APP.mC($APP.uM),m=$APP.F.B(a,bHb),p=$APP.gn.F(c);return $APP.l(b)?$APP.S("div",{onMouseDown:function(q){return $APP.uB(q)},className:"overflow-hidden"},[$APP.S("div",{style:{fontSize:10},className:"my-1"},[$APP.S("a",{onClick:$APP.oIa,className:"mr-2"},[$APP.px($APP.iB("Wide Mode (%s)",$APP.E([$APP.l(k)?"ON":"OFF"])))]),$APP.S("a",{onClick:function(){return $APP.ml.B(e,$APP.Bd)},
className:"mr-2"},[$APP.px($APP.iB("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.S("a",{onClick:function(){return $APP.ml.B(f,$APP.Bd)},className:"mr-2"},[$APP.px($APP.iB("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.S("div",{onMouseDown:function(q){$APP.uB(q);return $APP.oC($APP.S_,!0)},onBlur:function(){return $APP.oC($APP.S_,!1)},className:"draw-wrap"},[$APP.px(jHb($APP.Gn.K($APP.E([new $APP.h(null,6,[$APP.GW,function(q,u){var x=$APP.sv(q);return $APP.v(x)&&
$APP.kk.B(q,$APP.r(m))?(u=$APP.sv(u),$APP.DTa(p,JSON.stringify($APP.tv(new $APP.h(null,5,[$APP.en,"excalidraw",$APP.s6a,2,$APP.Gr,$APP.MT,$APP.E5,q,gHb,$APP.mk(u,new $APP.J(null,2,5,$APP.M,[aHb,ZGb],null))],null)))),$APP.Fi(m,q)):null},eHb,$APP.r(e),XGb,$APP.r(f),$Gb,!1,hHb,b,$APP.TM,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.SM,650],null):new $APP.h(null,1,[$APP.SM,500],null)]))))])]):null},new $APP.J(null,7,5,$APP.M,[$APP.Q8,$APP.Ox(800,VGb),$APP.Ox(!0,fHb),$APP.Ox(!1,YGb),$APP.Ox(null,
bHb),new $APP.h(null,1,[$APP.Dx,WGb],null),new $APP.h(null,1,[$APP.Fx,WGb],null)],null),"frontend.extensions.excalidraw/draw-inner");
mHb=$APP.Hx($APP.Lx,function(a,b){var c=$APP.F.B(a,dHb);a=$APP.F.B(a,cHb);a=$APP.Qx(a);c=$APP.Qx(c);var d=$APP.mC($APP.kvb);return $APP.l($APP.gn.F(b))?$APP.l(d)?(b=$APP.KW("Loading"),$APP.S("div",$APP.Lf(b)?$APP.ox($APP.nx($APP.E([new $APP.h(null,1,[$APP.mx,new $APP.J(null,1,5,$APP.M,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Lf(b)?null:[$APP.px(b)])):!1===a?lHb(c,b):null:null},new $APP.J(null,2,5,$APP.M,[$APP.Q8,new $APP.h(null,1,[$APP.Ax,function(a){var b=$APP.Ix.F(a);b=$APP.C.G(b,
0,null);b=$APP.gn.F(b);var c=$APP.ll.F(null),d=$APP.ll.F(!0);$APP.l(b)&&UGb(b,function(e){if($APP.Gm(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.Xk($APP.E(["from json error:"])),console.dir(e),f=$APP.PM($APP.Zsa("Could not load this invalid excalidraw file"),$APP.Ap);else throw k;}$APP.Fi(c,f);return $APP.Fi(d,!1)});return $APP.lk.K(a,dHb,c,$APP.E([cHb,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.QEb=$APP.Hx($APP.Kx,function(a){var b=$APP.rC(),c=$APP.mC(new $APP.J(null,2,5,$APP.M,[$APP.kN,b],null));return $APP.VD(b)&&$APP.Bd(c)&&$APP.Bd($APP.hB())?null:mHb(a)},new $APP.J(null,1,5,$APP.M,[$APP.Q8],null),"frontend.extensions.excalidraw/draw");$APP.lc.ii();
}).call(this);